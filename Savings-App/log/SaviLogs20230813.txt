2023-08-13 02:46:33.237 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 02:46:33.703 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 02:46:33.704 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 02:46:33.780 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 02:46:34.000 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:46:34.017 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:46:42.834 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 02:46:43.276 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 02:46:43.277 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 02:46:43.357 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 02:46:43.549 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:46:43.584 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 02:46:43.584 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 02:46:43.587 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 02:46:43.688 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:46:43.690 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:46:43.773 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:46:58.853 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 02:46:59.288 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 02:46:59.288 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 02:46:59.364 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 02:46:59.540 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:46:59.578 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.584 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.594 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.595 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.595 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.595 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.602 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.609 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.615 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-08-13 02:46:59.621 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 02:46:59.649 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 02:46:59.651 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.654 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.715 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:46:59.717 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:46:59.739 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.740 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.740 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.740 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.740 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 02:46:59.751 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 02:46:59.751 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.751 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.752 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.753 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.757 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 02:46:59.757 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 02:46:59.757 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.757 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.758 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 02:46:59.759 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 02:46:59.759 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.759 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.760 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:46:59.760 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:46:59.760 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.760 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.761 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 02:46:59.761 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 02:46:59.762 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:46:59.762 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.762 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.770 +01:00 [INF] Applying migration '20230813014643_init'.
2023-08-13 02:46:59.815 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.815 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.816 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:46:59.818 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:46:59.818 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.818 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.818 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 02:46:59.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 02:46:59.819 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.819 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.819 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 02:46:59.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 02:46:59.819 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.819 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.819 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 02:46:59.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 02:46:59.819 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.819 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.819 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 02:46:59.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 02:46:59.819 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.819 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.819 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.819 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.819 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.819 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.820 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.820 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.820 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.820 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.820 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.820 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.820 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 02:46:59.821 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 02:46:59.821 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.821 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.821 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 02:46:59.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 02:46:59.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.822 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 02:46:59.823 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 02:46:59.823 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 02:46:59.823 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 02:46:59.823 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813014643_init', '6.0.20');
2023-08-13 02:46:59.823 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813014643_init', '6.0.20');
2023-08-13 02:46:59.823 +01:00 [DBG] Committing transaction.
2023-08-13 02:46:59.832 +01:00 [DBG] Committed transaction.
2023-08-13 02:46:59.833 +01:00 [DBG] Disposing transaction.
2023-08-13 02:46:59.833 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:46:59.833 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:46:59.834 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:47:09.963 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 02:47:10.081 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 02:47:11.061 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 02:47:11.062 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 02:47:11.214 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 02:47:11.580 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:47:11.667 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:11.684 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:11.696 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 02:47:11.703 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 02:47:11.705 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:11.708 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:11.716 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 02:47:11.735 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 02:47:11.740 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:11.744 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:11.790 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 02:47:12.064 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 02:47:12.096 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.096 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.096 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.096 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.097 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 02:47:12.099 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 02:47:12.104 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.104 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.104 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.291 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-08-13 02:47:12.390 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 02:47:12.424 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.424 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.433 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.433 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.438 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 02:47:12.446 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 02:47:12.457 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.461 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.462 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.525 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.533 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:47:12.534 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:47:12.542 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:47:12.561 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.561 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.563 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:47:12.568 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:47:12.609 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.609 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.609 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 02:47:12.610 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 02:47:12.613 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.618 +01:00 [DBG] Committing transaction.
2023-08-13 02:47:12.630 +01:00 [DBG] Committed transaction.
2023-08-13 02:47:12.634 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.634 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.637 +01:00 [DBG] Disposing transaction.
2023-08-13 02:47:12.646 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.648 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 02:47:12.650 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.650 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.650 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.650 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.650 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 02:47:12.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 02:47:12.650 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.650 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.650 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.650 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.651 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:47:12.651 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:47:12.653 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:47:12.653 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.653 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.653 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:47:12.653 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:47:12.653 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.654 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.654 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 02:47:12.654 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 02:47:12.654 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.654 +01:00 [DBG] Committing transaction.
2023-08-13 02:47:12.655 +01:00 [DBG] Committed transaction.
2023-08-13 02:47:12.655 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.655 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.655 +01:00 [DBG] Disposing transaction.
2023-08-13 02:47:12.656 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.656 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 02:47:12.706 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Category'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.727 +01:00 [DBG] Context 'SaviContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.730 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.739 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.739 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.739 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.739 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.739 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.739 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:47:12.739 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:47:12.750 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:47:12.751 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.751 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.751 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:47:12.751 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:47:12.752 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.752 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.753 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.753 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.753 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.754 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.754 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.754 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.754 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.754 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.754 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.754 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.754 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.754 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.754 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.754 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:47:12.754 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:47:12.754 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.754 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 02:47:12.754 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:47:12.754 +01:00 [DBG] Committing transaction.
2023-08-13 02:47:12.756 +01:00 [DBG] Committed transaction.
2023-08-13 02:47:12.756 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:47:12.756 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:47:12.756 +01:00 [DBG] Disposing transaction.
2023-08-13 02:47:12.757 +01:00 [DBG] An entity of type 'Category' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.757 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.757 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.757 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:47:12.757 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 4 entities written to the database.
2023-08-13 02:47:12.759 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:47:12.792 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 02:47:12.821 +01:00 [DBG] Hosting starting
2023-08-13 02:47:12.824 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 02:47:12.827 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 02:47:12.827 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 02:47:12.833 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 02:47:12.836 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 02:47:12.836 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 02:47:12.842 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 02:47:12.843 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 02:47:12.843 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 02:47:12.844 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 02:47:12.845 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 02:47:12.847 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 02:47:12.849 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 02:47:12.850 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 02:47:12.980 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 02:47:13.026 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 02:47:13.026 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 02:47:13.026 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 02:47:13.026 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 02:47:13.026 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 02:47:13.026 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 02:47:13.026 +01:00 [INF] Hosting environment: Development
2023-08-13 02:47:13.027 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 02:47:13.027 +01:00 [DBG] Hosting started
2023-08-13 02:47:13.205 +01:00 [DBG] Connection id "0HMSRJSRJT9OR" accepted.
2023-08-13 02:47:13.206 +01:00 [DBG] Connection id "0HMSRJSRJT9OR" started.
2023-08-13 02:47:13.235 +01:00 [DBG] Connection id "0HMSRJSRJT9OS" accepted.
2023-08-13 02:47:13.236 +01:00 [DBG] Connection id "0HMSRJSRJT9OS" started.
2023-08-13 02:47:13.984 +01:00 [DBG] Connection id "0HMSRJSRJT9OT" accepted.
2023-08-13 02:47:13.985 +01:00 [DBG] Connection id "0HMSRJSRJT9OT" started.
2023-08-13 02:47:14.402 +01:00 [DBG] Connection 0HMSRJSRJT9OT established using the following protocol: "Tls13"
2023-08-13 02:47:14.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 02:47:14.731 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 02:47:14.792 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 02:47:14.793 +01:00 [DBG] Request did not match any endpoints
2023-08-13 02:47:14.940 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 02:47:15.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 02:47:15.307 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 02:47:15.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 02:47:15.355 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 52.6032ms
2023-08-13 02:47:15.355 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 691.9800ms
2023-08-13 02:47:15.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 139.3623ms
2023-08-13 02:47:15.687 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 02:47:15.688 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 02:47:15.688 +01:00 [DBG] Request did not match any endpoints
2023-08-13 02:47:16.042 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 355.8826ms
2023-08-13 02:47:17.913 +01:00 [DBG] Connection id "0HMSRJSRJT9OT" received FIN.
2023-08-13 02:47:17.913 +01:00 [DBG] Connection id "0HMSRJSRJT9OT" is closed. The last processed stream ID was 7.
2023-08-13 02:47:17.914 +01:00 [DBG] Connection id "0HMSRJSRJT9OT" sending FIN because: "The client closed the connection."
2023-08-13 02:47:17.923 +01:00 [DBG] Connection id "0HMSRJSRJT9OT" stopped.
2023-08-13 02:47:23.247 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-13 02:47:23.247 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-13 02:47:23.247 +01:00 [DBG] Connection id "0HMSRJSRJT9OR" stopped.
2023-08-13 02:47:23.247 +01:00 [DBG] Connection id "0HMSRJSRJT9OS" stopped.
2023-08-13 02:47:23.247 +01:00 [DBG] Connection id "0HMSRJSRJT9OR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 02:47:23.247 +01:00 [DBG] Connection id "0HMSRJSRJT9OS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 02:48:52.783 +01:00 [DBG] Connection id "0HMSRJSRJT9OU" accepted.
2023-08-13 02:48:52.790 +01:00 [DBG] Connection id "0HMSRJSRJT9OU" started.
2023-08-13 02:48:52.813 +01:00 [DBG] Connection 0HMSRJSRJT9OU established using the following protocol: "Tls13"
2023-08-13 02:48:52.817 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140
2023-08-13 02:48:52.825 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 02:48:52.826 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 02:48:52.826 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 02:48:52.833 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 02:48:52.844 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 02:48:52.846 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 02:48:52.866 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 02:48:52.867 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 02:48:52.867 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 02:48:52.867 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 02:48:52.867 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 02:48:52.868 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 02:48:52.868 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 02:48:53.017 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:48:53.018 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 02:48:53.026 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 02:48:53.028 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 02:48:53.028 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 02:48:53.031 +01:00 [DBG] Connection id "0HMSRJSRJT9OU", Request id "0HMSRJSRJT9OU:00000001": started reading request body.
2023-08-13 02:48:53.031 +01:00 [DBG] Connection id "0HMSRJSRJT9OU", Request id "0HMSRJSRJT9OU:00000001": done reading request body.
2023-08-13 02:48:53.038 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 02:48:53.039 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 02:48:53.039 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 02:48:53.039 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 02:48:53.046 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 02:48:53.047 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 02:48:53.048 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 02:48:53.048 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 02:48:53.048 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 02:48:53.048 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 02:48:53.049 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 02:48:53.057 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-08-13 02:48:53.061 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 02:48:53.062 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:48:53.062 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:48:53.062 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.062 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.062 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 02:48:53.062 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 02:48:53.062 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:48:53.062 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.062 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.098 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-08-13 02:48:53.101 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 02:48:53.101 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:48:53.101 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:48:53.101 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.101 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.101 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 02:48:53.101 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 02:48:53.101 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:48:53.101 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.101 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.143 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:48:53.143 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:48:53.143 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:48:53.149 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:48:53.149 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.149 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.149 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:48:53.149 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:48:53.149 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:48:53.149 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:48:53.149 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 18), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 5), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 18), @p12='?' (Size = 18), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 02:48:53.150 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 18), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 5), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 18), @p12='?' (Size = 18), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 02:48:53.150 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:48:53.150 +01:00 [DBG] Committing transaction.
2023-08-13 02:48:53.151 +01:00 [DBG] Committed transaction.
2023-08-13 02:48:53.151 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.152 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.152 +01:00 [DBG] Disposing transaction.
2023-08-13 02:48:53.153 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:48:53.153 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 02:48:53.158 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:48:53.177 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:48:53.180 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:48:53.180 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:48:53.183 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:48:53.186 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.186 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.186 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:48:53.187 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:48:53.189 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:48:53.189 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:48:53.189 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 10), @p6='?' (Size = 36), @p7='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "IsDeleted", "ModifiedAt", "WalletId", "applicationUserId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2023-08-13 02:48:53.190 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 10), @p6='?' (Size = 36), @p7='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "IsDeleted", "ModifiedAt", "WalletId", "applicationUserId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2023-08-13 02:48:53.191 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:48:53.192 +01:00 [DBG] Committing transaction.
2023-08-13 02:48:53.195 +01:00 [DBG] Committed transaction.
2023-08-13 02:48:53.195 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:48:53.195 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:48:53.196 +01:00 [DBG] Disposing transaction.
2023-08-13 02:48:53.196 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:48:53.196 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 02:48:53.216 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 02:48:53.224 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkRtn2mC8qAFZY8b7PJr7R2sGuDNuKD6Xrkw5rom5515QYMCp2ZVFoheFbsixWx45%2FRnEF6evskujpRpcu23OHRX9l0rJ7n4H9%2F%2FOOJNTmVBf%2Bk8MMvurFbsh7a3%2BO3q1tL7RJvT2UhYOsZZcLOvoSEWluJWrD3p5Ht5uDGy7WHs0uQvDlsZXBXX0UTEAKemfjuWZJrRpfoaJysfe7mUBkCPDk6dhw1evQRhFCVrB%2BxWdw%3D%3D&email=alabisdq@gmail.com
2023-08-13 02:48:53.225 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkRtn2mC8qAFZY8b7PJr7R2sGuDNuKD6Xrkw5rom5515QYMCp2ZVFoheFbsixWx45%2FRnEF6evskujpRpcu23OHRX9l0rJ7n4H9%2F%2FOOJNTmVBf%2Bk8MMvurFbsh7a3%2BO3q1tL7RJvT2UhYOsZZcLOvoSEWluJWrD3p5Ht5uDGy7WHs0uQvDlsZXBXX0UTEAKemfjuWZJrRpfoaJysfe7mUBkCPDk6dhw1evQRhFCVrB%2BxWdw%3D%3D&email=alabisdq@gmail.com
2023-08-13 02:48:53.465 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 593.9958ms
2023-08-13 02:48:53.467 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 02:48:53.468 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 02:48:53.513 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:48:53.516 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140 - 500 - text/plain;+charset=utf-8 699.7300ms
2023-08-13 02:49:36.569 +01:00 [DBG] Connection id "0HMSRJSRJT9OU" received FIN.
2023-08-13 02:49:36.617 +01:00 [DBG] Connection id "0HMSRJSRJT9OU" is closed. The last processed stream ID was 1.
2023-08-13 02:49:36.620 +01:00 [DBG] Connection id "0HMSRJSRJT9OU" sending FIN because: "The client closed the connection."
2023-08-13 02:49:36.632 +01:00 [DBG] Connection id "0HMSRJSRJT9OU" stopped.
2023-08-13 02:50:00.390 +01:00 [DBG] Connection id "0HMSRJSRJT9OV" accepted.
2023-08-13 02:50:00.400 +01:00 [DBG] Connection id "0HMSRJSRJT9OV" started.
2023-08-13 02:50:00.429 +01:00 [DBG] Connection 0HMSRJSRJT9OV established using the following protocol: "Tls13"
2023-08-13 02:50:00.431 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Make-Payment application/json 81
2023-08-13 02:50:00.440 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Make-Payment'
2023-08-13 02:50:00.440 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)' with route pattern 'api/Payment/Make-Payment' is valid for the request path '/api/Payment/Make-Payment'
2023-08-13 02:50:00.440 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)'
2023-08-13 02:50:00.440 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 02:50:00.441 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 02:50:00.441 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)'
2023-08-13 02:50:00.443 +01:00 [INF] Route matched with {action = "CreateTransaction", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 02:50:00.443 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 02:50:00.443 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 02:50:00.443 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 02:50:00.443 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 02:50:00.443 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 02:50:00.444 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:50:00.489 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:50:00.490 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:50:00.490 +01:00 [DBG] Attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest' ...
2023-08-13 02:50:00.490 +01:00 [DBG] Attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest' using the name '' in request data ...
2023-08-13 02:50:00.490 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 02:50:00.491 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000001": started reading request body.
2023-08-13 02:50:00.491 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000001": done reading request body.
2023-08-13 02:50:00.498 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'
2023-08-13 02:50:00.498 +01:00 [DBG] Done attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'.
2023-08-13 02:50:00.498 +01:00 [DBG] Done attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'.
2023-08-13 02:50:00.498 +01:00 [DBG] Attempting to validate the bound parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest' ...
2023-08-13 02:50:00.500 +01:00 [DBG] Done attempting to validate the bound parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'.
2023-08-13 02:50:01.398 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 02:50:01.399 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 02:50:01.399 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 02:50:01.399 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 02:50:01.400 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 02:50:01.400 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[SavingsApp.Data.Entities.DTOs.Response.PaystackTransactionResponse, SavingsApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-13 02:50:01.405 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App) in 961.9256ms
2023-08-13 02:50:01.407 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)'
2023-08-13 02:50:01.409 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:50:01.409 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Make-Payment application/json 81 - 200 - application/json;+charset=utf-8 977.7541ms
2023-08-13 02:53:26.361 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048 application/json 42
2023-08-13 02:53:26.368 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:53:26.370 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:53:26.370 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:53:26.370 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 02:53:26.375 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 02:53:26.375 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:53:26.378 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 02:53:26.378 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 02:53:26.378 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 02:53:26.378 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 02:53:26.378 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 02:53:26.378 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 02:53:26.378 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:53:26.380 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:53:26.380 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:53:26.380 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:53:26.380 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 02:53:26.381 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 02:53:26.381 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000003": started reading request body.
2023-08-13 02:53:26.381 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000003": done reading request body.
2023-08-13 02:53:26.381 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 02:53:26.381 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:53:26.381 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:53:26.381 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:53:26.382 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:53:26.382 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:53:26.382 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 02:53:26.382 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:53:26.382 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:53:26.382 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:53:26.382 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 02:53:26.382 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 02:53:26.382 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name '' in request data ...
2023-08-13 02:53:26.382 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'description' of type 'System.String'.
2023-08-13 02:53:26.382 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:53:26.382 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:53:26.382 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 02:53:26.389 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 02:53:26.390 +01:00 [DBG] The request has model state errors, returning an error response.
2023-08-13 02:53:26.391 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-08-13 02:53:26.391 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 02:53:26.391 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 02:53:26.391 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-08-13 02:53:26.391 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-08-13 02:53:26.392 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-08-13 02:53:26.394 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 16.0058ms
2023-08-13 02:53:26.394 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:53:26.394 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:53:26.395 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048 application/json 42 - 400 - application/problem+json;+charset=utf-8 34.2747ms
2023-08-13 02:53:41.954 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=wallet%20funding application/json 42
2023-08-13 02:53:41.954 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:53:41.954 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:53:41.954 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:53:41.954 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 02:53:41.954 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 02:53:41.954 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:53:41.954 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 02:53:41.954 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 02:53:41.954 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 02:53:41.954 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 02:53:41.954 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 02:53:41.954 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 02:53:41.954 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:53:41.955 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:53:41.955 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 02:53:41.956 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 02:53:41.956 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000005": started reading request body.
2023-08-13 02:53:41.956 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000005": done reading request body.
2023-08-13 02:53:41.956 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:53:41.956 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 02:53:41.956 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 02:53:41.983 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 02:53:41.990 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.IsDeleted (bool) Required, 6], [Property: WalletFunding.ModifiedAt (DateTime) Required, 7], [Property: WalletFunding.Reference (string) Required, 8], [Property: WalletFunding.walletId (string) Required FK Index, 9] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.IsDeleted, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 02:53:41.993 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:53:41.993 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:53:41.993 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:41.993 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:41.994 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 02:53:41.995 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 02:53:41.995 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:53:41.996 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:41.996 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.810 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 02:53:42.815 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.IsDeleted (bool) Required, 3], [Property: Wallet.ModifiedAt (DateTime) Required, 4], [Property: Wallet.WalletId (string) Required, 5], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 6], [Property: Wallet.userId (string) Required, 7] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.IsDeleted, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 02:53:42.816 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:53:42.816 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:53:42.816 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.816 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:42.816 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 02:53:42.817 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 02:53:42.824 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:53:42.824 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:42.824 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.831 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 02:53:42.838 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.IsDeleted (bool) Required, 6], [Property: WalletFunding.ModifiedAt (DateTime) Required, 7], [Property: WalletFunding.Reference (string) Required, 8], [Property: WalletFunding.walletId (string) Required FK Index, 9] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.IsDeleted, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 02:53:42.838 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:53:42.838 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:53:42.838 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.838 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:42.838 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 02:53:42.838 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 02:53:42.838 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:53:42.838 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:42.838 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.839 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:53:42.854 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:53:42.854 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:53:42.854 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:53:42.859 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:53:42.859 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.859 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:42.859 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:53:42.860 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:53:42.860 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:53:42.860 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:53:42.862 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 14), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 02:53:42.867 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 14), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 02:53:42.870 +01:00 [DBG] Disposing transaction.
2023-08-13 02:53:42.871 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:53:42.871 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:53:42.876 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 02:53:43.022 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 1068.015ms
2023-08-13 02:53:43.023 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:53:43.024 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 158
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 02:53:43.034 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:53:43.034 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=wallet%20funding application/json 42 - 500 - text/plain;+charset=utf-8 1080.2743ms
2023-08-13 02:54:17.170 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=wallet%20funding application/json 42
2023-08-13 02:54:17.171 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:54:17.171 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:54:17.171 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:54:17.171 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 02:54:17.172 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 02:54:17.172 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:54:17.172 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 02:54:17.172 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 02:54:17.172 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 02:54:17.172 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 02:54:17.172 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 02:54:17.172 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 02:54:17.172 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:54:17.178 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:54:17.179 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:54:17.179 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:54:17.179 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 02:54:17.179 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 02:54:17.179 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000007": started reading request body.
2023-08-13 02:54:17.179 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000007": done reading request body.
2023-08-13 02:54:17.179 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 02:54:17.179 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:54:17.179 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:54:17.179 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:54:17.179 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:54:17.179 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:54:17.179 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 02:54:17.179 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:54:17.179 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:54:17.179 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:54:17.179 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 02:54:17.180 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 02:54:17.180 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 02:54:17.180 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:54:17.180 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:54:17.180 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 02:54:17.180 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 02:54:17.180 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:54:17.180 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:54:17.180 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.180 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.180 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 02:54:17.180 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 02:54:17.181 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:54:17.181 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.181 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.748 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:54:17.748 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:54:17.748 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.748 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.748 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 02:54:17.748 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 02:54:17.749 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:54:17.749 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.749 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.749 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:54:17.749 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:54:17.749 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.749 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.749 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 02:54:17.750 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 02:54:17.750 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:54:17.750 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.750 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.750 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:54:17.750 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:54:17.750 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:54:17.750 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:54:17.750 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:54:17.750 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.750 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.750 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:54:17.750 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:54:17.751 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:54:17.751 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:54:17.751 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 14), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 02:54:17.752 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 14), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 02:54:17.753 +01:00 [DBG] Disposing transaction.
2023-08-13 02:54:17.753 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:54:17.753 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:54:17.754 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 02:54:17.857 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 684.6422ms
2023-08-13 02:54:17.857 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:54:17.858 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 158
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 02:54:17.860 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:54:17.860 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=wallet%20funding application/json 42 - 500 - text/plain;+charset=utf-8 690.1014ms
2023-08-13 02:54:38.302 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 02:54:38.311 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 02:54:38.311 +01:00 [DBG] Request did not match any endpoints
2023-08-13 02:54:38.311 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 02:54:38.328 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 02:54:38.328 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 26.3157ms
2023-08-13 02:54:38.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 02:54:38.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 02:54:38.339 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 0.8642ms
2023-08-13 02:54:38.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.1407ms
2023-08-13 02:54:39.119 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 02:54:39.119 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 02:54:39.119 +01:00 [DBG] Request did not match any endpoints
2023-08-13 02:54:39.128 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.6333ms
2023-08-13 02:55:13.284 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=funding application/json 42
2023-08-13 02:55:13.284 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:55:13.285 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 02:55:13.285 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:55:13.285 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 02:55:13.285 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 02:55:13.285 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:55:13.285 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 02:55:13.285 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 02:55:13.285 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 02:55:13.285 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 02:55:13.285 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 02:55:13.285 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 02:55:13.285 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:55:13.286 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 02:55:13.286 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 02:55:13.286 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 02:55:13.286 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000011": started reading request body.
2023-08-13 02:55:13.286 +01:00 [DBG] Connection id "0HMSRJSRJT9OV", Request id "0HMSRJSRJT9OV:00000011": done reading request body.
2023-08-13 02:55:13.286 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 02:55:13.286 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 02:55:13.286 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 02:55:13.287 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:55:13.287 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:55:13.287 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.287 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.287 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 02:55:13.287 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 02:55:13.287 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:55:13.287 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.287 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.913 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:55:13.913 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:55:13.913 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.913 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.913 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 02:55:13.913 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 02:55:13.913 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:55:13.913 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.913 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:55:13.914 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:55:13.914 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 02:55:13.914 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 02:55:13.914 +01:00 [DBG] A data reader was disposed.
2023-08-13 02:55:13.914 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:55:13.914 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 02:55:13.914 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 02:55:13.914 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 02:55:13.914 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 02:55:13.914 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.914 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 02:55:13.914 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 02:55:13.914 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 02:55:13.914 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 02:55:13.914 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 7), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 02:55:13.915 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 7), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 02:55:13.916 +01:00 [DBG] Disposing transaction.
2023-08-13 02:55:13.916 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 02:55:13.916 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 02:55:13.916 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 02:55:13.998 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 713.4121ms
2023-08-13 02:55:13.999 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 02:55:14.000 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 158
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 02:55:14.018 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 02:55:14.018 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=funding application/json 42 - 500 - text/plain;+charset=utf-8 734.0779ms
2023-08-13 03:50:51.623 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 03:50:52.561 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:50:52.562 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:50:52.696 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:50:52.987 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:50:53.020 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:50:53.021 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:50:53.026 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:50:53.139 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:50:53.143 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:50:53.144 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:50:53.144 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:50:53.159 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:50:53.159 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:50:53.160 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:50:53.160 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:50:53.253 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:50:59.691 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 03:51:00.262 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:51:00.263 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:51:00.386 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:51:00.641 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:51:00.726 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.734 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.763 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.784 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 03:51:00.794 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 03:51:00.795 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.799 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.807 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:51:00.833 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:51:00.837 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.842 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.844 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.844 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.844 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 03:51:00.844 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 03:51:00.844 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.844 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.844 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:51:00.845 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:51:00.845 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.845 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.856 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:51:00.856 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:51:00.856 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.856 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.857 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 03:51:00.857 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 03:51:00.859 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:51:00.859 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.859 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.869 +01:00 [INF] Applying migration '20230813025053_configurationScheme'.
2023-08-13 03:51:00.960 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.960 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.962 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:51:00.966 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:51:00.967 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.967 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.968 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 03:51:00.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 03:51:00.970 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.970 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.970 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 03:51:00.971 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 03:51:00.971 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.971 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.971 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavings" ("Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId")
SELECT "Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId"
FROM "personalSavings";
2023-08-13 03:51:00.971 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavings" ("Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId")
SELECT "Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId"
FROM "personalSavings";
2023-08-13 03:51:00.972 +01:00 [DBG] Committing transaction.
2023-08-13 03:51:00.977 +01:00 [DBG] Committed transaction.
2023-08-13 03:51:00.979 +01:00 [DBG] Disposing transaction.
2023-08-13 03:51:00.979 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.979 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.979 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 03:51:00.979 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 03:51:00.979 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:51:00.979 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:51:00.979 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.979 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.979 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavings";
2023-08-13 03:51:00.980 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavings";
2023-08-13 03:51:00.980 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.980 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.980 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavings" RENAME TO "personalSavings";
2023-08-13 03:51:00.983 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavings" RENAME TO "personalSavings";
2023-08-13 03:51:00.983 +01:00 [DBG] Committing transaction.
2023-08-13 03:51:00.986 +01:00 [DBG] Committed transaction.
2023-08-13 03:51:00.986 +01:00 [DBG] Disposing transaction.
2023-08-13 03:51:00.986 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.986 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.986 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 03:51:00.986 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 03:51:00.986 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:51:00.986 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:51:00.986 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.986 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.986 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 03:51:00.986 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 03:51:00.986 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.986 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.987 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 03:51:00.987 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 03:51:00.987 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.987 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.987 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 03:51:00.987 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 03:51:00.987 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:51:00.987 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:51:00.987 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025053_configurationScheme', '6.0.20');
2023-08-13 03:51:00.987 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025053_configurationScheme', '6.0.20');
2023-08-13 03:51:00.987 +01:00 [DBG] Committing transaction.
2023-08-13 03:51:00.989 +01:00 [DBG] Committed transaction.
2023-08-13 03:51:00.990 +01:00 [DBG] Disposing transaction.
2023-08-13 03:51:00.990 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:00.990 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:00.994 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:51:13.227 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 03:51:13.425 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 03:51:14.129 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:51:14.129 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:51:14.233 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:51:14.464 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:51:14.566 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:14.581 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:14.592 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 03:51:14.602 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-08-13 03:51:14.604 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:14.607 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:14.616 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 03:51:14.637 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 03:51:14.642 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:14.647 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:14.692 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 03:51:14.998 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 03:51:15.030 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:51:15.030 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:51:15.030 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:15.030 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:15.031 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 03:51:15.033 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 03:51:15.040 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:51:15.040 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:51:15.040 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:51:15.048 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 03:51:15.051 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:51:15.056 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:51:15.062 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 03:51:15.070 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:51:15.137 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 03:51:15.190 +01:00 [DBG] Hosting starting
2023-08-13 03:51:15.195 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 03:51:15.229 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 03:51:15.230 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 03:51:15.243 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 03:51:15.253 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 03:51:15.253 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 03:51:15.266 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 03:51:15.268 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 03:51:15.268 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 03:51:15.269 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 03:51:15.270 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 03:51:15.273 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 03:51:15.275 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 03:51:15.277 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 03:51:15.485 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 03:51:15.536 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 03:51:15.536 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 03:51:15.536 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 03:51:15.536 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 03:51:15.536 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 03:51:15.537 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 03:51:15.537 +01:00 [INF] Hosting environment: Development
2023-08-13 03:51:15.537 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 03:51:15.537 +01:00 [DBG] Hosting started
2023-08-13 03:51:15.974 +01:00 [DBG] Connection id "0HMSRL0KREASQ" received FIN.
2023-08-13 03:51:15.993 +01:00 [DBG] Connection id "0HMSRL0KREASQ" accepted.
2023-08-13 03:51:15.997 +01:00 [DBG] Connection id "0HMSRL0KREASQ" started.
2023-08-13 03:51:16.119 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 03:51:16.378 +01:00 [DBG] Connection id "0HMSRL0KREASQ" stopped.
2023-08-13 03:51:16.387 +01:00 [DBG] Connection id "0HMSRL0KREASQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 03:51:17.360 +01:00 [DBG] Connection id "0HMSRL0KREASR" accepted.
2023-08-13 03:51:17.361 +01:00 [DBG] Connection id "0HMSRL0KREASR" started.
2023-08-13 03:51:18.553 +01:00 [DBG] Connection 0HMSRL0KREASR established using the following protocol: "Tls13"
2023-08-13 03:51:18.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 03:51:18.923 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 03:51:18.999 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 03:51:19.000 +01:00 [DBG] Request did not match any endpoints
2023-08-13 03:51:19.289 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 03:51:19.711 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 03:51:19.720 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 909.0356ms
2023-08-13 03:51:19.734 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 03:51:19.762 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 27.0114ms
2023-08-13 03:51:19.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 03:51:19.980 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 154.0857ms
2023-08-13 03:51:20.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 03:51:20.203 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 03:51:20.203 +01:00 [DBG] Request did not match any endpoints
2023-08-13 03:51:20.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 528.7602ms
2023-08-13 03:51:24.719 +01:00 [DBG] Connection id "0HMSRL0KREASR" received FIN.
2023-08-13 03:51:24.719 +01:00 [DBG] Connection id "0HMSRL0KREASR" is closed. The last processed stream ID was 7.
2023-08-13 03:51:24.721 +01:00 [DBG] Connection id "0HMSRL0KREASR" sending FIN because: "The client closed the connection."
2023-08-13 03:51:24.726 +01:00 [DBG] Connection id "0HMSRL0KREASR" stopped.
2023-08-13 03:52:39.563 +01:00 [DBG] Connection id "0HMSRL0KREASS" accepted.
2023-08-13 03:52:39.575 +01:00 [DBG] Connection id "0HMSRL0KREASS" started.
2023-08-13 03:52:39.617 +01:00 [DBG] Connection 0HMSRL0KREASS established using the following protocol: "Tls13"
2023-08-13 03:52:39.621 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=funding application/json 42
2023-08-13 03:52:39.648 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 03:52:39.650 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 03:52:39.651 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 03:52:39.655 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 03:52:39.679 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 03:52:39.684 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 03:52:39.757 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 03:52:39.759 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 03:52:39.759 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 03:52:39.759 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 03:52:39.759 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 03:52:39.759 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 03:52:39.761 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 03:52:39.800 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:52:39.803 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 03:52:39.824 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 03:52:39.829 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 03:52:39.830 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 03:52:39.841 +01:00 [DBG] Connection id "0HMSRL0KREASS", Request id "0HMSRL0KREASS:00000001": started reading request body.
2023-08-13 03:52:39.842 +01:00 [DBG] Connection id "0HMSRL0KREASS", Request id "0HMSRL0KREASS:00000001": done reading request body.
2023-08-13 03:52:39.855 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 03:52:39.856 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 03:52:39.856 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 03:52:39.856 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 03:52:39.873 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 03:52:39.877 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 03:52:39.878 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 03:52:39.879 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 03:52:39.879 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 03:52:39.879 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 03:52:39.879 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 03:52:39.880 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 03:52:39.880 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 03:52:39.880 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 03:52:39.880 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 03:52:39.880 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 03:52:39.880 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 03:52:39.938 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 03:52:40.204 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.IsDeleted (bool) Required, 6], [Property: WalletFunding.ModifiedAt (DateTime) Required, 7], [Property: WalletFunding.Reference (string) Required, 8], [Property: WalletFunding.walletId (string) Required FK Index, 9] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.IsDeleted, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 03:52:40.239 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:52:40.240 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:52:40.245 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:40.245 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:40.259 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 03:52:40.276 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 03:52:40.276 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:52:40.276 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:40.277 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.310 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 03:52:42.315 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.IsDeleted (bool) Required, 3], [Property: Wallet.ModifiedAt (DateTime) Required, 4], [Property: Wallet.WalletId (string) Required, 5], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 6], [Property: Wallet.userId (string) Required, 7] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.IsDeleted, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 03:52:42.316 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:52:42.316 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:52:42.316 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.316 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:42.316 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 03:52:42.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 03:52:42.327 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:52:42.327 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:42.327 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.337 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 03:52:42.359 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.IsDeleted (bool) Required, 6], [Property: WalletFunding.ModifiedAt (DateTime) Required, 7], [Property: WalletFunding.Reference (string) Required, 8], [Property: WalletFunding.walletId (string) Required FK Index, 9] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.IsDeleted, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 03:52:42.361 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:52:42.361 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:52:42.361 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.361 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:42.361 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 03:52:42.362 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 03:52:42.362 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:52:42.363 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:42.363 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.447 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 03:52:42.637 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 03:52:42.642 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 03:52:42.642 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:52:42.691 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:52:42.722 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.722 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:42.730 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:52:42.744 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:52:42.881 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:52:42.881 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:52:42.889 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 7), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 03:52:42.910 +01:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 7), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 03:52:42.925 +01:00 [DBG] Disposing transaction.
2023-08-13 03:52:42.928 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:52:42.928 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:52:42.940 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 03:52:43.346 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 3574.5508ms
2023-08-13 03:52:43.352 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 03:52:43.365 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 158
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 03:52:43.468 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:52:43.475 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=funding application/json 42 - 500 - text/plain;+charset=utf-8 3853.5788ms
2023-08-13 03:54:10.189 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 03:54:10.357 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 03:54:11.270 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:54:11.270 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:54:11.425 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:54:11.737 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:54:11.860 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:54:11.879 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:11.893 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 03:54:11.903 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-08-13 03:54:11.909 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:54:11.917 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:11.934 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 03:54:11.973 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 03:54:11.979 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:11.987 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:54:12.061 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 03:54:12.565 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 03:54:12.610 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:54:12.610 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:54:12.610 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:54:12.610 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:12.611 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 03:54:12.612 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 03:54:12.617 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:54:12.617 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:12.617 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:54:12.625 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 03:54:12.627 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:54:12.630 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:54:12.635 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 03:54:12.638 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:54:12.675 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 03:54:12.726 +01:00 [DBG] Hosting starting
2023-08-13 03:54:12.730 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 03:54:12.741 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 03:54:12.742 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 03:54:12.751 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 03:54:12.754 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 03:54:12.754 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 03:54:12.765 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 03:54:12.766 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 03:54:12.767 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 03:54:12.769 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 03:54:12.770 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 03:54:12.772 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 03:54:12.776 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 03:54:12.777 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 03:54:12.949 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 03:54:12.994 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 03:54:12.994 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 03:54:12.996 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 03:54:13.000 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 03:54:13.000 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 03:54:13.000 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 03:54:13.005 +01:00 [INF] Hosting environment: Development
2023-08-13 03:54:13.005 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 03:54:13.005 +01:00 [DBG] Hosting started
2023-08-13 03:54:13.345 +01:00 [DBG] Connection id "0HMSRL29MT2GF" accepted.
2023-08-13 03:54:13.347 +01:00 [DBG] Connection id "0HMSRL29MT2GF" received FIN.
2023-08-13 03:54:13.349 +01:00 [DBG] Connection id "0HMSRL29MT2GF" started.
2023-08-13 03:54:13.383 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 03:54:13.526 +01:00 [DBG] Connection id "0HMSRL29MT2GF" stopped.
2023-08-13 03:54:13.531 +01:00 [DBG] Connection id "0HMSRL29MT2GF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 03:54:14.525 +01:00 [DBG] Connection id "0HMSRL29MT2GG" accepted.
2023-08-13 03:54:14.532 +01:00 [DBG] Connection id "0HMSRL29MT2GG" started.
2023-08-13 03:54:15.117 +01:00 [DBG] Connection 0HMSRL29MT2GG established using the following protocol: "Tls13"
2023-08-13 03:54:15.582 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 03:54:15.713 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 03:54:15.851 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 03:54:15.852 +01:00 [DBG] Request did not match any endpoints
2023-08-13 03:54:16.180 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 03:54:16.710 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 03:54:16.743 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 03:54:16.763 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 03:54:16.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 30.7563ms
2023-08-13 03:54:16.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 1173.1370ms
2023-08-13 03:54:17.059 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 295.7516ms
2023-08-13 03:54:18.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 03:54:18.139 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 03:54:18.139 +01:00 [DBG] Request did not match any endpoints
2023-08-13 03:54:18.758 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 621.2106ms
2023-08-13 03:54:20.737 +01:00 [DBG] Connection id "0HMSRL29MT2GG" received FIN.
2023-08-13 03:54:20.737 +01:00 [DBG] Connection id "0HMSRL29MT2GG" is closed. The last processed stream ID was 7.
2023-08-13 03:54:20.738 +01:00 [DBG] Connection id "0HMSRL29MT2GG" sending FIN because: "The client closed the connection."
2023-08-13 03:54:20.743 +01:00 [DBG] Connection id "0HMSRL29MT2GG" stopped.
2023-08-13 03:54:43.346 +01:00 [DBG] Connection id "0HMSRL29MT2GH" accepted.
2023-08-13 03:54:43.346 +01:00 [DBG] Connection id "0HMSRL29MT2GH" started.
2023-08-13 03:54:43.379 +01:00 [DBG] Connection 0HMSRL29MT2GH established using the following protocol: "Tls13"
2023-08-13 03:54:43.386 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fund%20wallet application/json 42
2023-08-13 03:54:43.436 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 03:54:43.437 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 03:54:43.438 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 03:54:43.444 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 03:54:43.461 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 03:54:43.466 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 03:54:43.519 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 03:54:43.520 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 03:54:43.520 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 03:54:43.521 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 03:54:43.521 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 03:54:43.521 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 03:54:43.522 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 03:54:43.530 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:54:43.536 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 03:54:43.560 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 03:54:43.563 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 03:54:43.564 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 03:54:43.574 +01:00 [DBG] Connection id "0HMSRL29MT2GH", Request id "0HMSRL29MT2GH:00000001": started reading request body.
2023-08-13 03:54:43.575 +01:00 [DBG] Connection id "0HMSRL29MT2GH", Request id "0HMSRL29MT2GH:00000001": done reading request body.
2023-08-13 03:54:43.583 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 03:54:43.584 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 03:54:43.584 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 03:54:43.584 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 03:54:43.599 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 03:54:43.604 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 03:54:43.604 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 03:54:43.605 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 03:54:43.605 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 03:54:43.605 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 03:54:43.606 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 03:54:43.606 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 03:54:43.607 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 03:54:43.607 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 03:54:43.607 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 03:54:43.607 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 03:54:43.607 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 03:54:52.895 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 03:54:53.117 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.IsDeleted (bool) Required, 6], [Property: WalletFunding.ModifiedAt (DateTime) Required, 7], [Property: WalletFunding.Reference (string) Required, 8], [Property: WalletFunding.walletId (string) Required FK Index, 9] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.IsDeleted, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 03:54:53.148 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:54:53.149 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:54:53.154 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:54:53.154 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:53.165 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 03:54:53.177 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 03:54:53.178 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:54:53.178 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:54:53.178 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:55:19.987 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 03:55:19.993 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.IsDeleted (bool) Required, 3], [Property: Wallet.ModifiedAt (DateTime) Required, 4], [Property: Wallet.WalletId (string) Required, 5], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 6], [Property: Wallet.userId (string) Required, 7] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.IsDeleted, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 03:55:19.994 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:55:19.994 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:55:19.994 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:55:19.994 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:55:19.994 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 03:55:19.994 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 03:55:20.073 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:55:20.073 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:55:20.073 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:55:42.744 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 03:55:42.762 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.IsDeleted (bool) Required, 6], [Property: WalletFunding.ModifiedAt (DateTime) Required, 7], [Property: WalletFunding.Reference (string) Required, 8], [Property: WalletFunding.walletId (string) Required FK Index, 9] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.IsDeleted, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 03:55:42.764 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:55:42.764 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:55:42.764 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:55:42.764 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:55:42.764 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 03:55:42.764 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."IsDeleted", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 03:55:42.764 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:55:42.765 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:55:42.765 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:56:15.279 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 03:56:15.437 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 03:56:55.220 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 03:56:55.220 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:56:55.265 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:56:55.284 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:56:55.284 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:56:55.290 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:56:55.302 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:56:55.432 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:56:55.432 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:56:55.438 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 11), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 03:56:55.450 +01:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 11), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (Size = 21), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "IsDeleted", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2023-08-13 03:56:55.463 +01:00 [DBG] Disposing transaction.
2023-08-13 03:56:55.465 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:56:55.465 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:56:55.472 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 03:56:55.743 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 132210.3486ms
2023-08-13 03:56:55.747 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 03:56:55.754 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 158
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 03:56:55.817 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:56:55.826 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fund%20wallet application/json 42 - 500 - text/plain;+charset=utf-8 132439.3854ms
2023-08-13 03:57:04.597 +01:00 [DBG] Connection id "0HMSRL29MT2GH" received FIN.
2023-08-13 03:57:04.605 +01:00 [DBG] Connection id "0HMSRL29MT2GH" is closed. The last processed stream ID was 1.
2023-08-13 03:57:04.617 +01:00 [DBG] Connection id "0HMSRL29MT2GH" sending FIN because: "The client closed the connection."
2023-08-13 03:57:04.640 +01:00 [DBG] Connection id "0HMSRL29MT2GH" stopped.
2023-08-13 03:59:39.592 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 03:59:40.620 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:59:40.621 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:59:40.750 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:59:40.956 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:59:41.039 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:59:41.039 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:59:41.048 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:59:41.179 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:59:41.182 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:59:41.182 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:59:41.182 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:59:41.216 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:59:41.216 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:59:41.217 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 03:59:41.217 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 03:59:41.341 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 03:59:50.303 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 03:59:51.464 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 03:59:51.465 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 03:59:51.547 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 03:59:51.751 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 03:59:51.802 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.808 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.816 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.828 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 03:59:51.835 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 03:59:51.836 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.838 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.845 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:59:51.859 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:59:51.860 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.863 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.864 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.864 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.864 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 03:59:51.864 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 03:59:51.864 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.864 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.864 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:59:51.864 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 03:59:51.864 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.864 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.870 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 03:59:51.870 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 03:59:51.870 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.870 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.870 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 03:59:51.870 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 03:59:51.872 +01:00 [DBG] A data reader was disposed.
2023-08-13 03:59:51.872 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.872 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.883 +01:00 [INF] Applying migration '20230813025941_funding'.
2023-08-13 03:59:51.958 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.958 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.959 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:59:51.961 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:59:51.962 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.962 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.962 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "Action" INTEGER NOT NULL,
    "Amount" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "Reference" TEXT NOT NULL,
    "walletId" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 03:59:51.963 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "Action" INTEGER NOT NULL,
    "Amount" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "Reference" TEXT NOT NULL,
    "walletId" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 03:59:51.963 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.963 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.963 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
SELECT "Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId"
FROM "WalletFundings";
2023-08-13 03:59:51.963 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
SELECT "Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId"
FROM "WalletFundings";
2023-08-13 03:59:51.963 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.963 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.964 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 03:59:51.964 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 03:59:51.964 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.964 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.964 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavingsFundings" ("Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId")
SELECT "Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId"
FROM "personalSavingsFundings";
2023-08-13 03:59:51.964 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavingsFundings" ("Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId")
SELECT "Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId"
FROM "personalSavingsFundings";
2023-08-13 03:59:51.964 +01:00 [DBG] Committing transaction.
2023-08-13 03:59:51.973 +01:00 [DBG] Committed transaction.
2023-08-13 03:59:51.974 +01:00 [DBG] Disposing transaction.
2023-08-13 03:59:51.974 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.974 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.974 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 03:59:51.974 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 03:59:51.974 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:59:51.975 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:59:51.975 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.975 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.975 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "WalletFundings";
2023-08-13 03:59:51.976 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "WalletFundings";
2023-08-13 03:59:51.976 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.976 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.976 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_WalletFundings" RENAME TO "WalletFundings";
2023-08-13 03:59:51.981 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_WalletFundings" RENAME TO "WalletFundings";
2023-08-13 03:59:51.981 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.981 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.981 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavingsFundings";
2023-08-13 03:59:51.982 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavingsFundings";
2023-08-13 03:59:51.983 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.983 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.983 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavingsFundings" RENAME TO "personalSavingsFundings";
2023-08-13 03:59:51.984 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavingsFundings" RENAME TO "personalSavingsFundings";
2023-08-13 03:59:51.984 +01:00 [DBG] Committing transaction.
2023-08-13 03:59:51.987 +01:00 [DBG] Committed transaction.
2023-08-13 03:59:51.987 +01:00 [DBG] Disposing transaction.
2023-08-13 03:59:51.987 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.988 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.988 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 03:59:51.988 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 03:59:51.988 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 03:59:51.988 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 03:59:51.988 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.988 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.988 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 03:59:51.988 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 03:59:51.988 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.988 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.989 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 03:59:51.989 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 03:59:51.989 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 03:59:51.989 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 03:59:51.989 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025941_funding', '6.0.20');
2023-08-13 03:59:51.989 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025941_funding', '6.0.20');
2023-08-13 03:59:51.989 +01:00 [DBG] Committing transaction.
2023-08-13 03:59:51.993 +01:00 [DBG] Committed transaction.
2023-08-13 03:59:51.993 +01:00 [DBG] Disposing transaction.
2023-08-13 03:59:51.993 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 03:59:51.993 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 03:59:51.994 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:00:10.073 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 04:00:10.235 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 04:00:11.053 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 04:00:11.054 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 04:00:11.201 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 04:00:11.489 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:00:11.609 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:00:11.623 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:11.637 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 04:00:11.647 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 04:00:11.649 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:00:11.652 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:11.662 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 04:00:11.683 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 04:00:11.687 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:11.691 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:00:11.732 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 04:00:12.081 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 04:00:12.113 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:00:12.113 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:00:12.113 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:00:12.113 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:12.115 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 04:00:12.117 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 04:00:12.123 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:00:12.123 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:12.123 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:00:12.130 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:00:12.133 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:00:12.137 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:00:12.144 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 04:00:12.148 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:00:12.184 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 04:00:12.236 +01:00 [DBG] Hosting starting
2023-08-13 04:00:12.240 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 04:00:12.246 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 04:00:12.246 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 04:00:12.258 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 04:00:12.262 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 04:00:12.262 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 04:00:12.269 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 04:00:12.271 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 04:00:12.272 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 04:00:12.273 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 04:00:12.274 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 04:00:12.276 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 04:00:12.278 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 04:00:12.279 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 04:00:12.444 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 04:00:12.499 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 04:00:12.499 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 04:00:12.500 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 04:00:12.500 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 04:00:12.500 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 04:00:12.500 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 04:00:12.500 +01:00 [INF] Hosting environment: Development
2023-08-13 04:00:12.500 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 04:00:12.500 +01:00 [DBG] Hosting started
2023-08-13 04:00:12.567 +01:00 [DBG] Connection id "0HMSRL5KOPCT1" received FIN.
2023-08-13 04:00:12.586 +01:00 [DBG] Connection id "0HMSRL5KOPCT1" accepted.
2023-08-13 04:00:12.591 +01:00 [DBG] Connection id "0HMSRL5KOPCT1" started.
2023-08-13 04:00:12.618 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 04:00:12.660 +01:00 [DBG] Connection id "0HMSRL5KOPCT1" stopped.
2023-08-13 04:00:12.665 +01:00 [DBG] Connection id "0HMSRL5KOPCT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 04:00:13.537 +01:00 [DBG] Connection id "0HMSRL5KOPCT2" accepted.
2023-08-13 04:00:13.537 +01:00 [DBG] Connection id "0HMSRL5KOPCT2" started.
2023-08-13 04:00:15.020 +01:00 [DBG] Connection 0HMSRL5KOPCT2 established using the following protocol: "Tls13"
2023-08-13 04:00:15.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 04:00:15.495 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 04:00:15.627 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 04:00:15.629 +01:00 [DBG] Request did not match any endpoints
2023-08-13 04:00:15.987 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 04:00:16.603 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 04:00:16.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 1323.3598ms
2023-08-13 04:00:16.683 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 04:00:16.693 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 04:00:16.765 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 81.8658ms
2023-08-13 04:00:17.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 382.4592ms
2023-08-13 04:00:18.764 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 04:00:18.766 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 04:00:18.766 +01:00 [DBG] Request did not match any endpoints
2023-08-13 04:00:19.386 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 622.6810ms
2023-08-13 04:00:20.765 +01:00 [DBG] Connection id "0HMSRL5KOPCT2" received FIN.
2023-08-13 04:00:20.766 +01:00 [DBG] Connection id "0HMSRL5KOPCT2" is closed. The last processed stream ID was 7.
2023-08-13 04:00:20.767 +01:00 [DBG] Connection id "0HMSRL5KOPCT2" sending FIN because: "The client closed the connection."
2023-08-13 04:00:20.772 +01:00 [DBG] Connection id "0HMSRL5KOPCT2" stopped.
2023-08-13 04:00:43.977 +01:00 [DBG] Connection id "0HMSRL5KOPCT3" accepted.
2023-08-13 04:00:43.998 +01:00 [DBG] Connection id "0HMSRL5KOPCT3" started.
2023-08-13 04:00:44.058 +01:00 [DBG] Connection 0HMSRL5KOPCT3 established using the following protocol: "Tls13"
2023-08-13 04:00:44.063 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fu%3Dnd application/json 42
2023-08-13 04:00:44.134 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 04:00:44.135 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 04:00:44.136 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:00:44.141 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 04:00:44.163 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 04:00:44.165 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:00:44.208 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 04:00:44.211 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 04:00:44.211 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 04:00:44.212 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 04:00:44.212 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 04:00:44.212 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 04:00:44.213 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 04:00:44.217 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:00:44.220 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 04:00:44.250 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 04:00:44.258 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 04:00:44.260 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 04:00:44.273 +01:00 [DBG] Connection id "0HMSRL5KOPCT3", Request id "0HMSRL5KOPCT3:00000001": started reading request body.
2023-08-13 04:00:44.273 +01:00 [DBG] Connection id "0HMSRL5KOPCT3", Request id "0HMSRL5KOPCT3:00000001": done reading request body.
2023-08-13 04:00:44.294 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 04:00:44.295 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:00:44.296 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:00:44.296 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 04:00:44.319 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:00:44.326 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 04:00:44.326 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 04:00:44.328 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 04:00:44.328 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 04:00:44.328 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 04:00:44.329 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 04:00:44.329 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 04:00:44.329 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 04:00:44.329 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 04:00:44.329 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 04:00:44.329 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 04:00:44.329 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 04:00:49.046 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 04:00:49.297 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:00:49.331 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:00:49.331 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:00:49.337 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:00:49.337 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:49.349 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 04:00:49.362 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 04:00:49.363 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:00:49.363 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:00:49.363 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:08.453 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 04:01:08.458 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.IsDeleted (bool) Required, 3], [Property: Wallet.ModifiedAt (DateTime) Required, 4], [Property: Wallet.WalletId (string) Required, 5], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 6], [Property: Wallet.userId (string) Required, 7] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.IsDeleted, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:01:08.459 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:01:08.459 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:01:08.459 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:08.459 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:01:08.459 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 04:01:08.459 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 04:01:08.468 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:01:08.469 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:01:08.469 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:11.486 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 04:01:11.503 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:01:11.504 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:01:11.504 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:01:11.504 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:11.504 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:01:11.504 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 04:01:11.504 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 04:01:11.504 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:01:11.505 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:01:11.505 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:19.859 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:01:20.017 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:01:45.269 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:01:45.269 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:01:45.304 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:01:45.323 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:45.323 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:01:45.329 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:01:45.340 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:01:45.498 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:01:45.498 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:01:45.506 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 5), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 04:01:45.521 +01:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 5), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 04:01:45.536 +01:00 [DBG] Disposing transaction.
2023-08-13 04:01:45.538 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:01:45.538 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:01:45.545 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 04:01:45.819 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 61596.6494ms
2023-08-13 04:01:45.823 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:01:45.831 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 158
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 04:01:45.900 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:01:45.910 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fu%3Dnd application/json 42 - 500 - text/plain;+charset=utf-8 61846.6835ms
2023-08-13 04:02:09.199 +01:00 [DBG] Connection id "0HMSRL5KOPCT3" received FIN.
2023-08-13 04:02:09.209 +01:00 [DBG] Connection id "0HMSRL5KOPCT3" is closed. The last processed stream ID was 1.
2023-08-13 04:02:09.212 +01:00 [DBG] Connection id "0HMSRL5KOPCT3" stopped.
2023-08-13 04:02:09.231 +01:00 [DBG] Connection id "0HMSRL5KOPCT3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 04:03:14.171 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 04:03:14.344 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 04:03:15.050 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 04:03:15.051 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 04:03:15.181 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 04:03:15.630 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:03:15.730 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:03:15.749 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:03:15.763 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 04:03:15.774 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 04:03:15.776 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:03:15.780 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:03:15.792 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 04:03:15.819 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 04:03:15.823 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:03:15.828 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:03:15.890 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 04:03:16.229 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 04:03:16.264 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:03:16.264 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:03:16.264 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:03:16.264 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:03:16.265 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 04:03:16.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 04:03:16.274 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:03:16.274 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:03:16.274 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:03:16.279 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:03:16.281 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:03:16.287 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:03:16.294 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 04:03:16.297 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:03:16.338 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 04:03:16.389 +01:00 [DBG] Hosting starting
2023-08-13 04:03:16.394 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 04:03:16.407 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 04:03:16.407 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 04:03:16.414 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 04:03:16.420 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 04:03:16.420 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 04:03:16.428 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 04:03:16.432 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 04:03:16.432 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 04:03:16.434 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 04:03:16.435 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 04:03:16.436 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 04:03:16.438 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 04:03:16.439 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 04:03:16.612 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 04:03:16.670 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 04:03:16.670 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 04:03:16.670 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 04:03:16.671 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 04:03:16.671 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 04:03:16.671 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 04:03:16.671 +01:00 [INF] Hosting environment: Development
2023-08-13 04:03:16.671 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 04:03:16.700 +01:00 [DBG] Hosting started
2023-08-13 04:03:16.722 +01:00 [DBG] Connection id "0HMSRL7BL17FH" received FIN.
2023-08-13 04:03:16.740 +01:00 [DBG] Connection id "0HMSRL7BL17FH" accepted.
2023-08-13 04:03:16.742 +01:00 [DBG] Connection id "0HMSRL7BL17FH" started.
2023-08-13 04:03:16.771 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 04:03:16.822 +01:00 [DBG] Connection id "0HMSRL7BL17FH" stopped.
2023-08-13 04:03:16.827 +01:00 [DBG] Connection id "0HMSRL7BL17FH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 04:03:17.680 +01:00 [DBG] Connection id "0HMSRL7BL17FI" accepted.
2023-08-13 04:03:17.680 +01:00 [DBG] Connection id "0HMSRL7BL17FI" started.
2023-08-13 04:03:18.174 +01:00 [DBG] Connection 0HMSRL7BL17FI established using the following protocol: "Tls13"
2023-08-13 04:03:18.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 04:03:18.672 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 04:03:18.767 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 04:03:18.767 +01:00 [DBG] Request did not match any endpoints
2023-08-13 04:03:19.045 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 04:03:19.469 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 04:03:19.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 04:03:19.599 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 04:03:19.639 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 1092.8536ms
2023-08-13 04:03:19.639 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 137.4583ms
2023-08-13 04:03:19.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 300.5871ms
2023-08-13 04:03:20.690 +01:00 [DBG] Connection id "0HMSRL7BL17FI" received FIN.
2023-08-13 04:03:20.691 +01:00 [DBG] Connection id "0HMSRL7BL17FI" is closed. The last processed stream ID was 5.
2023-08-13 04:03:20.691 +01:00 [DBG] Connection id "0HMSRL7BL17FI" sending FIN because: "The client closed the connection."
2023-08-13 04:03:20.696 +01:00 [DBG] Connection id "0HMSRL7BL17FI" stopped.
2023-08-13 04:03:23.981 +01:00 [DBG] Connection id "0HMSRL7BL17FJ" accepted.
2023-08-13 04:03:23.982 +01:00 [DBG] Connection id "0HMSRL7BL17FJ" started.
2023-08-13 04:03:23.988 +01:00 [DBG] Connection 0HMSRL7BL17FJ established using the following protocol: "Tls13"
2023-08-13 04:03:23.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 04:03:23.994 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 04:03:23.994 +01:00 [DBG] Request did not match any endpoints
2023-08-13 04:03:24.431 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 440.1825ms
2023-08-13 04:04:13.674 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fund application/json 42
2023-08-13 04:04:13.708 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 04:04:13.709 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 04:04:13.710 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:04:13.713 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 04:04:13.741 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 04:04:13.746 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:04:13.824 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 04:04:13.827 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 04:04:13.827 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 04:04:13.827 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 04:04:13.828 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 04:04:13.828 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 04:04:13.829 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 04:04:13.861 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:04:13.864 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 04:04:13.884 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 04:04:13.892 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 04:04:13.895 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 04:04:13.902 +01:00 [DBG] Connection id "0HMSRL7BL17FJ", Request id "0HMSRL7BL17FJ:00000003": started reading request body.
2023-08-13 04:04:13.903 +01:00 [DBG] Connection id "0HMSRL7BL17FJ", Request id "0HMSRL7BL17FJ:00000003": done reading request body.
2023-08-13 04:04:13.924 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 04:04:13.925 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:04:13.925 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:04:13.925 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 04:04:13.951 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:04:13.959 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 04:04:13.961 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 04:04:13.962 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 04:04:13.962 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 04:04:13.962 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 04:04:13.963 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 04:04:13.963 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 04:04:13.963 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 04:04:13.963 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 04:04:13.964 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 04:04:13.964 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 04:04:13.964 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 04:04:16.984 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 04:04:17.238 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:04:17.272 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:04:17.272 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:04:17.277 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:17.277 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:17.291 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 04:04:17.311 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 04:04:17.311 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:04:17.312 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:17.312 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:33.892 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 04:04:33.898 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.IsDeleted (bool) Required, 3], [Property: Wallet.ModifiedAt (DateTime) Required, 4], [Property: Wallet.WalletId (string) Required, 5], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 6], [Property: Wallet.userId (string) Required, 7] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.IsDeleted, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:04:33.899 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:04:33.899 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:04:33.899 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:33.900 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:33.900 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 04:04:33.900 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."IsDeleted", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 04:04:33.908 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:04:33.908 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:33.908 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:36.628 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 04:04:36.645 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:04:36.646 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:04:36.646 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:04:36.646 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:36.646 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:36.646 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 04:04:36.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 04:04:36.647 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:04:36.647 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:36.647 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:45.566 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:04:46.633 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:04:46.633 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:04:46.652 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:04:46.674 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:46.675 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:46.679 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:04:46.689 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:04:46.802 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:04:46.802 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:04:46.804 +01:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "IsDeleted" = @p2, "ModifiedAt" = @p3, "WalletId" = @p4, "userId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2023-08-13 04:04:46.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "IsDeleted" = @p2, "ModifiedAt" = @p3, "WalletId" = @p4, "userId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2023-08-13 04:04:46.809 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:04:46.818 +01:00 [DBG] Committing transaction.
2023-08-13 04:04:46.831 +01:00 [DBG] Committed transaction.
2023-08-13 04:04:46.834 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:04:46.834 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:04:46.839 +01:00 [DBG] Disposing transaction.
2023-08-13 04:04:46.864 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:04:46.865 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 04:05:12.026 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:05:12.072 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:05:17.852 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:05:17.852 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:05:17.884 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:05:17.884 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:05:17.885 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:05:17.885 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:05:17.885 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:05:17.905 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:05:17.906 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:05:17.908 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 4), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 04:05:17.919 +01:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 4), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 04:05:17.924 +01:00 [DBG] Disposing transaction.
2023-08-13 04:05:17.924 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:05:17.924 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:05:17.930 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 04:05:18.217 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 64375.9867ms
2023-08-13 04:05:18.222 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:05:18.229 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 162
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 04:05:18.295 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:05:18.304 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fund application/json 42 - 500 - text/plain;+charset=utf-8 64637.2286ms
2023-08-13 04:05:39.212 +01:00 [DBG] Connection id "0HMSRL7BL17FJ" received FIN.
2023-08-13 04:05:39.224 +01:00 [DBG] Connection id "0HMSRL7BL17FJ" is closed. The last processed stream ID was 3.
2023-08-13 04:05:39.225 +01:00 [DBG] Connection id "0HMSRL7BL17FJ" stopped.
2023-08-13 04:05:39.225 +01:00 [DBG] Connection id "0HMSRL7BL17FJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 04:08:41.814 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 04:08:42.544 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 04:08:42.545 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 04:08:42.656 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 04:08:42.909 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:08:42.962 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 04:08:42.962 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 04:08:42.966 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 04:08:43.070 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:08:43.072 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:08:43.072 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:08:43.072 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:08:43.099 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:08:43.099 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:08:43.100 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:08:43.100 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:08:43.197 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:08:59.575 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 04:09:00.303 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 04:09:00.303 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 04:09:00.418 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 04:09:00.677 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:09:00.857 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.886 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.916 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.932 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 04:09:00.939 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 04:09:00.940 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.944 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.953 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 04:09:00.970 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 04:09:00.972 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.975 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.976 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.977 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.977 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 04:09:00.977 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 04:09:00.977 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.977 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.977 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 04:09:00.978 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 04:09:00.978 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.978 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.984 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:09:00.984 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:09:00.984 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:00.984 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.984 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 04:09:00.985 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 04:09:00.988 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:09:00.988 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:00.988 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:01.000 +01:00 [INF] Applying migration '20230813030843_fundingWallet'.
2023-08-13 04:09:01.049 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:01.049 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:01.050 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:09:01.053 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:09:01.054 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.054 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.054 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 04:09:01.055 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 04:09:01.055 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.055 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.055 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId"
FROM "Wallets";
2023-08-13 04:09:01.055 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId"
FROM "Wallets";
2023-08-13 04:09:01.056 +01:00 [DBG] Committing transaction.
2023-08-13 04:09:01.065 +01:00 [DBG] Committed transaction.
2023-08-13 04:09:01.066 +01:00 [DBG] Disposing transaction.
2023-08-13 04:09:01.066 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.066 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.066 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 04:09:01.066 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 04:09:01.066 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:09:01.067 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:09:01.067 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.067 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.067 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Wallets";
2023-08-13 04:09:01.067 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Wallets";
2023-08-13 04:09:01.067 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.067 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.067 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Wallets" RENAME TO "Wallets";
2023-08-13 04:09:01.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Wallets" RENAME TO "Wallets";
2023-08-13 04:09:01.069 +01:00 [DBG] Committing transaction.
2023-08-13 04:09:01.071 +01:00 [DBG] Committed transaction.
2023-08-13 04:09:01.071 +01:00 [DBG] Disposing transaction.
2023-08-13 04:09:01.071 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.071 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.071 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 04:09:01.071 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 04:09:01.071 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:09:01.071 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:09:01.071 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.071 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.071 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 04:09:01.071 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 04:09:01.071 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 04:09:01.071 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 04:09:01.071 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813030843_fundingWallet', '6.0.20');
2023-08-13 04:09:01.071 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813030843_fundingWallet', '6.0.20');
2023-08-13 04:09:01.071 +01:00 [DBG] Committing transaction.
2023-08-13 04:09:01.073 +01:00 [DBG] Committed transaction.
2023-08-13 04:09:01.073 +01:00 [DBG] Disposing transaction.
2023-08-13 04:09:01.073 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:01.073 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:01.074 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:09:19.722 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 04:09:19.884 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 04:09:20.719 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 04:09:20.719 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 04:09:20.855 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 04:09:21.137 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:09:21.247 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:21.269 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:21.282 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 04:09:21.292 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 04:09:21.295 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:21.299 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:21.307 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 04:09:21.330 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 04:09:21.334 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:21.337 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:21.385 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 04:09:21.718 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 04:09:21.759 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:09:21.759 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:09:21.759 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:21.759 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:21.760 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 04:09:21.762 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 04:09:21.770 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:09:21.770 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:09:21.771 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:09:21.777 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:09:21.779 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:09:21.787 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:09:21.795 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 04:09:21.798 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:09:21.827 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 04:09:21.857 +01:00 [DBG] Hosting starting
2023-08-13 04:09:21.859 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 04:09:21.865 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 04:09:21.865 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 04:09:21.870 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 04:09:21.872 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 04:09:21.872 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 04:09:21.880 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 04:09:21.881 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 04:09:21.882 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 04:09:21.883 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 04:09:21.884 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 04:09:21.886 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 04:09:21.888 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 04:09:21.888 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 04:09:22.026 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 04:09:22.066 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 04:09:22.066 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 04:09:22.066 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 04:09:22.066 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 04:09:22.067 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 04:09:22.067 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 04:09:22.067 +01:00 [INF] Hosting environment: Development
2023-08-13 04:09:22.067 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 04:09:22.067 +01:00 [DBG] Hosting started
2023-08-13 04:09:22.313 +01:00 [DBG] Connection id "0HMSRLAOJH29R" accepted.
2023-08-13 04:09:22.313 +01:00 [DBG] Connection id "0HMSRLAOJH29S" accepted.
2023-08-13 04:09:22.316 +01:00 [DBG] Connection id "0HMSRLAOJH29R" started.
2023-08-13 04:09:22.316 +01:00 [DBG] Connection id "0HMSRLAOJH29S" started.
2023-08-13 04:09:22.359 +01:00 [DBG] Connection id "0HMSRLAOJH29S" received FIN.
2023-08-13 04:09:22.359 +01:00 [DBG] Connection id "0HMSRLAOJH29R" received FIN.
2023-08-13 04:09:22.425 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 04:09:22.425 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 04:09:22.478 +01:00 [DBG] Connection id "0HMSRLAOJH29S" stopped.
2023-08-13 04:09:22.478 +01:00 [DBG] Connection id "0HMSRLAOJH29R" stopped.
2023-08-13 04:09:22.482 +01:00 [DBG] Connection id "0HMSRLAOJH29S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 04:09:22.482 +01:00 [DBG] Connection id "0HMSRLAOJH29R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 04:09:23.236 +01:00 [DBG] Connection id "0HMSRLAOJH29T" accepted.
2023-08-13 04:09:23.256 +01:00 [DBG] Connection id "0HMSRLAOJH29T" started.
2023-08-13 04:09:23.864 +01:00 [DBG] Connection 0HMSRLAOJH29T established using the following protocol: "Tls13"
2023-08-13 04:09:24.102 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 04:09:24.240 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 04:09:24.320 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 04:09:24.321 +01:00 [DBG] Request did not match any endpoints
2023-08-13 04:09:24.591 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 04:09:25.101 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 04:09:25.157 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 04:09:25.157 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 04:09:25.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 31.6300ms
2023-08-13 04:09:25.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 1105.2587ms
2023-08-13 04:09:25.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 401.7650ms
2023-08-13 04:09:28.012 +01:00 [DBG] Connection id "0HMSRLAOJH29T" received FIN.
2023-08-13 04:09:28.012 +01:00 [DBG] Connection id "0HMSRLAOJH29T" is closed. The last processed stream ID was 5.
2023-08-13 04:09:28.013 +01:00 [DBG] Connection id "0HMSRLAOJH29T" sending FIN because: "The client closed the connection."
2023-08-13 04:09:28.018 +01:00 [DBG] Connection id "0HMSRLAOJH29T" stopped.
2023-08-13 04:09:49.157 +01:00 [DBG] Connection id "0HMSRLAOJH29U" accepted.
2023-08-13 04:09:49.158 +01:00 [DBG] Connection id "0HMSRLAOJH29U" started.
2023-08-13 04:09:49.172 +01:00 [DBG] Connection 0HMSRLAOJH29U established using the following protocol: "Tls13"
2023-08-13 04:09:49.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 04:09:49.195 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 04:09:49.195 +01:00 [DBG] Request did not match any endpoints
2023-08-13 04:09:49.663 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 480.5408ms
2023-08-13 04:10:38.269 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fund application/json 42
2023-08-13 04:10:38.281 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 04:10:38.283 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 04:10:38.284 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:10:38.288 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 04:10:38.316 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 04:10:38.320 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:10:38.385 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 04:10:38.387 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 04:10:38.387 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 04:10:38.388 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 04:10:38.388 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 04:10:38.388 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 04:10:38.389 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 04:10:38.420 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 04:10:38.437 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 04:10:38.463 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 04:10:38.468 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 04:10:38.469 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 04:10:38.477 +01:00 [DBG] Connection id "0HMSRLAOJH29U", Request id "0HMSRLAOJH29U:00000003": started reading request body.
2023-08-13 04:10:38.479 +01:00 [DBG] Connection id "0HMSRLAOJH29U", Request id "0HMSRLAOJH29U:00000003": done reading request body.
2023-08-13 04:10:38.490 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 04:10:38.491 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:10:38.491 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:10:38.491 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 04:10:38.506 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 04:10:38.513 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 04:10:38.514 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 04:10:38.515 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 04:10:38.515 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 04:10:38.515 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 04:10:38.516 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 04:10:38.516 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 04:10:38.517 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 04:10:38.517 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 04:10:38.517 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 04:10:38.517 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 04:10:38.517 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 04:10:38.578 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 04:10:38.873 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:10:38.919 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:10:38.919 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:10:38.925 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:38.925 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:38.942 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 04:10:38.963 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 04:10:38.964 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:10:38.964 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:38.964 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:41.609 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 04:10:41.617 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:10:41.618 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:10:41.618 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:10:41.619 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:41.619 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:41.619 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 04:10:41.619 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 04:10:41.629 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:10:41.630 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:41.630 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:41.634 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 04:10:41.657 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 04:10:41.658 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:10:41.658 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:10:41.658 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:41.659 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:41.659 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 04:10:41.660 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 04:10:41.660 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:10:41.660 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:41.660 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:50.818 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:10:51.224 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:10:51.224 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:10:51.239 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:10:51.254 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:51.254 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:51.260 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:10:51.277 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:10:51.405 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:10:51.405 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:10:51.406 +01:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 10), @p4='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 04:10:51.410 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 10), @p4='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 04:10:51.414 +01:00 [DBG] A data reader was disposed.
2023-08-13 04:10:51.424 +01:00 [DBG] Committing transaction.
2023-08-13 04:10:51.440 +01:00 [DBG] Committed transaction.
2023-08-13 04:10:51.443 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:10:51.443 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:10:51.447 +01:00 [DBG] Disposing transaction.
2023-08-13 04:10:51.466 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:10:51.467 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 04:10:56.264 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:10:56.319 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 04:11:03.863 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 04:11:03.863 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 04:11:03.895 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 04:11:03.895 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 04:11:03.896 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:11:03.896 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 04:11:03.896 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 04:11:03.925 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 04:11:03.925 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 04:11:03.931 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 4), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 04:11:03.942 +01:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 4), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 04:11:03.949 +01:00 [DBG] Disposing transaction.
2023-08-13 04:11:03.949 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 04:11:03.949 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 04:11:03.962 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 04:11:04.269 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 25868.1082ms
2023-08-13 04:11:04.274 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 04:11:04.280 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 162
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 04:11:04.352 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 04:11:04.362 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=8076570048&description=fund application/json 42 - 500 - text/plain;+charset=utf-8 26092.4979ms
2023-08-13 04:11:46.377 +01:00 [DBG] Connection id "0HMSRLAOJH29U" received FIN.
2023-08-13 04:11:46.381 +01:00 [DBG] Connection id "0HMSRLAOJH29U" is closed. The last processed stream ID was 3.
2023-08-13 04:11:46.385 +01:00 [DBG] Connection id "0HMSRLAOJH29U" stopped.
2023-08-13 04:11:46.385 +01:00 [DBG] Connection id "0HMSRLAOJH29U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 10:43:07.423 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 10:43:07.665 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 10:43:09.595 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 10:43:09.595 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 10:43:09.849 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 10:43:10.407 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 10:43:10.559 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 10:43:10.595 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 10:43:10.621 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 10:43:10.635 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-08-13 10:43:10.638 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 10:43:10.643 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 10:43:10.662 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 10:43:10.712 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 10:43:10.719 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 10:43:10.726 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 10:43:10.799 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 10:43:11.363 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 10:43:11.435 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 10:43:11.435 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 10:43:11.435 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 10:43:11.435 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 10:43:11.438 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 10:43:11.441 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 10:43:11.454 +01:00 [DBG] A data reader was disposed.
2023-08-13 10:43:11.455 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 10:43:11.455 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 10:43:11.468 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 10:43:11.474 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 10:43:11.484 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 10:43:11.495 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 10:43:11.499 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 10:43:11.574 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 10:43:11.636 +01:00 [DBG] Hosting starting
2023-08-13 10:43:11.642 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 10:43:11.675 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 10:43:11.677 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 10:43:11.692 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 10:43:11.703 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 10:43:11.703 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 10:43:11.716 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 10:43:11.719 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 10:43:11.719 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 10:43:11.721 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 10:43:11.722 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 10:43:11.724 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 10:43:11.729 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 10:43:11.729 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 10:43:12.002 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 10:43:12.070 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 10:43:12.071 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 10:43:12.071 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 10:43:12.071 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 10:43:12.071 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 10:43:12.071 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 10:43:12.071 +01:00 [INF] Hosting environment: Development
2023-08-13 10:43:12.071 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 10:43:12.071 +01:00 [DBG] Hosting started
2023-08-13 10:43:12.167 +01:00 [DBG] Connection id "0HMSRS6QRC4O7" accepted.
2023-08-13 10:43:12.167 +01:00 [DBG] Connection id "0HMSRS6QRC4O6" accepted.
2023-08-13 10:43:12.170 +01:00 [DBG] Connection id "0HMSRS6QRC4O7" started.
2023-08-13 10:43:12.170 +01:00 [DBG] Connection id "0HMSRS6QRC4O6" started.
2023-08-13 10:43:14.070 +01:00 [DBG] Connection id "0HMSRS6QRC4O8" accepted.
2023-08-13 10:43:14.096 +01:00 [DBG] Connection id "0HMSRS6QRC4O8" started.
2023-08-13 10:43:14.849 +01:00 [DBG] Connection 0HMSRS6QRC4O8 established using the following protocol: "Tls13"
2023-08-13 10:43:15.195 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 10:43:15.378 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 10:43:15.453 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 10:43:15.454 +01:00 [DBG] Request did not match any endpoints
2023-08-13 10:43:15.703 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 10:43:16.524 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 10:43:16.527 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 10:43:16.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 1348.3310ms
2023-08-13 10:43:16.550 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 22.5832ms
2023-08-13 10:43:16.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 10:43:17.059 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 501.8880ms
2023-08-13 10:43:17.240 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 10:43:17.243 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 10:43:17.244 +01:00 [DBG] Request did not match any endpoints
2023-08-13 10:43:17.733 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 492.5122ms
2023-08-13 10:43:22.239 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-13 10:43:22.239 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-08-13 10:43:22.245 +01:00 [DBG] Connection id "0HMSRS6QRC4O6" stopped.
2023-08-13 10:43:22.245 +01:00 [DBG] Connection id "0HMSRS6QRC4O7" stopped.
2023-08-13 10:43:22.246 +01:00 [DBG] Connection id "0HMSRS6QRC4O6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 10:43:22.246 +01:00 [DBG] Connection id "0HMSRS6QRC4O7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 10:43:22.374 +01:00 [DBG] Connection id "0HMSRS6QRC4O8" received FIN.
2023-08-13 10:43:22.374 +01:00 [DBG] Connection id "0HMSRS6QRC4O8" is closed. The last processed stream ID was 7.
2023-08-13 10:43:22.374 +01:00 [DBG] Connection id "0HMSRS6QRC4O8" sending FIN because: "The client closed the connection."
2023-08-13 10:43:22.378 +01:00 [DBG] Connection id "0HMSRS6QRC4O8" stopped.
2023-08-13 13:22:10.019 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 13:22:10.222 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 13:22:11.126 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 13:22:11.126 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 13:22:11.240 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 13:22:11.583 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:22:11.735 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:22:11.773 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:22:11.789 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 13:22:11.802 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-08-13 13:22:11.804 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:22:11.809 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:22:11.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:22:11.857 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:22:11.861 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:22:11.866 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:22:11.923 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 13:22:12.288 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 13:22:12.326 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:22:12.326 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:22:12.326 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:22:12.326 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:22:12.327 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:22:12.329 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:22:12.334 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:22:12.334 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:22:12.334 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:22:12.341 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:22:12.343 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:22:12.348 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:22:12.352 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 13:22:12.359 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:22:12.461 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 13:22:12.513 +01:00 [DBG] Hosting starting
2023-08-13 13:22:12.522 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 13:22:12.637 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 13:22:12.638 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 13:22:12.672 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 13:22:12.691 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 13:22:12.691 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 13:22:12.701 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 13:22:12.704 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:22:12.705 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 13:22:12.706 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:22:12.708 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 13:22:12.709 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 13:22:12.713 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 13:22:12.717 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 13:22:12.957 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 13:22:13.008 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 13:22:13.008 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 13:22:13.009 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 13:22:13.009 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 13:22:13.009 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 13:22:13.009 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 13:22:13.009 +01:00 [INF] Hosting environment: Development
2023-08-13 13:22:13.009 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 13:22:13.009 +01:00 [DBG] Hosting started
2023-08-13 13:22:13.310 +01:00 [DBG] Connection id "0HMSRUVMAQD06" accepted.
2023-08-13 13:22:13.310 +01:00 [DBG] Connection id "0HMSRUVMAQD07" accepted.
2023-08-13 13:22:13.312 +01:00 [DBG] Connection id "0HMSRUVMAQD07" started.
2023-08-13 13:22:13.312 +01:00 [DBG] Connection id "0HMSRUVMAQD06" started.
2023-08-13 13:22:13.338 +01:00 [DBG] Connection id "0HMSRUVMAQD06" received FIN.
2023-08-13 13:22:13.338 +01:00 [DBG] Connection id "0HMSRUVMAQD07" received FIN.
2023-08-13 13:22:13.463 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:22:13.463 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:22:13.516 +01:00 [DBG] Connection id "0HMSRUVMAQD06" stopped.
2023-08-13 13:22:13.516 +01:00 [DBG] Connection id "0HMSRUVMAQD07" stopped.
2023-08-13 13:22:13.518 +01:00 [DBG] Connection id "0HMSRUVMAQD06" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:22:13.518 +01:00 [DBG] Connection id "0HMSRUVMAQD07" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:22:14.970 +01:00 [DBG] Connection id "0HMSRUVMAQD08" accepted.
2023-08-13 13:22:14.974 +01:00 [DBG] Connection id "0HMSRUVMAQD08" started.
2023-08-13 13:22:15.392 +01:00 [DBG] Connection 0HMSRUVMAQD08 established using the following protocol: "Tls13"
2023-08-13 13:22:15.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 13:22:15.546 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 13:22:15.595 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 13:22:15.595 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:22:15.746 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 13:22:15.919 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 13:22:15.923 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 13:22:15.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 13:22:15.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 9.8952ms
2023-08-13 13:22:15.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 450.1418ms
2023-08-13 13:22:15.995 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.0922ms
2023-08-13 13:22:16.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 13:22:16.218 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 13:22:16.218 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:22:16.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 319.7260ms
2023-08-13 13:22:20.724 +01:00 [DBG] Connection id "0HMSRUVMAQD08" received FIN.
2023-08-13 13:22:20.725 +01:00 [DBG] Connection id "0HMSRUVMAQD08" is closed. The last processed stream ID was 7.
2023-08-13 13:22:20.726 +01:00 [DBG] Connection id "0HMSRUVMAQD08" sending FIN because: "The client closed the connection."
2023-08-13 13:22:20.728 +01:00 [DBG] Connection id "0HMSRUVMAQD08" stopped.
2023-08-13 13:24:20.878 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 13:24:21.018 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 13:24:21.751 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 13:24:21.751 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 13:24:21.857 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 13:24:22.142 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:24:22.250 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:24:22.265 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:24:22.277 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 13:24:22.286 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 13:24:22.288 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:24:22.291 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:24:22.301 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:24:22.331 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:24:22.335 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:24:22.339 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:24:22.383 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 13:24:22.689 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 13:24:22.721 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:24:22.722 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:24:22.722 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:24:22.722 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:24:22.723 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:24:22.724 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:24:22.731 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:24:22.731 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:24:22.732 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:24:22.739 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:24:22.743 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:24:22.750 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:24:22.755 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 13:24:22.758 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:24:22.799 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 13:24:22.843 +01:00 [DBG] Hosting starting
2023-08-13 13:24:22.847 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 13:24:22.853 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 13:24:22.853 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 13:24:22.860 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 13:24:22.865 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 13:24:22.865 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 13:24:22.876 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 13:24:22.879 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:24:22.881 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 13:24:22.882 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:24:22.883 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 13:24:22.885 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 13:24:22.889 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 13:24:22.889 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 13:24:23.030 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 13:24:23.088 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 13:24:23.088 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 13:24:23.088 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 13:24:23.088 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 13:24:23.088 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 13:24:23.088 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 13:24:23.088 +01:00 [INF] Hosting environment: Development
2023-08-13 13:24:23.088 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 13:24:23.088 +01:00 [DBG] Hosting started
2023-08-13 13:24:23.121 +01:00 [DBG] Connection id "0HMSRV0T0QUIE" received FIN.
2023-08-13 13:24:23.121 +01:00 [DBG] Connection id "0HMSRV0T0QUIF" received FIN.
2023-08-13 13:24:23.126 +01:00 [DBG] Connection id "0HMSRV0T0QUIE" accepted.
2023-08-13 13:24:23.126 +01:00 [DBG] Connection id "0HMSRV0T0QUIF" accepted.
2023-08-13 13:24:23.127 +01:00 [DBG] Connection id "0HMSRV0T0QUIE" started.
2023-08-13 13:24:23.127 +01:00 [DBG] Connection id "0HMSRV0T0QUIF" started.
2023-08-13 13:24:23.146 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:24:23.146 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:24:23.184 +01:00 [DBG] Connection id "0HMSRV0T0QUIE" stopped.
2023-08-13 13:24:23.184 +01:00 [DBG] Connection id "0HMSRV0T0QUIF" stopped.
2023-08-13 13:24:23.186 +01:00 [DBG] Connection id "0HMSRV0T0QUIE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:24:23.186 +01:00 [DBG] Connection id "0HMSRV0T0QUIF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:24:23.609 +01:00 [DBG] Connection id "0HMSRV0T0QUIG" accepted.
2023-08-13 13:24:23.609 +01:00 [DBG] Connection id "0HMSRV0T0QUIG" started.
2023-08-13 13:24:23.801 +01:00 [DBG] Connection 0HMSRV0T0QUIG established using the following protocol: "Tls13"
2023-08-13 13:24:23.935 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 13:24:24.011 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 13:24:24.070 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 13:24:24.070 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:24:24.286 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 13:24:24.576 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 13:24:24.582 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 13:24:24.586 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 13:24:24.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 9.3065ms
2023-08-13 13:24:24.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 661.4604ms
2023-08-13 13:24:24.620 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.3061ms
2023-08-13 13:24:24.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 13:24:24.817 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 13:24:24.817 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:24:25.055 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 238.9542ms
2023-08-13 13:24:27.173 +01:00 [DBG] Connection id "0HMSRV0T0QUIG" received FIN.
2023-08-13 13:24:27.173 +01:00 [DBG] Connection id "0HMSRV0T0QUIG" is closed. The last processed stream ID was 7.
2023-08-13 13:24:27.173 +01:00 [DBG] Connection id "0HMSRV0T0QUIG" sending FIN because: "The client closed the connection."
2023-08-13 13:24:27.177 +01:00 [DBG] Connection id "0HMSRV0T0QUIG" stopped.
2023-08-13 13:26:29.090 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 13:26:29.262 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 13:26:30.053 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 13:26:30.053 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 13:26:30.175 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 13:26:30.455 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:26:30.546 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:30.564 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:30.581 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 13:26:30.594 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-08-13 13:26:30.597 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:30.600 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:30.611 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:26:30.639 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:26:30.644 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:30.650 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:30.701 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 13:26:31.148 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 13:26:31.188 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:26:31.189 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:26:31.189 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:31.189 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:31.190 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:26:31.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:26:31.197 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:26:31.197 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:31.197 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:31.204 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:26:31.206 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:26:31.210 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:26:31.215 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 13:26:31.219 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:26:31.259 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 13:26:31.292 +01:00 [DBG] Hosting starting
2023-08-13 13:26:31.296 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 13:26:31.301 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 13:26:31.301 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 13:26:31.306 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 13:26:31.309 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 13:26:31.309 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 13:26:31.322 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 13:26:31.324 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:26:31.325 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 13:26:31.326 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:26:31.327 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 13:26:31.330 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 13:26:31.334 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 13:26:31.334 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 13:26:31.485 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 13:26:31.564 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 13:26:31.568 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 13:26:31.568 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 13:26:31.568 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 13:26:31.568 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 13:26:31.568 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 13:26:31.568 +01:00 [INF] Hosting environment: Development
2023-08-13 13:26:31.569 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 13:26:31.569 +01:00 [DBG] Hosting started
2023-08-13 13:26:31.642 +01:00 [DBG] Connection id "0HMSRV23AGEUV" received FIN.
2023-08-13 13:26:31.645 +01:00 [DBG] Connection id "0HMSRV23AGEUU" received FIN.
2023-08-13 13:26:31.647 +01:00 [DBG] Connection id "0HMSRV23AGEUV" accepted.
2023-08-13 13:26:31.647 +01:00 [DBG] Connection id "0HMSRV23AGEUU" accepted.
2023-08-13 13:26:31.648 +01:00 [DBG] Connection id "0HMSRV23AGEUU" started.
2023-08-13 13:26:31.648 +01:00 [DBG] Connection id "0HMSRV23AGEUV" started.
2023-08-13 13:26:31.664 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:26:31.664 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:26:31.705 +01:00 [DBG] Connection id "0HMSRV23AGEUV" stopped.
2023-08-13 13:26:31.705 +01:00 [DBG] Connection id "0HMSRV23AGEUU" stopped.
2023-08-13 13:26:31.708 +01:00 [DBG] Connection id "0HMSRV23AGEUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:26:31.708 +01:00 [DBG] Connection id "0HMSRV23AGEUU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:26:32.242 +01:00 [DBG] Connection id "0HMSRV23AGEV0" accepted.
2023-08-13 13:26:32.273 +01:00 [DBG] Connection id "0HMSRV23AGEV0" started.
2023-08-13 13:26:32.757 +01:00 [DBG] Connection 0HMSRV23AGEV0 established using the following protocol: "Tls13"
2023-08-13 13:26:32.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 13:26:32.917 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 13:26:32.965 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 13:26:32.968 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:26:33.089 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 13:26:33.245 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 13:26:33.249 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 13:26:33.253 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 13:26:33.255 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 9.2880ms
2023-08-13 13:26:33.255 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 422.3068ms
2023-08-13 13:26:33.296 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.0986ms
2023-08-13 13:26:33.536 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 13:26:33.537 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 13:26:33.537 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:26:33.789 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.2194ms
2023-08-13 13:26:35.710 +01:00 [DBG] Connection id "0HMSRV23AGEV0" received FIN.
2023-08-13 13:26:35.710 +01:00 [DBG] Connection id "0HMSRV23AGEV0" is closed. The last processed stream ID was 7.
2023-08-13 13:26:35.710 +01:00 [DBG] Connection id "0HMSRV23AGEV0" sending FIN because: "The client closed the connection."
2023-08-13 13:26:35.714 +01:00 [DBG] Connection id "0HMSRV23AGEV0" stopped.
2023-08-13 13:26:54.937 +01:00 [DBG] Connection id "0HMSRV23AGEV1" accepted.
2023-08-13 13:26:54.941 +01:00 [DBG] Connection id "0HMSRV23AGEV1" started.
2023-08-13 13:26:54.945 +01:00 [DBG] Connection 0HMSRV23AGEV1 established using the following protocol: "Tls13"
2023-08-13 13:26:54.947 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138
2023-08-13 13:26:54.955 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 13:26:54.956 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 13:26:54.956 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 13:26:54.958 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:26:54.974 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:26:54.978 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 13:26:55.016 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 13:26:55.017 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:26:55.018 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:26:55.018 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:26:55.018 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:26:55.018 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:26:55.019 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 13:26:55.293 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:26:55.295 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 13:26:55.314 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 13:26:55.317 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 13:26:55.320 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:26:55.328 +01:00 [DBG] Connection id "0HMSRV23AGEV1", Request id "0HMSRV23AGEV1:00000001": started reading request body.
2023-08-13 13:26:55.329 +01:00 [DBG] Connection id "0HMSRV23AGEV1", Request id "0HMSRV23AGEV1:00000001": done reading request body.
2023-08-13 13:26:55.341 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 13:26:55.342 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 13:26:55.342 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 13:26:55.342 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 13:26:55.356 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 13:26:55.359 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 13:26:55.359 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 13:26:55.361 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 13:26:55.361 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 13:26:55.361 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 13:26:55.362 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 13:26:55.391 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-08-13 13:26:55.532 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 13:26:55.588 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:26:55.588 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:26:55.599 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:55.600 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:55.611 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 13:26:55.624 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 13:26:55.629 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:26:55.639 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:26:55.640 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:26:55.647 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2023-08-13 13:26:55.648 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 13:26:55.650 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 13:26:55.650 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 13:26:55.651 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 13:26:55.652 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 13:26:55.652 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 13:26:55.671 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 645.7203ms
2023-08-13 13:26:55.671 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 13:26:55.675 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:26:55.679 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138 - 500 - application/json;+charset=utf-8 732.5207ms
2023-08-13 13:27:27.457 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140
2023-08-13 13:27:27.477 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 13:27:27.477 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 13:27:27.477 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 13:27:27.477 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:27:27.478 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:27:27.478 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 13:27:27.478 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 13:27:27.478 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:27:27.478 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:27:27.478 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:27:27.478 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:27:27.478 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:27:27.479 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 13:27:27.559 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:27:27.560 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 13:27:27.560 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 13:27:27.560 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 13:27:27.560 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:27:27.561 +01:00 [DBG] Connection id "0HMSRV23AGEV1", Request id "0HMSRV23AGEV1:00000003": started reading request body.
2023-08-13 13:27:27.561 +01:00 [DBG] Connection id "0HMSRV23AGEV1", Request id "0HMSRV23AGEV1:00000003": done reading request body.
2023-08-13 13:27:27.561 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 13:27:27.561 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 13:27:27.561 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 13:27:27.561 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 13:27:27.561 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 13:27:27.561 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 13:27:27.561 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 13:27:27.561 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 13:27:27.561 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 13:27:27.561 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 13:27:27.561 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 13:27:27.566 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:27:27.566 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:27:27.566 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:27.566 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:27.566 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 13:27:27.566 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 13:27:27.566 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:27:27.566 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:27.566 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:27.606 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-08-13 13:27:27.614 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 13:27:27.614 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:27:27.614 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:27:27.614 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:27.614 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:27.614 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 13:27:27.615 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 13:27:27.615 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:27:27.615 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:27.615 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:27.763 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:27:27.765 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:27:27.765 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:27:27.787 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:27:27.809 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:27.809 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:27.812 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:27:27.818 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:27:27.897 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:27:27.898 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:27:27.898 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 13:27:27.900 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 13:27:27.906 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:27:27.913 +01:00 [DBG] Committing transaction.
2023-08-13 13:27:27.925 +01:00 [DBG] Committed transaction.
2023-08-13 13:27:27.931 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:27.931 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:27.935 +01:00 [DBG] Disposing transaction.
2023-08-13 13:27:27.954 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:27:27.954 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 13:27:27.981 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:27:28.020 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:27:28.024 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:27:28.024 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:27:28.040 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:27:28.046 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:28.047 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:28.048 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:27:28.049 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:27:28.053 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:27:28.053 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:27:28.053 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36), @p6='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-08-13 13:27:28.055 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36), @p6='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-08-13 13:27:28.056 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:27:28.058 +01:00 [DBG] Committing transaction.
2023-08-13 13:27:28.060 +01:00 [DBG] Committed transaction.
2023-08-13 13:27:28.061 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:27:28.061 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:27:28.062 +01:00 [DBG] Disposing transaction.
2023-08-13 13:27:28.062 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:27:28.063 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 13:27:28.093 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 13:27:28.102 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkSuAZipm0yzdtW5hmkWh9MchPIept4qDfdN9%2BuqsYXnQdyBSd4ixZt3BbFn6HSXsA%2BAgbcNET%2BZ6BiG6m%2BUksO6Hg3kanQ5x6JjSiBDox7iJXXcSR25AvfpUSmdxEKU9qKoiOV6EfuwNL29jEzBCASDuSRfV3fkOlab7UgmIuxc%2FyBW5fNAamdA8z8ve7QeygAt1fwUir71rAJ3dzh8Esw4AEFKG%2FQEkL00a756Pocbfg%3D%3D&email=user@example.com
2023-08-13 13:27:28.104 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkSuAZipm0yzdtW5hmkWh9MchPIept4qDfdN9%2BuqsYXnQdyBSd4ixZt3BbFn6HSXsA%2BAgbcNET%2BZ6BiG6m%2BUksO6Hg3kanQ5x6JjSiBDox7iJXXcSR25AvfpUSmdxEKU9qKoiOV6EfuwNL29jEzBCASDuSRfV3fkOlab7UgmIuxc%2FyBW5fNAamdA8z8ve7QeygAt1fwUir71rAJ3dzh8Esw4AEFKG%2FQEkL00a756Pocbfg%3D%3D&email=user@example.com
2023-08-13 13:27:28.479 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 1000.2746ms
2023-08-13 13:27:28.481 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 13:27:28.483 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 13:27:28.526 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:27:28.526 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140 - 500 - text/plain;+charset=utf-8 1068.8451ms
2023-08-13 13:28:37.095 +01:00 [DBG] Connection id "0HMSRV23AGEV1" received FIN.
2023-08-13 13:28:37.178 +01:00 [DBG] Connection id "0HMSRV23AGEV1" is closed. The last processed stream ID was 3.
2023-08-13 13:28:37.178 +01:00 [DBG] Connection id "0HMSRV23AGEV1" sending FIN because: "The client closed the connection."
2023-08-13 13:28:37.208 +01:00 [DBG] Connection id "0HMSRV23AGEV1" stopped.
2023-08-13 13:28:39.051 +01:00 [DBG] Connection id "0HMSRV23AGEV2" accepted.
2023-08-13 13:28:39.051 +01:00 [DBG] Connection id "0HMSRV23AGEV2" started.
2023-08-13 13:28:39.055 +01:00 [DBG] Connection 0HMSRV23AGEV2 established using the following protocol: "Tls13"
2023-08-13 13:28:39.057 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Make-Payment application/json 79
2023-08-13 13:28:39.057 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Make-Payment'
2023-08-13 13:28:39.057 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)' with route pattern 'api/Payment/Make-Payment' is valid for the request path '/api/Payment/Make-Payment'
2023-08-13 13:28:39.057 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)'
2023-08-13 13:28:39.057 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:28:39.060 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:28:39.061 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)'
2023-08-13 13:28:39.065 +01:00 [INF] Route matched with {action = "CreateTransaction", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:28:39.065 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:28:39.065 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:28:39.065 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:28:39.065 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:28:39.065 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:28:39.065 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:28:39.067 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:28:39.067 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:28:39.068 +01:00 [DBG] Attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest' ...
2023-08-13 13:28:39.068 +01:00 [DBG] Attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest' using the name '' in request data ...
2023-08-13 13:28:39.068 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:28:39.068 +01:00 [DBG] Connection id "0HMSRV23AGEV2", Request id "0HMSRV23AGEV2:00000001": started reading request body.
2023-08-13 13:28:39.069 +01:00 [DBG] Connection id "0HMSRV23AGEV2", Request id "0HMSRV23AGEV2:00000001": done reading request body.
2023-08-13 13:28:39.071 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'
2023-08-13 13:28:39.071 +01:00 [DBG] Done attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'.
2023-08-13 13:28:39.071 +01:00 [DBG] Done attempting to bind parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'.
2023-08-13 13:28:39.071 +01:00 [DBG] Attempting to validate the bound parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest' ...
2023-08-13 13:28:39.073 +01:00 [DBG] Done attempting to validate the bound parameter 'transactionRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionRequest'.
2023-08-13 13:28:40.508 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 13:28:40.508 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 13:28:40.508 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 13:28:40.508 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 13:28:40.508 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 13:28:40.508 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[SavingsApp.Data.Entities.DTOs.Response.PaystackTransactionResponse, SavingsApp.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-13 13:28:40.513 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App) in 1447.8796ms
2023-08-13 13:28:40.515 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.CreateTransaction (Savings-App)'
2023-08-13 13:28:40.518 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:28:40.518 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Make-Payment application/json 79 - 200 - application/json;+charset=utf-8 1462.0157ms
2023-08-13 13:29:27.662 +01:00 [DBG] Connection id "0HMSRV23AGEV2" received FIN.
2023-08-13 13:29:27.844 +01:00 [DBG] Connection id "0HMSRV23AGEV2" is closed. The last processed stream ID was 1.
2023-08-13 13:29:27.844 +01:00 [DBG] Connection id "0HMSRV23AGEV2" sending FIN because: "The client closed the connection."
2023-08-13 13:29:27.872 +01:00 [DBG] Connection id "0HMSRV23AGEV2" stopped.
2023-08-13 13:30:41.419 +01:00 [DBG] Connection id "0HMSRV23AGEV3" accepted.
2023-08-13 13:30:41.419 +01:00 [DBG] Connection id "0HMSRV23AGEV3" started.
2023-08-13 13:30:41.429 +01:00 [DBG] Connection 0HMSRV23AGEV3 established using the following protocol: "Tls13"
2023-08-13 13:30:41.433 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=9074844874&description=funding application/json 42
2023-08-13 13:30:41.445 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 13:30:41.447 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 13:30:41.447 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:30:41.447 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:30:41.447 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:30:41.449 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:30:41.455 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:30:41.455 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:30:41.455 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:30:41.455 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:30:41.455 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:30:41.455 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:30:41.455 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:30:41.456 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:30:41.456 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:30:41.456 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 13:30:41.456 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 13:30:41.456 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:30:41.457 +01:00 [DBG] Connection id "0HMSRV23AGEV3", Request id "0HMSRV23AGEV3:00000001": started reading request body.
2023-08-13 13:30:41.457 +01:00 [DBG] Connection id "0HMSRV23AGEV3", Request id "0HMSRV23AGEV3:00000001": done reading request body.
2023-08-13 13:30:41.458 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 13:30:41.458 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:30:41.458 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:30:41.458 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 13:30:41.459 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:30:41.459 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 13:30:41.459 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 13:30:41.460 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 13:30:41.460 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 13:30:41.460 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 13:30:41.460 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 13:30:41.460 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 13:30:41.460 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 13:30:41.460 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 13:30:41.460 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 13:30:41.460 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 13:30:41.460 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 13:30:41.480 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .AsNoTracking()
    .Where(wf => wf.Reference == __paymentReference_0)
    .FirstOrDefault()'
2023-08-13 13:30:41.492 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.Reference == @__paymentReference_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:30:41.498 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:30:41.498 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:30:41.498 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:41.498 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:41.499 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 13:30:41.499 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 13:30:41.499 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:30:41.499 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:41.499 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:43.147 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __WalletId_0)
    .FirstOrDefault()'
2023-08-13 13:30:43.151 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__WalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:30:43.151 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:30:43.152 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:30:43.152 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:43.152 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:43.152 +01:00 [DBG] Executing DbCommand [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 13:30:43.152 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__WalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__WalletId_0
LIMIT 1
2023-08-13 13:30:43.159 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:30:43.160 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:43.160 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:43.162 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 13:30:43.174 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:30:43.175 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:30:43.175 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:30:43.175 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:43.175 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:43.175 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:30:43.175 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:30:43.176 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:30:43.176 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:43.176 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:48.264 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:30:48.264 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:30:48.264 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:30:48.264 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:30:48.264 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:48.264 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:48.264 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:30:48.265 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:30:48.272 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:30:48.272 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:30:48.272 +01:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 10), @p4='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 13:30:48.275 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 10), @p4='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 13:30:48.276 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:30:48.276 +01:00 [DBG] Committing transaction.
2023-08-13 13:30:48.279 +01:00 [DBG] Committed transaction.
2023-08-13 13:30:48.279 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:48.280 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:48.280 +01:00 [DBG] Disposing transaction.
2023-08-13 13:30:48.283 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:30:48.283 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 13:30:49.307 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:30:49.334 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:30:50.345 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:30:50.345 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:30:50.356 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:30:50.356 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:50.356 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:50.356 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:30:50.356 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:30:50.356 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:30:50.356 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:30:50.358 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 7), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:30:50.366 +01:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 7), @p6='?' (DbType = DateTime), @p7='?' (Size = 21), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:30:50.372 +01:00 [DBG] Disposing transaction.
2023-08-13 13:30:50.372 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:30:50.372 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:30:50.379 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 13:30:50.560 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 9105.2757ms
2023-08-13 13:30:50.561 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:30:50.562 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 162
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 13:30:50.579 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:30:50.579 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=9074844874&description=funding application/json 42 - 500 - text/plain;+charset=utf-8 9145.6181ms
2023-08-13 13:30:59.158 +01:00 [DBG] Connection id "0HMSRV23AGEV3" received FIN.
2023-08-13 13:30:59.235 +01:00 [DBG] Connection id "0HMSRV23AGEV3" is closed. The last processed stream ID was 1.
2023-08-13 13:30:59.235 +01:00 [DBG] Connection id "0HMSRV23AGEV3" sending FIN because: "The client closed the connection."
2023-08-13 13:30:59.235 +01:00 [DBG] Connection id "0HMSRV23AGEV3" stopped.
2023-08-13 13:40:26.606 +01:00 [DBG] Connection id "0HMSRV23AGEV4" accepted.
2023-08-13 13:40:26.614 +01:00 [DBG] Connection id "0HMSRV23AGEV4" started.
2023-08-13 13:40:26.648 +01:00 [DBG] Connection 0HMSRV23AGEV4 established using the following protocol: "Tls13"
2023-08-13 13:40:26.652 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=9074844874&description=funding application/json 42
2023-08-13 13:40:26.652 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 13:40:26.652 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 13:40:26.652 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:40:26.653 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:40:26.653 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:40:26.653 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:40:26.653 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:40:26.653 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:40:26.657 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:40:26.657 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:40:26.657 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:40:26.657 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:40:26.657 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:40:26.659 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:40:26.660 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 13:40:26.660 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:40:26.660 +01:00 [DBG] Connection id "0HMSRV23AGEV4", Request id "0HMSRV23AGEV4:00000001": started reading request body.
2023-08-13 13:40:26.660 +01:00 [DBG] Connection id "0HMSRV23AGEV4", Request id "0HMSRV23AGEV4:00000001": done reading request body.
2023-08-13 13:40:26.660 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 13:40:26.660 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 13:40:26.660 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 13:40:26.661 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:40:26.661 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:40:26.661 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:40:26.662 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:40:26.662 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 13:40:26.664 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 13:40:26.664 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:40:26.664 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:40:26.664 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:40:26.810 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 152.851ms
2023-08-13 13:40:26.810 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:40:26.812 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: No such host is known. (api.paystack.co:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Paystack.Net.SDK.Transactions.PaystackTransaction.VerifyTransaction(String reference)
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 131
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 13:40:26.822 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:40:26.822 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=9074844874&description=funding application/json 42 - 500 - text/plain;+charset=utf-8 172.0541ms
2023-08-13 13:40:59.424 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=9074844874&description=funding application/json 42
2023-08-13 13:40:59.424 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Fund-Wallet'
2023-08-13 13:40:59.424 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)' with route pattern 'api/Payment/Fund-Wallet' is valid for the request path '/api/Payment/Fund-Wallet'
2023-08-13 13:40:59.424 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:40:59.424 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:40:59.424 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:40:59.427 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:40:59.427 +01:00 [INF] Route matched with {action = "FundWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FundWallet(SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest, System.String, System.String) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:40:59.427 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:40:59.427 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:40:59.427 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:40:59.428 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:40:59.428 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:40:59.428 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:40:59.428 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:40:59.429 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:40:59.429 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 13:40:59.429 +01:00 [DBG] Attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' using the name '' in request data ...
2023-08-13 13:40:59.429 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:40:59.429 +01:00 [DBG] Connection id "0HMSRV23AGEV4", Request id "0HMSRV23AGEV4:00000003": started reading request body.
2023-08-13 13:40:59.431 +01:00 [DBG] Connection id "0HMSRV23AGEV4", Request id "0HMSRV23AGEV4:00000003": done reading request body.
2023-08-13 13:40:59.432 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to bind parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest' ...
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to validate the bound parameter 'verificationRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.PaystackTransactionVerificationRequest'.
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' ...
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to bind parameter 'WalletId' of type 'System.String' using the name 'WalletId' in request data ...
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to bind parameter 'WalletId' of type 'System.String'.
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to validate the bound parameter 'WalletId' of type 'System.String' ...
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to validate the bound parameter 'WalletId' of type 'System.String'.
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' ...
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to bind parameter 'description' of type 'System.String' using the name 'description' in request data ...
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to bind parameter 'description' of type 'System.String'.
2023-08-13 13:40:59.432 +01:00 [DBG] Attempting to validate the bound parameter 'description' of type 'System.String' ...
2023-08-13 13:40:59.432 +01:00 [DBG] Done attempting to validate the bound parameter 'description' of type 'System.String'.
2023-08-13 13:40:59.437 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:40:59.437 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:40:59.437 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:40:59.437 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:40:59.437 +01:00 [DBG] Executing DbCommand [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 13:40:59.444 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__paymentReference_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."Reference" = @__paymentReference_0
LIMIT 1
2023-08-13 13:40:59.444 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:40:59.444 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:40:59.444 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:40:59.574 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.FundWallet (Savings-App) in 145.9509ms
2023-08-13 13:40:59.574 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.FundWallet (Savings-App)'
2023-08-13 13:40:59.575 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: No such host is known. (api.paystack.co:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Paystack.Net.SDK.Transactions.PaystackTransaction.VerifyTransaction(String reference)
   at SavingsApp.Core.Services.Implementations.PaystackService.FundWallet(String paymentReference, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 131
   at Savings_App.Controllers.PaymentController.FundWallet(PaystackTransactionVerificationRequest verificationRequest, String WalletId, String description) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 13:40:59.580 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:40:59.580 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Fund-Wallet?WalletId=9074844874&description=funding application/json 42 - 500 - text/plain;+charset=utf-8 156.3555ms
2023-08-13 13:42:12.956 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 13:42:13.122 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 13:42:14.140 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 13:42:14.140 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 13:42:14.280 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 13:42:14.696 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:42:14.816 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:42:14.837 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:42:14.853 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 13:42:14.865 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 13:42:14.867 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:42:14.871 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:42:14.885 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:42:14.919 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:42:14.924 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:42:14.929 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:42:14.986 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 13:42:15.346 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 13:42:15.386 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:42:15.386 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:42:15.386 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:42:15.386 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:42:15.387 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:42:15.389 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:42:15.396 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:42:15.396 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:42:15.396 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:42:15.404 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:42:15.407 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:42:15.412 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:42:15.418 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 13:42:15.421 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:42:15.461 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 13:42:15.508 +01:00 [DBG] Hosting starting
2023-08-13 13:42:15.512 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 13:42:15.527 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 13:42:15.528 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 13:42:15.536 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 13:42:15.540 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 13:42:15.541 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 13:42:15.552 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 13:42:15.554 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:42:15.554 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 13:42:15.555 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:42:15.556 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 13:42:15.559 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 13:42:15.562 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 13:42:15.562 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 13:42:15.734 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 13:42:15.807 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 13:42:15.807 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 13:42:15.807 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 13:42:15.807 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 13:42:15.807 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 13:42:15.807 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 13:42:15.807 +01:00 [INF] Hosting environment: Development
2023-08-13 13:42:15.807 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 13:42:15.807 +01:00 [DBG] Hosting started
2023-08-13 13:42:16.144 +01:00 [DBG] Connection id "0HMSRVASPVECA" received FIN.
2023-08-13 13:42:16.157 +01:00 [DBG] Connection id "0HMSRVASPVECA" accepted.
2023-08-13 13:42:16.158 +01:00 [DBG] Connection id "0HMSRVASPVECA" started.
2023-08-13 13:42:16.176 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:42:16.277 +01:00 [DBG] Connection id "0HMSRVASPVECA" stopped.
2023-08-13 13:42:16.283 +01:00 [DBG] Connection id "0HMSRVASPVECA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:42:17.574 +01:00 [DBG] Connection id "0HMSRVASPVECB" accepted.
2023-08-13 13:42:17.579 +01:00 [DBG] Connection id "0HMSRVASPVECB" started.
2023-08-13 13:42:17.947 +01:00 [DBG] Connection 0HMSRVASPVECB established using the following protocol: "Tls13"
2023-08-13 13:42:18.159 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 13:42:18.262 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 13:42:18.380 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 13:42:18.381 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:42:18.565 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 13:42:18.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 13:42:18.849 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 13:42:18.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 13:42:18.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 37.7939ms
2023-08-13 13:42:18.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 730.4541ms
2023-08-13 13:42:18.934 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.9070ms
2023-08-13 13:42:19.235 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 13:42:19.237 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 13:42:19.237 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:42:19.665 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 429.7315ms
2023-08-13 13:42:20.426 +01:00 [DBG] Connection id "0HMSRVASPVECB" received FIN.
2023-08-13 13:42:20.426 +01:00 [DBG] Connection id "0HMSRVASPVECB" is closed. The last processed stream ID was 7.
2023-08-13 13:42:20.427 +01:00 [DBG] Connection id "0HMSRVASPVECB" sending FIN because: "The client closed the connection."
2023-08-13 13:42:20.430 +01:00 [DBG] Connection id "0HMSRVASPVECB" stopped.
2023-08-13 13:43:52.123 +01:00 [DBG] Connection id "0HMSRVASPVECC" accepted.
2023-08-13 13:43:52.132 +01:00 [DBG] Connection id "0HMSRVASPVECC" started.
2023-08-13 13:43:52.156 +01:00 [DBG] Connection 0HMSRVASPVECC established using the following protocol: "Tls13"
2023-08-13 13:43:52.161 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89
2023-08-13 13:43:52.197 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:43:52.197 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:43:52.198 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:43:52.200 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:43:52.213 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:43:52.217 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:43:52.258 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:43:52.259 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:43:52.259 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:43:52.259 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:43:52.259 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:43:52.260 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:43:52.261 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:43:52.263 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:43:52.265 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:43:52.272 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:43:52.274 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 13:43:52.276 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:43:52.284 +01:00 [DBG] Connection id "0HMSRVASPVECC", Request id "0HMSRVASPVECC:00000001": started reading request body.
2023-08-13 13:43:52.285 +01:00 [DBG] Connection id "0HMSRVASPVECC", Request id "0HMSRVASPVECC:00000001": done reading request body.
2023-08-13 13:43:52.295 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 13:43:52.296 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:43:52.296 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:43:52.296 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:43:52.307 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:43:52.344 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 13:43:52.480 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:43:52.501 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:43:52.501 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:43:52.505 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.505 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.515 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:43:52.530 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:43:52.543 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:43:52.544 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.544 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.544 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 13:43:52.548 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:43:52.549 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:43:52.549 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:43:52.549 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.549 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.549 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:43:52.549 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:43:52.549 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:43:52.549 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.549 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.554 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 13:43:52.567 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:43:52.568 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:43:52.568 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:43:52.568 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.568 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.568 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:43:52.572 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:43:52.572 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:43:52.572 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.572 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.576 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:43:52.577 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:43:52.577 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.577 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.577 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:43:52.577 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:43:52.577 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:43:52.577 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:43:52.577 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:43:52.626 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:43:52.749 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:44:03.208 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:44:03.210 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:44:03.210 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:44:03.235 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:44:03.248 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:44:03.248 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:44:03.252 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:44:03.258 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:44:03.326 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:44:03.326 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:44:03.329 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:44:03.339 +01:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:44:03.346 +01:00 [DBG] Disposing transaction.
2023-08-13 13:44:03.347 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:44:03.347 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:44:03.354 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 13:44:06.136 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 13868.2528ms
2023-08-13 13:44:06.144 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:44:06.174 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 232
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 13:44:06.249 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:44:06.254 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89 - 500 - text/plain;+charset=utf-8 14092.9446ms
2023-08-13 13:48:42.077 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 13:48:42.241 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 13:48:42.968 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 13:48:42.968 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 13:48:43.092 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 13:48:43.352 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:48:43.447 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:48:43.464 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:48:43.475 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 13:48:43.485 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 13:48:43.487 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:48:43.490 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:48:43.500 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:48:43.524 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:48:43.528 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:48:43.532 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:48:43.571 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 13:48:43.878 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 13:48:43.915 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:48:43.915 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:48:43.915 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:48:43.915 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:48:43.916 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:48:43.918 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:48:43.924 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:48:43.924 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:48:43.924 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:48:43.934 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:48:43.937 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:48:43.942 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:48:43.947 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 13:48:43.950 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:48:43.989 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 13:48:44.023 +01:00 [DBG] Hosting starting
2023-08-13 13:48:44.025 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 13:48:44.040 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 13:48:44.041 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 13:48:44.048 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 13:48:44.052 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 13:48:44.052 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 13:48:44.066 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 13:48:44.069 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:48:44.069 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 13:48:44.070 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:48:44.071 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 13:48:44.073 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 13:48:44.075 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 13:48:44.076 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 13:48:44.294 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 13:48:44.351 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 13:48:44.351 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 13:48:44.351 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 13:48:44.351 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 13:48:44.351 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 13:48:44.352 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 13:48:44.352 +01:00 [INF] Hosting environment: Development
2023-08-13 13:48:44.352 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 13:48:44.352 +01:00 [DBG] Hosting started
2023-08-13 13:48:44.472 +01:00 [DBG] Connection id "0HMSRVEGHBVBU" received FIN.
2023-08-13 13:48:44.485 +01:00 [DBG] Connection id "0HMSRVEGHBVBU" accepted.
2023-08-13 13:48:44.487 +01:00 [DBG] Connection id "0HMSRVEGHBVBU" started.
2023-08-13 13:48:44.506 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:48:44.612 +01:00 [DBG] Connection id "0HMSRVEGHBVBU" stopped.
2023-08-13 13:48:44.616 +01:00 [DBG] Connection id "0HMSRVEGHBVBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:48:45.172 +01:00 [DBG] Connection id "0HMSRVEGHBVBV" accepted.
2023-08-13 13:48:45.172 +01:00 [DBG] Connection id "0HMSRVEGHBVBV" started.
2023-08-13 13:48:45.482 +01:00 [DBG] Connection 0HMSRVEGHBVBV established using the following protocol: "Tls13"
2023-08-13 13:48:45.618 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 13:48:45.728 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 13:48:45.856 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 13:48:45.857 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:48:46.197 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 13:48:46.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 13:48:46.482 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 13:48:46.502 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 20.7936ms
2023-08-13 13:48:46.502 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 13:48:46.503 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 895.4652ms
2023-08-13 13:48:46.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 184.9797ms
2023-08-13 13:48:47.018 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 13:48:47.020 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 13:48:47.020 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:48:47.331 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 312.2461ms
2023-08-13 13:48:48.626 +01:00 [DBG] Connection id "0HMSRVEGHBVBV" received FIN.
2023-08-13 13:48:48.626 +01:00 [DBG] Connection id "0HMSRVEGHBVBV" is closed. The last processed stream ID was 7.
2023-08-13 13:48:48.627 +01:00 [DBG] Connection id "0HMSRVEGHBVBV" sending FIN because: "The client closed the connection."
2023-08-13 13:48:48.630 +01:00 [DBG] Connection id "0HMSRVEGHBVBV" stopped.
2023-08-13 13:49:17.144 +01:00 [DBG] Connection id "0HMSRVEGHBVC0" accepted.
2023-08-13 13:49:17.150 +01:00 [DBG] Connection id "0HMSRVEGHBVC0" started.
2023-08-13 13:49:17.175 +01:00 [DBG] Connection 0HMSRVEGHBVC0 established using the following protocol: "Tls13"
2023-08-13 13:49:17.186 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90
2023-08-13 13:49:17.204 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:49:17.204 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:49:17.205 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:49:17.206 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:49:17.215 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:49:17.217 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:49:17.237 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:49:17.238 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:49:17.238 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:49:17.238 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:49:17.238 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:49:17.238 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:49:17.239 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:49:17.243 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:49:17.251 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:49:17.255 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:49:17.257 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 13:49:17.257 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:49:17.263 +01:00 [DBG] Connection id "0HMSRVEGHBVC0", Request id "0HMSRVEGHBVC0:00000001": started reading request body.
2023-08-13 13:49:17.263 +01:00 [DBG] Connection id "0HMSRVEGHBVC0", Request id "0HMSRVEGHBVC0:00000001": done reading request body.
2023-08-13 13:49:17.269 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 13:49:17.269 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:49:17.269 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:49:17.269 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:49:17.275 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:49:17.303 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 13:49:17.404 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:49:17.416 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:49:17.416 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:49:17.418 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.418 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.422 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:49:17.429 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:49:17.435 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:49:17.435 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.435 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.435 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 13:49:17.437 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:49:17.438 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:49:17.438 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:49:17.438 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.438 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.438 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:49:17.438 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:49:17.438 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:49:17.438 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.438 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.440 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 13:49:17.451 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:49:17.451 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:49:17.452 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:49:17.452 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.452 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.452 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:49:17.452 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:49:17.452 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:49:17.452 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.452 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.454 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:49:17.454 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:49:17.454 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.454 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.454 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:49:17.454 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:49:17.454 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:49:17.454 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:49:17.454 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:49:17.484 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:49:17.559 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:52:20.931 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:52:37.567 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:52:37.567 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:52:37.594 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:52:37.603 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:52:37.603 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:52:37.605 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:52:37.609 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:52:37.674 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:52:37.674 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:52:37.677 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:52:37.684 +01:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:52:37.691 +01:00 [DBG] Disposing transaction.
2023-08-13 13:52:37.692 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:52:37.692 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:52:37.697 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 13:54:45.089 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 13:54:45.227 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 13:54:45.940 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 13:54:45.940 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 13:54:46.051 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 13:54:46.318 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:54:46.405 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:54:46.419 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:54:46.431 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 13:54:46.440 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 13:54:46.441 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:54:46.444 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:54:46.454 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:54:46.478 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 13:54:46.482 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:54:46.487 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:54:46.534 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 13:54:46.803 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 13:54:46.836 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:54:46.836 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:54:46.836 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:54:46.836 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:54:46.838 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:54:46.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 13:54:46.844 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:54:46.844 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:54:46.844 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:54:46.851 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:54:46.854 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:54:46.858 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:54:46.864 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 13:54:46.866 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:54:46.908 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 13:54:46.940 +01:00 [DBG] Hosting starting
2023-08-13 13:54:46.943 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 13:54:46.947 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 13:54:46.947 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 13:54:46.953 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 13:54:46.956 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 13:54:46.956 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 13:54:46.963 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 13:54:46.965 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:54:46.965 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 13:54:46.967 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 13:54:46.967 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 13:54:46.969 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 13:54:46.971 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 13:54:46.972 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 13:54:47.123 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 13:54:47.193 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 13:54:47.193 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 13:54:47.193 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 13:54:47.194 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 13:54:47.194 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 13:54:47.194 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 13:54:47.194 +01:00 [INF] Hosting environment: Development
2023-08-13 13:54:47.194 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 13:54:47.194 +01:00 [DBG] Hosting started
2023-08-13 13:54:47.484 +01:00 [DBG] Connection id "0HMSRVHSN9E00" accepted.
2023-08-13 13:54:47.486 +01:00 [DBG] Connection id "0HMSRVHSN9E00" started.
2023-08-13 13:54:47.486 +01:00 [DBG] Connection id "0HMSRVHSN9E01" received FIN.
2023-08-13 13:54:47.488 +01:00 [DBG] Connection id "0HMSRVHSN9E01" accepted.
2023-08-13 13:54:47.488 +01:00 [DBG] Connection id "0HMSRVHSN9E01" started.
2023-08-13 13:54:47.489 +01:00 [DBG] Connection id "0HMSRVHSN9E00" received FIN.
2023-08-13 13:54:47.504 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:54:47.504 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 13:54:47.543 +01:00 [DBG] Connection id "0HMSRVHSN9E00" stopped.
2023-08-13 13:54:47.543 +01:00 [DBG] Connection id "0HMSRVHSN9E01" stopped.
2023-08-13 13:54:47.545 +01:00 [DBG] Connection id "0HMSRVHSN9E01" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:54:47.545 +01:00 [DBG] Connection id "0HMSRVHSN9E00" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 13:54:48.137 +01:00 [DBG] Connection id "0HMSRVHSN9E02" accepted.
2023-08-13 13:54:48.172 +01:00 [DBG] Connection id "0HMSRVHSN9E02" started.
2023-08-13 13:54:48.542 +01:00 [DBG] Connection 0HMSRVHSN9E02 established using the following protocol: "Tls13"
2023-08-13 13:54:48.651 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 13:54:48.781 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 13:54:48.845 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 13:54:48.846 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:54:49.059 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 13:54:49.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 13:54:49.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 13:54:49.283 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 13:54:49.298 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 30.2870ms
2023-08-13 13:54:49.298 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 656.7928ms
2023-08-13 13:54:49.316 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.9133ms
2023-08-13 13:54:49.622 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 13:54:49.623 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 13:54:49.623 +01:00 [DBG] Request did not match any endpoints
2023-08-13 13:54:49.889 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 266.5221ms
2023-08-13 13:54:51.102 +01:00 [DBG] Connection id "0HMSRVHSN9E02" received FIN.
2023-08-13 13:54:51.103 +01:00 [DBG] Connection id "0HMSRVHSN9E02" is closed. The last processed stream ID was 7.
2023-08-13 13:54:51.103 +01:00 [DBG] Connection id "0HMSRVHSN9E02" sending FIN because: "The client closed the connection."
2023-08-13 13:54:51.105 +01:00 [DBG] Connection id "0HMSRVHSN9E02" stopped.
2023-08-13 13:55:24.561 +01:00 [DBG] Connection id "0HMSRVHSN9E03" accepted.
2023-08-13 13:55:24.568 +01:00 [DBG] Connection id "0HMSRVHSN9E03" started.
2023-08-13 13:55:24.586 +01:00 [DBG] Connection 0HMSRVHSN9E03 established using the following protocol: "Tls13"
2023-08-13 13:55:24.593 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 97
2023-08-13 13:55:24.616 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:55:24.616 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:55:24.617 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:55:24.618 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:55:24.625 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:55:24.628 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:55:24.647 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:55:24.647 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:55:24.647 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:55:24.648 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:55:24.648 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:55:24.648 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:55:24.648 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:55:24.650 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:55:24.651 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:55:24.655 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:55:24.656 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 13:55:24.657 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:55:24.660 +01:00 [DBG] Connection id "0HMSRVHSN9E03", Request id "0HMSRVHSN9E03:00000001": started reading request body.
2023-08-13 13:55:24.661 +01:00 [DBG] Connection id "0HMSRVHSN9E03", Request id "0HMSRVHSN9E03:00000001": done reading request body.
2023-08-13 13:55:24.667 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 13:55:24.667 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:55:24.667 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:55:24.667 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:55:24.673 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:55:24.692 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 13:55:24.804 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:55:24.823 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:24.823 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:24.826 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:24.826 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:24.831 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:55:24.837 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:55:24.840 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:55:24.840 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:24.841 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:24.841 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 13:55:24.842 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:55:24.842 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:24.842 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:24.842 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:24.842 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:24.842 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:55:24.843 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:55:24.843 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:55:24.843 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:24.843 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:24.844 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 13:55:24.847 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 13:55:24.847 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 13:55:24.847 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 13:55:24.848 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 13:55:24.848 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 13:55:24.866 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 210.4581ms
2023-08-13 13:55:24.866 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:55:24.870 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:55:24.873 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 97 - 200 - application/json;+charset=utf-8 280.4948ms
2023-08-13 13:55:35.303 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 91
2023-08-13 13:55:35.308 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:55:35.309 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 13:55:35.309 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:55:35.309 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 13:55:35.309 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 13:55:35.309 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:55:35.310 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 13:55:35.310 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 13:55:35.310 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 13:55:35.310 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 13:55:35.310 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 13:55:35.310 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 13:55:35.310 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:55:35.365 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 13:55:35.365 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 13:55:35.365 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:55:35.366 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 13:55:35.366 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 13:55:35.366 +01:00 [DBG] Connection id "0HMSRVHSN9E03", Request id "0HMSRVHSN9E03:00000003": started reading request body.
2023-08-13 13:55:35.366 +01:00 [DBG] Connection id "0HMSRVHSN9E03", Request id "0HMSRVHSN9E03:00000003": done reading request body.
2023-08-13 13:55:35.366 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 13:55:35.366 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:55:35.366 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:55:35.366 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 13:55:35.366 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 13:55:35.371 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:35.371 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:35.371 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.372 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.372 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:55:35.372 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 13:55:35.372 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:55:35.372 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.372 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.372 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:35.372 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:35.373 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.373 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.373 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:55:35.373 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 13:55:35.373 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:55:35.373 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.373 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.377 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 13:55:35.387 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 13:55:35.387 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:35.387 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:35.387 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.387 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.388 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:55:35.388 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:55:35.388 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:55:35.388 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.388 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.389 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:35.389 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:35.389 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.389 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.389 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:55:35.389 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 13:55:35.389 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:55:35.389 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:35.389 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:35.424 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:55:35.492 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:55:47.187 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:55:47.187 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 13:55:47.187 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:55:47.206 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:55:47.233 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:47.234 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:47.237 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 13:55:47.243 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 13:55:47.308 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:55:47.309 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:55:47.312 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:55:47.321 +01:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 13:55:47.346 +01:00 [DBG] Disposing transaction.
2023-08-13 13:55:47.354 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:55:47.355 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:55:47.364 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 13:56:58.170 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 13:56:58.170 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 13:57:00.319 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()'
2023-08-13 13:57:00.322 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)'
2023-08-13 13:57:00.322 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 13:57:00.322 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 13:57:00.322 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 13:57:00.322 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:57:00.322 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
2023-08-13 13:57:00.322 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
2023-08-13 13:57:00.330 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 13:57:00.331 +01:00 [DBG] A data reader was disposed.
2023-08-13 13:57:00.331 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 13:57:00.331 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 13:58:17.714 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 162403.8261ms
2023-08-13 13:58:17.719 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 13:58:17.727 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 232
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 13:58:17.765 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 13:58:17.765 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 91 - 500 - text/plain;+charset=utf-8 162462.0585ms
2023-08-13 14:01:01.134 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:01:01.326 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:01:02.111 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:01:02.111 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:01:02.225 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 14:01:02.490 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:01:02.583 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:02.602 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:02.616 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:01:02.628 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-08-13 14:01:02.630 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:02.633 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:02.644 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:01:02.670 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:01:02.676 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:02.682 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:02.737 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:01:03.052 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:01:03.085 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:01:03.085 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:01:03.085 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:03.085 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:03.087 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:01:03.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:01:03.096 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:01:03.096 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:03.096 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:03.104 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:01:03.106 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:01:03.111 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:01:03.117 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:01:03.120 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:01:03.157 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:01:03.193 +01:00 [DBG] Hosting starting
2023-08-13 14:01:03.196 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:01:03.201 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:01:03.201 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:01:03.207 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:01:03.211 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:01:03.211 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:01:03.224 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:01:03.226 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:01:03.227 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:01:03.228 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:01:03.229 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:01:03.231 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:01:03.234 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:01:03.234 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:01:03.383 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:01:03.447 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:01:03.447 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:01:03.447 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:01:03.447 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:01:03.447 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:01:03.448 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:01:03.448 +01:00 [INF] Hosting environment: Development
2023-08-13 14:01:03.448 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:01:03.448 +01:00 [DBG] Hosting started
2023-08-13 14:01:03.612 +01:00 [DBG] Connection id "0HMSRVLCQAO51" accepted.
2023-08-13 14:01:03.614 +01:00 [DBG] Connection id "0HMSRVLCQAO51" started.
2023-08-13 14:01:03.614 +01:00 [DBG] Connection id "0HMSRVLCQAO52" accepted.
2023-08-13 14:01:03.615 +01:00 [DBG] Connection id "0HMSRVLCQAO52" started.
2023-08-13 14:01:03.654 +01:00 [DBG] Connection id "0HMSRVLCQAO52" received FIN.
2023-08-13 14:01:03.654 +01:00 [DBG] Connection id "0HMSRVLCQAO51" received FIN.
2023-08-13 14:01:03.682 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:01:03.682 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:01:03.724 +01:00 [DBG] Connection id "0HMSRVLCQAO51" stopped.
2023-08-13 14:01:03.724 +01:00 [DBG] Connection id "0HMSRVLCQAO52" stopped.
2023-08-13 14:01:03.727 +01:00 [DBG] Connection id "0HMSRVLCQAO51" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:01:03.727 +01:00 [DBG] Connection id "0HMSRVLCQAO52" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:01:04.299 +01:00 [DBG] Connection id "0HMSRVLCQAO53" accepted.
2023-08-13 14:01:04.322 +01:00 [DBG] Connection id "0HMSRVLCQAO53" started.
2023-08-13 14:01:04.754 +01:00 [DBG] Connection 0HMSRVLCQAO53 established using the following protocol: "Tls13"
2023-08-13 14:01:05.015 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:01:05.090 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:01:05.151 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:01:05.152 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:01:05.325 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:01:05.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:01:05.527 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:01:05.528 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:01:05.546 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 550.9494ms
2023-08-13 14:01:05.546 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 21.6421ms
2023-08-13 14:01:05.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.2575ms
2023-08-13 14:01:05.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:01:05.877 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:01:05.877 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:01:06.180 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 303.9978ms
2023-08-13 14:01:07.376 +01:00 [DBG] Connection id "0HMSRVLCQAO53" received FIN.
2023-08-13 14:01:07.376 +01:00 [DBG] Connection id "0HMSRVLCQAO53" is closed. The last processed stream ID was 7.
2023-08-13 14:01:07.377 +01:00 [DBG] Connection id "0HMSRVLCQAO53" sending FIN because: "The client closed the connection."
2023-08-13 14:01:07.380 +01:00 [DBG] Connection id "0HMSRVLCQAO53" stopped.
2023-08-13 14:01:38.160 +01:00 [DBG] Connection id "0HMSRVLCQAO54" accepted.
2023-08-13 14:01:38.169 +01:00 [DBG] Connection id "0HMSRVLCQAO54" started.
2023-08-13 14:01:38.194 +01:00 [DBG] Connection 0HMSRVLCQAO54 established using the following protocol: "Tls13"
2023-08-13 14:01:38.197 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90
2023-08-13 14:01:38.233 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:01:38.234 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:01:38.234 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:01:38.235 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:01:38.245 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:01:38.247 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:01:38.270 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:01:38.271 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:01:38.271 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:01:38.271 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:01:38.271 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:01:38.271 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:01:38.272 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:01:38.275 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:01:38.277 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:01:38.281 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:01:38.282 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:01:38.283 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:01:38.287 +01:00 [DBG] Connection id "0HMSRVLCQAO54", Request id "0HMSRVLCQAO54:00000001": started reading request body.
2023-08-13 14:01:38.288 +01:00 [DBG] Connection id "0HMSRVLCQAO54", Request id "0HMSRVLCQAO54:00000001": done reading request body.
2023-08-13 14:01:38.294 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:01:38.295 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:01:38.295 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:01:38.295 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:01:38.302 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:01:38.329 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:01:38.449 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:01:38.464 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:01:38.464 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:01:38.466 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.467 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.471 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:01:38.480 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:01:38.484 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:01:38.484 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.484 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.484 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:01:38.486 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:01:38.486 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:01:38.486 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:01:38.486 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.486 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.486 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:01:38.486 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:01:38.486 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:01:38.486 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.486 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.488 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:01:38.498 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:01:38.499 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:01:38.499 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:01:38.499 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.499 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.499 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:01:38.499 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:01:38.499 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:01:38.499 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.499 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.503 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:01:38.503 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:01:38.503 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.503 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.503 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:01:38.503 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:01:38.503 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:01:38.503 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:01:38.503 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:01:38.540 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:01:38.609 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:01:46.401 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:02:04.401 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:02:04.402 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:02:07.437 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:02:07.437 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:02:07.437 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:02:07.459 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:02:07.486 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:02:07.487 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:02:07.489 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:02:07.495 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:02:07.570 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:02:07.570 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:02:07.574 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:02:07.584 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:02:07.601 +01:00 [DBG] Disposing transaction.
2023-08-13 14:02:07.608 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:02:07.610 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:02:07.615 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:02:10.672 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 32394.2328ms
2023-08-13 14:02:10.679 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:02:10.696 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 248
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:02:10.735 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:02:10.738 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90 - 500 - text/plain;+charset=utf-8 32540.8397ms
2023-08-13 14:05:55.266 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:05:55.426 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:05:56.472 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:05:56.473 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:05:56.676 +01:00 [DBG] The property 'Wallet.applicationUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-08-13 14:05:57.101 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:05:57.238 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:05:57.264 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:05:57.289 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:05:57.304 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-08-13 14:05:57.307 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:05:57.312 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:05:57.325 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:05:57.359 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:05:57.365 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:05:57.371 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:05:57.433 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:05:57.872 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:05:57.941 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:05:57.942 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:05:57.942 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:05:57.942 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:05:57.944 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:05:57.947 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:05:57.960 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:05:57.960 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:05:57.961 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:05:57.977 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:05:57.982 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:05:57.992 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:05:58.004 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:05:58.033 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:05:58.149 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:05:58.202 +01:00 [DBG] Hosting starting
2023-08-13 14:05:58.207 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:05:58.214 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:05:58.214 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:05:58.222 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:05:58.226 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:05:58.226 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:05:58.238 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:05:58.240 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:05:58.241 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:05:58.242 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:05:58.243 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:05:58.245 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:05:58.249 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:05:58.249 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:05:58.403 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:05:58.452 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:05:58.452 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:05:58.452 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:05:58.452 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:05:58.452 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:05:58.453 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:05:58.453 +01:00 [INF] Hosting environment: Development
2023-08-13 14:05:58.453 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:05:58.453 +01:00 [DBG] Hosting started
2023-08-13 14:05:58.698 +01:00 [DBG] Connection id "0HMSRVO4OF75V" accepted.
2023-08-13 14:05:58.700 +01:00 [DBG] Connection id "0HMSRVO4OF75V" started.
2023-08-13 14:05:58.729 +01:00 [DBG] Connection id "0HMSRVO4OF75V" received FIN.
2023-08-13 14:05:58.740 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:05:58.791 +01:00 [DBG] Connection id "0HMSRVO4OF75V" stopped.
2023-08-13 14:05:58.795 +01:00 [DBG] Connection id "0HMSRVO4OF75V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:05:59.366 +01:00 [DBG] Connection id "0HMSRVO4OF760" accepted.
2023-08-13 14:05:59.366 +01:00 [DBG] Connection id "0HMSRVO4OF760" started.
2023-08-13 14:06:00.118 +01:00 [DBG] Connection 0HMSRVO4OF760 established using the following protocol: "Tls13"
2023-08-13 14:06:00.348 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:06:00.422 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:06:00.482 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:06:00.483 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:06:00.688 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:06:00.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:06:00.923 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:06:00.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 20.7656ms
2023-08-13 14:06:00.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 592.4610ms
2023-08-13 14:06:00.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:06:00.996 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.9260ms
2023-08-13 14:06:01.293 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:06:01.295 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:06:01.295 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:06:01.582 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 288.9915ms
2023-08-13 14:06:02.244 +01:00 [DBG] Connection id "0HMSRVO4OF760" received FIN.
2023-08-13 14:06:02.245 +01:00 [DBG] Connection id "0HMSRVO4OF760" is closed. The last processed stream ID was 7.
2023-08-13 14:06:02.245 +01:00 [DBG] Connection id "0HMSRVO4OF760" sending FIN because: "The client closed the connection."
2023-08-13 14:06:02.248 +01:00 [DBG] Connection id "0HMSRVO4OF760" stopped.
2023-08-13 14:06:31.741 +01:00 [DBG] Connection id "0HMSRVO4OF761" accepted.
2023-08-13 14:06:31.750 +01:00 [DBG] Connection id "0HMSRVO4OF761" started.
2023-08-13 14:06:31.777 +01:00 [DBG] Connection 0HMSRVO4OF761 established using the following protocol: "Tls13"
2023-08-13 14:06:31.781 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90
2023-08-13 14:06:31.795 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:06:31.795 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:06:31.795 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:06:31.797 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:06:31.803 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:06:31.805 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:06:31.829 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:06:31.830 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:06:31.830 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:06:31.830 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:06:31.830 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:06:31.830 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:06:31.831 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:06:31.854 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:06:31.858 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:06:31.862 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:06:31.863 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:06:31.864 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:06:31.867 +01:00 [DBG] Connection id "0HMSRVO4OF761", Request id "0HMSRVO4OF761:00000001": started reading request body.
2023-08-13 14:06:31.867 +01:00 [DBG] Connection id "0HMSRVO4OF761", Request id "0HMSRVO4OF761:00000001": done reading request body.
2023-08-13 14:06:31.872 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:06:31.873 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:06:31.873 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:06:31.873 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:06:31.881 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:06:31.903 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:06:32.004 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:06:32.021 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:06:32.021 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:06:32.024 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.024 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.031 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:06:32.038 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:06:32.044 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:06:32.044 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.044 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.045 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:06:32.048 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.applicationUserId (no field, string) Shadow Required FK Index, 5], [Property: Wallet.userId (string) Required, 6] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.applicationUserId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:06:32.048 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:06:32.048 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:06:32.048 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.048 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.048 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:06:32.048 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."applicationUserId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:06:32.048 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:06:32.048 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.048 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.050 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:06:32.057 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:06:32.057 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:06:32.057 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:06:32.057 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.058 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.058 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:06:32.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:06:32.058 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:06:32.058 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.058 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.063 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:06:32.063 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:06:32.063 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:32.063 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.063 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:06:32.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:06:32.063 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:06:32.063 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:32.063 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:36.247 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:06:36.317 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:06:42.219 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:06:42.219 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:06:42.219 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:06:42.240 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:06:42.269 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:42.271 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:42.273 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:06:42.278 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:06:42.334 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:06:42.334 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:06:42.338 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:06:42.348 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:06:42.366 +01:00 [DBG] Disposing transaction.
2023-08-13 14:06:42.372 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:06:42.373 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:06:42.380 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:08:04.137 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:08:04.140 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:08:04.140 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:08:04.140 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:08:04.140 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:08:04.141 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:08:04.158 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 92315.2826ms
2023-08-13 14:08:04.159 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:08:04.162 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:08:04.165 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90 - 200 - application/json;+charset=utf-8 92384.1346ms
2023-08-13 14:19:06.416 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:19:07.154 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:19:07.155 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:19:07.498 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:19:07.519 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:19:18.949 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:19:19.354 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:19:19.355 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:19:19.559 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:19:19.594 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:19:19.594 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:19:19.718 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:19:19.721 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:19:19.722 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:19:19.722 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:19:19.735 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:19:19.735 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:19:19.735 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:19:19.735 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:19:19.813 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:19:47.681 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:19:48.238 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:19:48.238 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:19:48.581 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:19:48.625 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.632 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.643 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.663 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:19:48.670 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 14:19:48.671 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.674 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.681 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:19:48.699 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:19:48.701 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.704 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.705 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.706 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.706 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:19:48.706 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 14:19:48.706 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.706 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.706 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:19:48.706 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:19:48.706 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.706 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.712 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:19:48.712 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:19:48.712 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.712 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.713 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 14:19:48.713 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 14:19:48.715 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:19:48.715 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.715 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.728 +01:00 [INF] Applying migration '20230813131919_walletkey'.
2023-08-13 14:19:48.799 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.799 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.800 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:19:48.803 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:19:48.804 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:19:48.804 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:19:48.804 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Wallets_applicationUserId";
2023-08-13 14:19:48.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Wallets_applicationUserId";
2023-08-13 14:19:48.807 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:19:48.807 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:19:48.807 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:19:48.808 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:19:48.808 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:19:48.808 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:19:48.808 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:19:48.809 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:19:48.809 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:19:48.809 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:19:48.809 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId"
FROM "Wallets";
2023-08-13 14:19:48.811 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId"
FROM "Wallets";
2023-08-13 14:19:48.813 +01:00 [DBG] Disposing transaction.
2023-08-13 14:19:48.813 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:19:48.813 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:19:48.814 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:20:19.176 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:20:19.670 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:20:19.671 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:20:20.010 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:20:20.054 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.060 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.075 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.076 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.076 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.077 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.084 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.091 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.098 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-08-13 14:20:20.105 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 14:20:20.132 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 14:20:20.134 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.138 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.214 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:20:20.216 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:20:20.243 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.243 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.243 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.243 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.243 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 14:20:20.255 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 14:20:20.255 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.255 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.257 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.257 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.266 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:20:20.267 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 14:20:20.267 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.267 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.267 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:20:20.270 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:20:20.270 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.270 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.271 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:20:20.272 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:20:20.272 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.272 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.272 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 14:20:20.273 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 14:20:20.274 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:20:20.274 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.274 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.285 +01:00 [INF] Applying migration '20230813014643_init'.
2023-08-13 14:20:20.340 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.340 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.341 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.343 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.344 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.344 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.344 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 14:20:20.344 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 14:20:20.344 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.345 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.345 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 14:20:20.345 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 14:20:20.345 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.345 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.345 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:20:20.345 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:20:20.345 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.345 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.345 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:20:20.345 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:20:20.345 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.345 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.345 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.345 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.345 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.345 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.345 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.345 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.346 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.346 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.346 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.346 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.346 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.346 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.346 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.346 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.346 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.346 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.346 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.347 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.347 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.347 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.347 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.347 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 14:20:20.347 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 14:20:20.347 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.347 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 14:20:20.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 14:20:20.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 14:20:20.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 14:20:20.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 14:20:20.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 14:20:20.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 14:20:20.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 14:20:20.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 14:20:20.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 14:20:20.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 14:20:20.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 14:20:20.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 14:20:20.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 14:20:20.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 14:20:20.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 14:20:20.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 14:20:20.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 14:20:20.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813014643_init', '6.0.20');
2023-08-13 14:20:20.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813014643_init', '6.0.20');
2023-08-13 14:20:20.351 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.359 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.360 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.360 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.360 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.360 +01:00 [INF] Applying migration '20230813025053_configurationScheme'.
2023-08-13 14:20:20.382 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.382 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.382 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.383 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.383 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.383 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.383 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 14:20:20.383 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 14:20:20.383 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.383 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.383 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.383 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.383 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.383 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.383 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavings" ("Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId")
SELECT "Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId"
FROM "personalSavings";
2023-08-13 14:20:20.383 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavings" ("Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId")
SELECT "Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "IsDeleted", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId"
FROM "personalSavings";
2023-08-13 14:20:20.383 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.385 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.385 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.385 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.385 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.385 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.385 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.386 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.386 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.386 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.386 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.386 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavings";
2023-08-13 14:20:20.386 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavings";
2023-08-13 14:20:20.386 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.386 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.386 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavings" RENAME TO "personalSavings";
2023-08-13 14:20:20.390 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavings" RENAME TO "personalSavings";
2023-08-13 14:20:20.390 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.392 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.392 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.392 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.392 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.392 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.392 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.392 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.392 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.392 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.392 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.392 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 14:20:20.392 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 14:20:20.393 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.393 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.393 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 14:20:20.393 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 14:20:20.393 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.393 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.393 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 14:20:20.393 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 14:20:20.393 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.393 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.393 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025053_configurationScheme', '6.0.20');
2023-08-13 14:20:20.393 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025053_configurationScheme', '6.0.20');
2023-08-13 14:20:20.393 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.395 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.395 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.395 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.395 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.395 +01:00 [INF] Applying migration '20230813025941_funding'.
2023-08-13 14:20:20.410 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.410 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.410 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.410 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.410 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.410 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.410 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "Action" INTEGER NOT NULL,
    "Amount" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "Reference" TEXT NOT NULL,
    "walletId" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.410 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "Action" INTEGER NOT NULL,
    "Amount" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "Reference" TEXT NOT NULL,
    "walletId" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.411 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.411 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.411 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
SELECT "Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId"
FROM "WalletFundings";
2023-08-13 14:20:20.411 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
SELECT "Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId"
FROM "WalletFundings";
2023-08-13 14:20:20.411 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.411 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.411 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.411 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.411 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.411 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.411 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavingsFundings" ("Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId")
SELECT "Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId"
FROM "personalSavingsFundings";
2023-08-13 14:20:20.411 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavingsFundings" ("Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId")
SELECT "Id", "ActionType", "Amount", "CreatedAt", "CumulativeAmount", "ModifiedAt", "personalSavingId"
FROM "personalSavingsFundings";
2023-08-13 14:20:20.411 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.413 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.413 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.413 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.413 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.413 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.413 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.413 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.413 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.413 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.413 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.413 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "WalletFundings";
2023-08-13 14:20:20.413 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "WalletFundings";
2023-08-13 14:20:20.413 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.413 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.413 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_WalletFundings" RENAME TO "WalletFundings";
2023-08-13 14:20:20.415 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_WalletFundings" RENAME TO "WalletFundings";
2023-08-13 14:20:20.415 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.415 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.415 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavingsFundings";
2023-08-13 14:20:20.415 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavingsFundings";
2023-08-13 14:20:20.415 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.415 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.415 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavingsFundings" RENAME TO "personalSavingsFundings";
2023-08-13 14:20:20.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavingsFundings" RENAME TO "personalSavingsFundings";
2023-08-13 14:20:20.416 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.418 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.418 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.418 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.418 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.418 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.418 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.418 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.418 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.418 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.418 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.418 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 14:20:20.419 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 14:20:20.419 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.419 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.419 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 14:20:20.419 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 14:20:20.419 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.419 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.419 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025941_funding', '6.0.20');
2023-08-13 14:20:20.419 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813025941_funding', '6.0.20');
2023-08-13 14:20:20.419 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.420 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.420 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.420 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.420 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.420 +01:00 [INF] Applying migration '20230813030843_fundingWallet'.
2023-08-13 14:20:20.433 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.433 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.433 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.433 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.433 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.433 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.433 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.434 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "applicationUserId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_applicationUserId" FOREIGN KEY ("applicationUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.434 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.434 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.434 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId"
FROM "Wallets";
2023-08-13 14:20:20.434 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "applicationUserId", "userId"
FROM "Wallets";
2023-08-13 14:20:20.434 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.435 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.435 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.435 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.435 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.435 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.435 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.435 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.436 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.436 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.436 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.436 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Wallets";
2023-08-13 14:20:20.436 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Wallets";
2023-08-13 14:20:20.436 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.436 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.436 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Wallets" RENAME TO "Wallets";
2023-08-13 14:20:20.437 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Wallets" RENAME TO "Wallets";
2023-08-13 14:20:20.437 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.439 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.439 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.439 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.439 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.439 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.439 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.439 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.439 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.439 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.439 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.439 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 14:20:20.439 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Wallets_applicationUserId" ON "Wallets" ("applicationUserId");
2023-08-13 14:20:20.439 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.439 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.439 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813030843_fundingWallet', '6.0.20');
2023-08-13 14:20:20.439 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813030843_fundingWallet', '6.0.20');
2023-08-13 14:20:20.439 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.441 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.441 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.441 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.441 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.441 +01:00 [INF] Applying migration '20230813131919_walletkey'.
2023-08-13 14:20:20.455 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.455 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.455 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.455 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.455 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.455 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.455 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Wallets_applicationUserId";
2023-08-13 14:20:20.455 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Wallets_applicationUserId";
2023-08-13 14:20:20.455 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.455 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.456 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:20:20.456 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:20:20.456 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.456 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.456 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.456 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:20:20.456 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.456 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.456 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId"
FROM "Wallets";
2023-08-13 14:20:20.456 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
SELECT "Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId"
FROM "Wallets";
2023-08-13 14:20:20.456 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.458 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.458 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.458 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.458 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.458 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.458 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 14:20:20.458 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.458 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.458 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.458 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.458 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Wallets";
2023-08-13 14:20:20.458 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Wallets";
2023-08-13 14:20:20.458 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.458 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.458 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Wallets" RENAME TO "Wallets";
2023-08-13 14:20:20.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Wallets" RENAME TO "Wallets";
2023-08-13 14:20:20.460 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.461 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.461 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.461 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.461 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.461 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.461 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 14:20:20.461 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:20:20.462 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:20:20.462 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.462 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.462 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:20:20.462 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:20:20.462 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:20:20.462 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:20:20.462 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813131919_walletkey', '6.0.20');
2023-08-13 14:20:20.462 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813131919_walletkey', '6.0.20');
2023-08-13 14:20:20.462 +01:00 [DBG] Committing transaction.
2023-08-13 14:20:20.463 +01:00 [DBG] Committed transaction.
2023-08-13 14:20:20.463 +01:00 [DBG] Disposing transaction.
2023-08-13 14:20:20.463 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:20:20.463 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:20:20.465 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:21:08.222 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:21:08.703 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:21:08.704 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:21:08.965 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:21:08.993 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:21:08.993 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:21:09.017 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:21:27.000 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:21:27.146 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:21:27.840 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:21:27.840 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:21:28.227 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:21:28.320 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:28.337 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:28.349 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:21:28.359 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 14:21:28.362 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:28.367 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:28.380 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:21:28.409 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:21:28.415 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:28.421 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:28.477 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:21:28.888 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:21:28.942 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:28.942 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:28.942 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:28.942 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:28.945 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:21:28.947 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:21:28.954 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:28.954 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:28.954 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.210 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-08-13 14:21:29.326 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 14:21:29.369 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.369 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.382 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.383 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.389 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:21:29.401 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:21:29.409 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.418 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.420 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.525 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.542 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:21:29.545 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:21:29.555 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:21:29.580 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.581 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.584 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:21:29.592 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:21:29.649 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.649 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.649 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:21:29.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:21:29.655 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.661 +01:00 [DBG] Committing transaction.
2023-08-13 14:21:29.674 +01:00 [DBG] Committed transaction.
2023-08-13 14:21:29.680 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.680 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.685 +01:00 [DBG] Disposing transaction.
2023-08-13 14:21:29.695 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.697 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:21:29.701 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.701 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.701 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.701 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.701 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:21:29.701 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:21:29.701 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.701 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.701 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.701 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.701 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:21:29.701 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:21:29.704 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:21:29.704 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.704 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.704 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:21:29.704 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:21:29.704 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.704 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.704 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:21:29.704 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:21:29.704 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.704 +01:00 [DBG] Committing transaction.
2023-08-13 14:21:29.706 +01:00 [DBG] Committed transaction.
2023-08-13 14:21:29.706 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.706 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.706 +01:00 [DBG] Disposing transaction.
2023-08-13 14:21:29.706 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.706 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:21:29.767 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Category'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.791 +01:00 [DBG] Context 'SaviContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.800 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.815 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.815 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.815 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.815 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.815 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.815 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:21:29.815 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:21:29.826 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:21:29.826 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.826 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.826 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:21:29.826 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:21:29.829 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.829 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.829 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.830 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.831 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.831 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.831 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.831 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.831 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.831 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.831 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.831 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.831 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.831 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.831 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:21:29.831 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:21:29.831 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.831 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:21:29.831 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:21:29.831 +01:00 [DBG] Committing transaction.
2023-08-13 14:21:29.833 +01:00 [DBG] Committed transaction.
2023-08-13 14:21:29.833 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:21:29.833 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:21:29.833 +01:00 [DBG] Disposing transaction.
2023-08-13 14:21:29.834 +01:00 [DBG] An entity of type 'Category' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.834 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.834 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.834 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:21:29.834 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 4 entities written to the database.
2023-08-13 14:21:29.837 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:21:29.875 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:21:29.919 +01:00 [DBG] Hosting starting
2023-08-13 14:21:29.921 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:21:29.926 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:21:29.927 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:21:29.933 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:21:29.936 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:21:29.936 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:21:29.946 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:21:29.948 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:21:29.948 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:21:29.949 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:21:29.950 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:21:29.951 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:21:29.954 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:21:29.954 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:21:30.109 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:21:30.165 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:21:30.165 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:21:30.165 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:21:30.165 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:21:30.165 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:21:30.165 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:21:30.165 +01:00 [INF] Hosting environment: Development
2023-08-13 14:21:30.165 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:21:30.165 +01:00 [DBG] Hosting started
2023-08-13 14:21:30.178 +01:00 [DBG] Connection id "0HMSS00QBPJ4H" received FIN.
2023-08-13 14:21:30.189 +01:00 [DBG] Connection id "0HMSS00QBPJ4H" accepted.
2023-08-13 14:21:30.190 +01:00 [DBG] Connection id "0HMSS00QBPJ4H" started.
2023-08-13 14:21:30.208 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:21:30.252 +01:00 [DBG] Connection id "0HMSS00QBPJ4H" stopped.
2023-08-13 14:21:30.257 +01:00 [DBG] Connection id "0HMSS00QBPJ4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:21:30.954 +01:00 [DBG] Connection id "0HMSS00QBPJ4I" accepted.
2023-08-13 14:21:31.023 +01:00 [DBG] Connection id "0HMSS00QBPJ4I" started.
2023-08-13 14:21:31.447 +01:00 [DBG] Connection 0HMSS00QBPJ4I established using the following protocol: "Tls13"
2023-08-13 14:21:31.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:21:31.698 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:21:31.747 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:21:31.748 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:21:31.903 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:21:32.095 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:21:32.099 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:21:32.109 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:21:32.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 16.2142ms
2023-08-13 14:21:32.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 515.5195ms
2023-08-13 14:21:32.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.1533ms
2023-08-13 14:21:32.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:21:32.433 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:21:32.433 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:21:32.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 404.2089ms
2023-08-13 14:21:33.995 +01:00 [DBG] Connection id "0HMSS00QBPJ4I" received FIN.
2023-08-13 14:21:33.996 +01:00 [DBG] Connection id "0HMSS00QBPJ4I" is closed. The last processed stream ID was 7.
2023-08-13 14:21:33.996 +01:00 [DBG] Connection id "0HMSS00QBPJ4I" sending FIN because: "The client closed the connection."
2023-08-13 14:21:33.999 +01:00 [DBG] Connection id "0HMSS00QBPJ4I" stopped.
2023-08-13 14:22:05.811 +01:00 [DBG] Connection id "0HMSS00QBPJ4J" accepted.
2023-08-13 14:22:05.818 +01:00 [DBG] Connection id "0HMSS00QBPJ4J" started.
2023-08-13 14:22:05.843 +01:00 [DBG] Connection 0HMSS00QBPJ4J established using the following protocol: "Tls13"
2023-08-13 14:22:05.845 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138
2023-08-13 14:22:05.857 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:22:05.858 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:22:05.859 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:22:05.860 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:22:05.871 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:22:05.874 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:22:05.905 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:22:05.906 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:22:05.906 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:22:05.906 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:22:05.906 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:22:05.906 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:22:05.907 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:22:06.109 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:22:06.110 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:22:06.121 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:22:06.125 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:22:06.127 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:22:06.131 +01:00 [DBG] Connection id "0HMSS00QBPJ4J", Request id "0HMSS00QBPJ4J:00000001": started reading request body.
2023-08-13 14:22:06.131 +01:00 [DBG] Connection id "0HMSS00QBPJ4J", Request id "0HMSS00QBPJ4J:00000001": done reading request body.
2023-08-13 14:22:06.138 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:22:06.138 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:22:06.138 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:22:06.138 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:22:06.148 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:22:06.150 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:22:06.150 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:22:06.151 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:22:06.151 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:22:06.151 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:22:06.151 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:22:06.159 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-08-13 14:22:06.164 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 14:22:06.164 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:06.164 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:06.164 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.164 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.164 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:22:06.165 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:22:06.165 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:06.165 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.165 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.201 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-08-13 14:22:06.205 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 14:22:06.205 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:06.205 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:06.205 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.205 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.206 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:22:06.206 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:22:06.206 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:06.206 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.206 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.265 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:06.265 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:22:06.265 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:22:06.275 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:22:06.275 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.275 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.275 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:22:06.275 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:22:06.275 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:06.275 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:06.275 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:22:06.276 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:22:06.276 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:06.276 +01:00 [DBG] Committing transaction.
2023-08-13 14:22:06.279 +01:00 [DBG] Committed transaction.
2023-08-13 14:22:06.279 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.279 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.279 +01:00 [DBG] Disposing transaction.
2023-08-13 14:22:06.282 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:06.282 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:22:06.284 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:06.309 +01:00 [DBG] The foreign key property 'Wallet.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-13 14:22:06.321 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:06.324 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:22:06.324 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:22:06.329 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:22:06.332 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.332 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.332 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:22:06.333 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:22:06.335 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:06.335 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:06.335 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:22:06.336 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:22:06.336 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:06.338 +01:00 [DBG] Committing transaction.
2023-08-13 14:22:06.345 +01:00 [DBG] Committed transaction.
2023-08-13 14:22:06.346 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:06.346 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:06.347 +01:00 [DBG] Disposing transaction.
2023-08-13 14:22:06.347 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:06.347 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:22:06.372 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 14:22:06.380 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkQzCck%2BMrXpgbdQJNqPLSLKn050yV8wcmGmQPBFw0bKCfcMtaOu80x2J%2BeRFGh6XHEKE3ox0r4Pqe0amhiBxC1bZHVjNfWkcT1NipRxrLfRcJENJODMUQYbtHVk9cvv6vaRabVywUUdqpZIU7IuUbP9ZE8Bp%2BBQvwB3JyYcwhN06SG4q4QJO8vpKzkoYsUE7F5XPN2ewvPGdczqb%2Fm%2B%2Fm1yXtW5SivjmMcHENCaI0JUAw%3D%3D&email=user@example.com
2023-08-13 14:22:06.381 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkQzCck%2BMrXpgbdQJNqPLSLKn050yV8wcmGmQPBFw0bKCfcMtaOu80x2J%2BeRFGh6XHEKE3ox0r4Pqe0amhiBxC1bZHVjNfWkcT1NipRxrLfRcJENJODMUQYbtHVk9cvv6vaRabVywUUdqpZIU7IuUbP9ZE8Bp%2BBQvwB3JyYcwhN06SG4q4QJO8vpKzkoYsUE7F5XPN2ewvPGdczqb%2Fm%2B%2Fm1yXtW5SivjmMcHENCaI0JUAw%3D%3D&email=user@example.com
2023-08-13 14:22:06.704 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 793.0273ms
2023-08-13 14:22:06.707 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:22:06.709 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:22:06.732 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:22:06.736 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138 - 500 - text/plain;+charset=utf-8 890.6807ms
2023-08-13 14:22:26.342 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 139
2023-08-13 14:22:26.345 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:22:26.345 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:22:26.346 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:22:26.346 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:22:26.346 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:22:26.346 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:22:26.346 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:22:26.347 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:22:26.347 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:22:26.347 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:22:26.347 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:22:26.347 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:22:26.347 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:22:26.413 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:22:26.413 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:22:26.414 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:22:26.414 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:22:26.414 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:22:26.414 +01:00 [DBG] Connection id "0HMSS00QBPJ4J", Request id "0HMSS00QBPJ4J:00000003": started reading request body.
2023-08-13 14:22:26.414 +01:00 [DBG] Connection id "0HMSS00QBPJ4J", Request id "0HMSS00QBPJ4J:00000003": done reading request body.
2023-08-13 14:22:26.414 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:22:26.414 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:22:26.414 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:22:26.414 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:22:26.415 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:22:26.415 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:22:26.415 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:22:26.415 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:22:26.415 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:22:26.415 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:22:26.415 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:22:26.417 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:26.417 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:26.417 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.417 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.417 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:22:26.417 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:22:26.417 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:26.417 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.417 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:26.420 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:26.420 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:22:26.420 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:22:26.420 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:26.420 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:26.420 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:22:26.420 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:22:26.420 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:22:26.420 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.420 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:22:26.420 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:22:26.421 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:26.421 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:26.421 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 17), @p12='?' (Size = 17), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:22:26.421 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 17), @p12='?' (Size = 17), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:22:26.421 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:26.421 +01:00 [DBG] Committing transaction.
2023-08-13 14:22:26.427 +01:00 [DBG] Committed transaction.
2023-08-13 14:22:26.427 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.427 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.427 +01:00 [DBG] Disposing transaction.
2023-08-13 14:22:26.427 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:26.427 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:22:26.428 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:26.428 +01:00 [DBG] The foreign key property 'Wallet.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-13 14:22:26.428 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:26.428 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:22:26.428 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:22:26.428 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:22:26.428 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.428 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.428 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:22:26.428 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:22:26.428 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:22:26.428 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:22:26.428 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:22:26.429 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:22:26.429 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:22:26.429 +01:00 [DBG] Committing transaction.
2023-08-13 14:22:26.430 +01:00 [DBG] Committed transaction.
2023-08-13 14:22:26.430 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:22:26.430 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:22:26.430 +01:00 [DBG] Disposing transaction.
2023-08-13 14:22:26.430 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:22:26.430 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:22:26.431 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 14:22:26.431 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkRLTPsPVvcJK%2FjMjOt3bzianYBUA9bv%2BzBxgk7kWPUym1QsQV%2FGjaNFipe8F6jaeqT3hQ48hfXRYaF4rB9UHjKYFmGmaE%2FcBrhk0jXc6LPw2Os7dvFNaGyi8tlj2Fnz3H6f63D%2FJuWR5XgAkt8dTziIDwuo2ZB%2FajjiB5xbnWAdOyAD3E4UeHjsQRX1yoGehtUVN42ILVArQ5lGhD19dJ5vQTZz%2Ft0TIU0bxkOCbynK9g%3D%3D&email=user1@example.com
2023-08-13 14:22:26.431 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkRLTPsPVvcJK%2FjMjOt3bzianYBUA9bv%2BzBxgk7kWPUym1QsQV%2FGjaNFipe8F6jaeqT3hQ48hfXRYaF4rB9UHjKYFmGmaE%2FcBrhk0jXc6LPw2Os7dvFNaGyi8tlj2Fnz3H6f63D%2FJuWR5XgAkt8dTziIDwuo2ZB%2FajjiB5xbnWAdOyAD3E4UeHjsQRX1yoGehtUVN42ILVArQ5lGhD19dJ5vQTZz%2Ft0TIU0bxkOCbynK9g%3D%3D&email=user1@example.com
2023-08-13 14:22:26.516 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 169.1457ms
2023-08-13 14:22:26.516 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:22:26.517 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:22:26.520 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:22:26.520 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 139 - 500 - text/plain;+charset=utf-8 177.8309ms
2023-08-13 14:22:31.720 +01:00 [DBG] Connection id "0HMSS00QBPJ4J" received FIN.
2023-08-13 14:22:31.720 +01:00 [DBG] Connection id "0HMSS00QBPJ4J" is closed. The last processed stream ID was 3.
2023-08-13 14:22:31.720 +01:00 [DBG] Connection id "0HMSS00QBPJ4J" sending FIN because: "The client closed the connection."
2023-08-13 14:22:31.731 +01:00 [DBG] Connection id "0HMSS00QBPJ4J" stopped.
2023-08-13 14:23:17.530 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:23:17.668 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:23:18.303 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:23:18.303 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:23:18.654 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:23:18.749 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:18.764 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:18.777 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:23:18.786 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 14:23:18.788 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:18.791 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:18.800 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:23:18.825 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:23:18.829 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:18.833 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:18.885 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:23:19.161 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:23:19.198 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:23:19.198 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:23:19.198 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:19.198 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:19.199 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:23:19.201 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:23:19.207 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:23:19.207 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:19.207 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:19.214 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:23:19.216 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:23:19.220 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:23:19.226 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:23:19.229 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:23:19.261 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:23:19.293 +01:00 [DBG] Hosting starting
2023-08-13 14:23:19.296 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:23:19.301 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:23:19.301 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:23:19.307 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:23:19.310 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:23:19.310 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:23:19.318 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:23:19.319 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:23:19.320 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:23:19.321 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:23:19.322 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:23:19.323 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:23:19.325 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:23:19.326 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:23:19.465 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:23:19.521 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:23:19.521 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:23:19.521 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:23:19.521 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:23:19.521 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:23:19.521 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:23:19.521 +01:00 [INF] Hosting environment: Development
2023-08-13 14:23:19.521 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:23:19.521 +01:00 [DBG] Hosting started
2023-08-13 14:23:19.590 +01:00 [DBG] Connection id "0HMSS01QV6QO7" received FIN.
2023-08-13 14:23:19.591 +01:00 [DBG] Connection id "0HMSS01QV6QO7" accepted.
2023-08-13 14:23:19.593 +01:00 [DBG] Connection id "0HMSS01QV6QO7" started.
2023-08-13 14:23:19.608 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:23:19.643 +01:00 [DBG] Connection id "0HMSS01QV6QO7" stopped.
2023-08-13 14:23:19.646 +01:00 [DBG] Connection id "0HMSS01QV6QO7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:23:20.418 +01:00 [DBG] Connection id "0HMSS01QV6QO8" accepted.
2023-08-13 14:23:20.428 +01:00 [DBG] Connection id "0HMSS01QV6QO8" started.
2023-08-13 14:23:20.689 +01:00 [DBG] Connection 0HMSS01QV6QO8 established using the following protocol: "Tls13"
2023-08-13 14:23:20.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:23:20.930 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:23:21.012 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:23:21.013 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:23:21.221 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:23:21.437 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:23:21.442 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:23:21.445 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:23:21.448 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 10.5541ms
2023-08-13 14:23:21.448 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 628.9793ms
2023-08-13 14:23:21.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.7567ms
2023-08-13 14:23:21.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:23:21.782 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:23:21.782 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:23:22.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.4066ms
2023-08-13 14:23:23.405 +01:00 [DBG] Connection id "0HMSS01QV6QO8" received FIN.
2023-08-13 14:23:23.405 +01:00 [DBG] Connection id "0HMSS01QV6QO8" is closed. The last processed stream ID was 7.
2023-08-13 14:23:23.405 +01:00 [DBG] Connection id "0HMSS01QV6QO8" sending FIN because: "The client closed the connection."
2023-08-13 14:23:23.408 +01:00 [DBG] Connection id "0HMSS01QV6QO8" stopped.
2023-08-13 14:23:52.767 +01:00 [DBG] Connection id "0HMSS01QV6QO9" accepted.
2023-08-13 14:23:52.775 +01:00 [DBG] Connection id "0HMSS01QV6QO9" started.
2023-08-13 14:23:52.800 +01:00 [DBG] Connection 0HMSS01QV6QO9 established using the following protocol: "Tls13"
2023-08-13 14:23:52.801 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90
2023-08-13 14:23:52.809 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:23:52.809 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:23:52.809 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:23:52.810 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:23:52.817 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:23:52.819 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:23:52.840 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:23:52.841 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:23:52.841 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:23:52.841 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:23:52.841 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:23:52.841 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:23:52.842 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:23:52.858 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:23:52.871 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:23:52.876 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:23:52.877 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:23:52.878 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:23:52.881 +01:00 [DBG] Connection id "0HMSS01QV6QO9", Request id "0HMSS01QV6QO9:00000001": started reading request body.
2023-08-13 14:23:52.881 +01:00 [DBG] Connection id "0HMSS01QV6QO9", Request id "0HMSS01QV6QO9:00000001": done reading request body.
2023-08-13 14:23:52.889 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:23:52.890 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:23:52.890 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:23:52.890 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:23:52.897 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:23:52.923 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:23:53.042 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:23:53.053 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:23:53.054 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:23:53.057 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.057 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.063 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:23:53.069 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:23:53.075 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:23:53.076 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.076 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.076 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:23:53.078 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:23:53.079 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:23:53.079 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:23:53.079 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.079 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.079 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:23:53.079 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:23:53.079 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:23:53.079 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.079 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.082 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:23:53.093 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:23:53.094 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:23:53.094 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:23:53.094 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.094 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.094 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:23:53.094 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:23:53.094 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:23:53.094 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.094 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.098 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:23:53.098 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:23:53.098 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:53.098 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.098 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:23:53.098 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:23:53.098 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:23:53.098 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:53.098 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:56.378 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:23:56.456 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:23:59.513 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:23:59.513 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:23:59.513 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:23:59.538 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:23:59.568 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:23:59.569 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:23:59.572 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:24:29.720 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:24:29.721 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:24:29.730 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery()
   at Microsoft.Data.Sqlite.SqliteConnectionExtensions.ExecuteNonQuery(SqliteConnection connection, String commandText, SqliteParameter[] parameters)
   at Microsoft.Data.Sqlite.SqliteTransaction..ctor(SqliteConnection connection, IsolationLevel isolationLevel, Boolean deferred)
   at Microsoft.Data.Sqlite.SqliteConnection.BeginTransaction(IsolationLevel isolationLevel, Boolean deferred)
   at System.Data.Common.DbConnection.BeginDbTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery()
   at Microsoft.Data.Sqlite.SqliteConnectionExtensions.ExecuteNonQuery(SqliteConnection connection, String commandText, SqliteParameter[] parameters)
   at Microsoft.Data.Sqlite.SqliteTransaction..ctor(SqliteConnection connection, IsolationLevel isolationLevel, Boolean deferred)
   at Microsoft.Data.Sqlite.SqliteConnection.BeginTransaction(IsolationLevel isolationLevel, Boolean deferred)
   at System.Data.Common.DbConnection.BeginDbTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:24:41.337 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:24:41.342 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:24:41.342 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:24:41.343 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:24:41.344 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:24:41.345 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:24:41.357 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 48509.8241ms
2023-08-13 14:24:41.357 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:24:41.361 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:24:41.366 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90 - 200 - application/json;+charset=utf-8 48564.6244ms
2023-08-13 14:25:12.654 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90
2023-08-13 14:25:12.658 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:25:12.658 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:25:12.658 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:25:12.658 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:25:12.658 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:25:12.659 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:25:12.659 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:25:12.659 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:25:12.659 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:25:12.659 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:25:12.659 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:25:12.659 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:25:12.659 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:25:12.703 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:25:12.703 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:25:12.704 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:25:12.704 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:25:12.704 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:25:12.706 +01:00 [DBG] Connection id "0HMSS01QV6QO9", Request id "0HMSS01QV6QO9:00000003": started reading request body.
2023-08-13 14:25:12.706 +01:00 [DBG] Connection id "0HMSS01QV6QO9", Request id "0HMSS01QV6QO9:00000003": done reading request body.
2023-08-13 14:25:12.706 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:25:12.706 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:25:12.706 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:25:12.706 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:25:12.707 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:25:12.713 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:12.713 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:12.713 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.713 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.713 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:25:12.713 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:25:12.713 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:12.713 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.713 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:12.714 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:12.714 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:25:12.714 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:25:12.714 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:12.714 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:12.714 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:12.714 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.714 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:12.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:12.715 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:12.715 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.715 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.715 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:12.715 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:12.715 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.715 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.715 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:12.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:12.715 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:12.715 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.715 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.715 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:25:12.715 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:25:12.716 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:25:12.716 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:25:12.716 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:25:12.716 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:25:12.716 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.716 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.716 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:25:12.719 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:25:12.792 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:12.792 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:12.795 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:25:12.805 +01:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:25:12.818 +01:00 [DBG] Disposing transaction.
2023-08-13 14:25:12.824 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:12.824 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:12.827 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:25:12.857 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:25:12.857 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:25:12.857 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:25:12.857 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:25:12.857 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:25:12.857 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:25:12.857 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 197.8854ms
2023-08-13 14:25:12.857 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:25:12.857 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:25:12.857 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90 - 200 - application/json;+charset=utf-8 203.2473ms
2023-08-13 14:25:20.921 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90
2023-08-13 14:25:20.921 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:25:20.921 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:25:20.921 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:25:20.921 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:25:20.929 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:25:20.929 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:25:20.929 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:25:20.929 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:25:20.929 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:25:20.929 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:25:20.929 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:25:20.929 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:25:20.929 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:25:20.932 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:25:20.932 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:25:20.932 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:25:20.932 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:25:20.932 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:25:20.932 +01:00 [DBG] Connection id "0HMSS01QV6QO9", Request id "0HMSS01QV6QO9:00000005": started reading request body.
2023-08-13 14:25:20.932 +01:00 [DBG] Connection id "0HMSS01QV6QO9", Request id "0HMSS01QV6QO9:00000005": done reading request body.
2023-08-13 14:25:20.932 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:25:20.932 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:25:20.932 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:25:20.932 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:25:20.932 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:25:20.932 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:20.932 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:20.932 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.932 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.932 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:25:20.932 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:25:20.933 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:20.933 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:20.933 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:20.933 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:25:20.933 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:25:20.933 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:20.933 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:20.933 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:20.933 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:20.933 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:20.933 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:20.933 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:20.933 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:20.933 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.933 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:20.933 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:25:20.934 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:20.934 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.934 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.934 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:25:20.934 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:25:20.934 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:25:20.934 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:25:20.934 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:25:20.934 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:25:20.934 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.934 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.934 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:25:20.934 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:25:20.934 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:20.934 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:20.934 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:25:20.935 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:25:20.936 +01:00 [DBG] Disposing transaction.
2023-08-13 14:25:20.936 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:20.936 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:20.937 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:25:20.967 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:25:20.967 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:25:20.967 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:25:20.967 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:25:20.967 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:25:20.967 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:25:20.967 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 38.0558ms
2023-08-13 14:25:20.968 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:25:20.968 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:25:20.968 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 90 - 200 - application/json;+charset=utf-8 47.0295ms
2023-08-13 14:25:50.002 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:25:50.172 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:25:51.058 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:25:51.058 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:25:51.525 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:25:51.628 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:51.648 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:51.662 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:25:51.673 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 14:25:51.675 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:51.679 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:51.690 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:25:51.719 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:25:51.723 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:51.729 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:51.788 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:25:52.214 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:25:52.262 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:25:52.262 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:25:52.262 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:52.262 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:52.263 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:25:52.265 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:25:52.272 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:25:52.272 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:25:52.272 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:25:52.282 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:25:52.287 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:25:52.294 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:25:52.302 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:25:52.305 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:25:52.346 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:25:52.397 +01:00 [DBG] Hosting starting
2023-08-13 14:25:52.401 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:25:52.409 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:25:52.410 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:25:52.419 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:25:52.425 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:25:52.425 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:25:52.439 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:25:52.441 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:25:52.441 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:25:52.443 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:25:52.444 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:25:52.446 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:25:52.449 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:25:52.449 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:25:52.593 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:25:52.654 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:25:52.654 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:25:52.654 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:25:52.654 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:25:52.654 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:25:52.654 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:25:52.654 +01:00 [INF] Hosting environment: Development
2023-08-13 14:25:52.654 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:25:52.655 +01:00 [DBG] Hosting started
2023-08-13 14:25:53.024 +01:00 [DBG] Connection id "0HMSS038MG1HG" received FIN.
2023-08-13 14:25:53.035 +01:00 [DBG] Connection id "0HMSS038MG1HG" accepted.
2023-08-13 14:25:53.037 +01:00 [DBG] Connection id "0HMSS038MG1HG" started.
2023-08-13 14:25:53.053 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:25:53.088 +01:00 [DBG] Connection id "0HMSS038MG1HG" stopped.
2023-08-13 14:25:53.092 +01:00 [DBG] Connection id "0HMSS038MG1HG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:25:53.521 +01:00 [DBG] Connection id "0HMSS038MG1HH" accepted.
2023-08-13 14:25:53.523 +01:00 [DBG] Connection id "0HMSS038MG1HH" started.
2023-08-13 14:25:53.948 +01:00 [DBG] Connection 0HMSS038MG1HH established using the following protocol: "Tls13"
2023-08-13 14:25:54.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:25:54.294 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:25:54.399 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:25:54.399 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:25:54.590 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:25:54.782 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:25:54.789 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:25:54.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 9.0636ms
2023-08-13 14:25:54.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 577.5389ms
2023-08-13 14:25:54.797 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:25:54.832 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.0825ms
2023-08-13 14:25:55.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:25:55.127 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:25:55.128 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:25:55.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 284.5868ms
2023-08-13 14:25:56.599 +01:00 [DBG] Connection id "0HMSS038MG1HH" received FIN.
2023-08-13 14:25:56.600 +01:00 [DBG] Connection id "0HMSS038MG1HH" is closed. The last processed stream ID was 7.
2023-08-13 14:25:56.601 +01:00 [DBG] Connection id "0HMSS038MG1HH" sending FIN because: "The client closed the connection."
2023-08-13 14:25:56.603 +01:00 [DBG] Connection id "0HMSS038MG1HH" stopped.
2023-08-13 14:26:17.445 +01:00 [DBG] Connection id "0HMSS038MG1HI" accepted.
2023-08-13 14:26:17.445 +01:00 [DBG] Connection id "0HMSS038MG1HI" started.
2023-08-13 14:26:17.459 +01:00 [DBG] Connection 0HMSS038MG1HI established using the following protocol: "Tls13"
2023-08-13 14:26:17.461 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89
2023-08-13 14:26:17.500 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:26:17.500 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:26:17.500 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:26:17.501 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:26:17.508 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:26:17.510 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:26:17.528 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:26:17.529 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:26:17.529 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:26:17.529 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:26:17.529 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:26:17.529 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:26:17.530 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:26:17.534 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:26:17.535 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:26:17.539 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:26:17.540 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:26:17.541 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:26:17.544 +01:00 [DBG] Connection id "0HMSS038MG1HI", Request id "0HMSS038MG1HI:00000001": started reading request body.
2023-08-13 14:26:17.544 +01:00 [DBG] Connection id "0HMSS038MG1HI", Request id "0HMSS038MG1HI:00000001": done reading request body.
2023-08-13 14:26:17.551 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:26:17.552 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:26:17.552 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:26:17.552 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:26:17.559 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:26:17.578 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:26:17.673 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:26:17.687 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:26:17.687 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:26:17.689 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.689 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.693 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:26:17.700 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:26:17.705 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:26:17.705 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.705 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.706 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:26:17.707 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:26:17.708 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:26:17.708 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:26:17.708 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.708 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.708 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:26:17.708 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:26:17.708 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:26:17.708 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.708 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.710 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:26:17.719 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:26:17.720 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:26:17.720 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:26:17.720 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.720 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.720 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:26:17.721 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:26:17.721 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:26:17.721 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.721 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.724 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:26:17.724 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:26:17.724 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.724 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.724 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:26:17.724 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:26:17.724 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:26:17.724 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:17.724 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:17.765 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:26:17.838 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:26:36.951 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:26:37.955 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:26:37.955 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:26:37.982 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:26:38.012 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:38.013 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:38.015 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:26:38.021 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:26:38.098 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:26:38.098 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:26:38.101 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:26:38.111 +01:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:26:38.129 +01:00 [DBG] Disposing transaction.
2023-08-13 14:26:38.136 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:26:38.138 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:26:38.146 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:27:24.189 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:27:24.671 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:27:24.671 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:27:24.976 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:27:25.020 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:27:25.021 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:27:25.149 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:27:25.153 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:27:25.264 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:28:09.843 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:28:10.400 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:28:10.401 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:28:10.737 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:28:10.781 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.788 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.800 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.802 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.802 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.803 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.812 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.822 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:10.829 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-08-13 14:28:10.836 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 14:28:10.867 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 14:28:10.869 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.872 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.943 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:28:10.946 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:28:10.971 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:10.971 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:10.971 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.971 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.971 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 14:28:10.982 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 14:28:10.982 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.982 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.983 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.984 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.990 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:28:10.990 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 14:28:10.990 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.990 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.990 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:28:10.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 14:28:10.992 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.992 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.993 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:28:10.994 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:28:10.994 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:10.994 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.994 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 14:28:10.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 14:28:10.996 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:28:10.996 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:10.996 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:11.005 +01:00 [INF] Applying migration '20230813132725_init'.
2023-08-13 14:28:11.052 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:11.052 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:11.053 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:28:11.055 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:28:11.056 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.056 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.056 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 14:28:11.057 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 14:28:11.057 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.057 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.057 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 14:28:11.057 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 14:28:11.057 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.057 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.057 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:28:11.057 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:28:11.057 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.058 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.058 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:28:11.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL
);
2023-08-13 14:28:11.058 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.058 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.058 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.058 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.058 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.058 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.058 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.058 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.058 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.058 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.059 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.059 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.059 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.059 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.059 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.059 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.059 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.059 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.059 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.060 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.060 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "IsDeleted" INTEGER NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.060 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.060 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.060 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.060 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 14:28:11.060 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.060 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.060 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 14:28:11.061 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 14:28:11.061 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.061 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.061 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 14:28:11.061 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 14:28:11.061 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.061 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.061 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 14:28:11.061 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 14:28:11.061 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.061 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.061 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 14:28:11.061 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 14:28:11.061 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.061 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.061 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 14:28:11.061 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 14:28:11.061 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.061 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.061 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 14:28:11.062 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 14:28:11.062 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.062 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.062 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 14:28:11.062 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 14:28:11.062 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.062 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.062 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 14:28:11.062 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 14:28:11.062 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.062 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.062 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 14:28:11.062 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 14:28:11.062 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.062 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.062 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 14:28:11.062 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 14:28:11.062 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.062 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 14:28:11.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 14:28:11.063 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.063 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 14:28:11.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 14:28:11.063 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.063 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 14:28:11.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 14:28:11.063 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.063 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:28:11.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 14:28:11.063 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 14:28:11.063 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 14:28:11.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813132725_init', '6.0.20');
2023-08-13 14:28:11.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813132725_init', '6.0.20');
2023-08-13 14:28:11.065 +01:00 [DBG] Committing transaction.
2023-08-13 14:28:11.073 +01:00 [DBG] Committed transaction.
2023-08-13 14:28:11.074 +01:00 [DBG] Disposing transaction.
2023-08-13 14:28:11.074 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:28:11.075 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:28:11.076 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:41:24.393 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:41:24.541 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:41:25.309 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:41:25.309 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:41:25.650 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:41:25.738 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:25.755 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:25.767 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:41:25.776 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 14:41:25.778 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:25.782 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:25.792 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:41:25.829 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:41:25.833 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:25.837 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:25.882 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:41:26.246 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:41:26.292 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:26.292 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:26.292 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:26.292 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:26.294 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:41:26.295 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:41:26.302 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:26.302 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:26.302 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:26.537 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-08-13 14:41:26.655 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 14:41:26.698 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:26.698 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:26.708 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:26.709 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:26.718 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:41:26.728 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:41:26.734 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:26.739 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:26.740 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:26.837 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:26.851 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:41:26.855 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:41:26.868 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:41:26.904 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:26.904 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:26.908 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:41:26.917 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:41:27.046 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.046 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.047 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:41:27.048 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:41:27.055 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.066 +01:00 [DBG] Committing transaction.
2023-08-13 14:41:27.083 +01:00 [DBG] Committed transaction.
2023-08-13 14:41:27.094 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.094 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.104 +01:00 [DBG] Disposing transaction.
2023-08-13 14:41:27.125 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.128 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:41:27.150 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.150 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.150 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.150 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.150 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:41:27.150 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 14:41:27.150 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.150 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.150 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.151 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.151 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:41:27.151 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:41:27.156 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:41:27.156 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.157 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.157 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:41:27.157 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:41:27.160 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.160 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.161 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:41:27.161 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 14:41:27.161 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.161 +01:00 [DBG] Committing transaction.
2023-08-13 14:41:27.186 +01:00 [DBG] Committed transaction.
2023-08-13 14:41:27.186 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.186 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.186 +01:00 [DBG] Disposing transaction.
2023-08-13 14:41:27.186 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.186 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:41:27.282 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Category'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.315 +01:00 [DBG] Context 'SaviContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.319 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.337 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.337 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.337 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.337 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.337 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.337 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:41:27.338 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:41:27.353 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:41:27.353 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.353 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.353 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:41:27.353 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:41:27.356 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.356 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.357 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.358 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.358 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.358 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.359 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.359 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.359 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.359 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.359 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.359 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.359 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.359 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.359 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:27.359 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:27.359 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.359 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "IsDeleted", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:41:27.359 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:27.359 +01:00 [DBG] Committing transaction.
2023-08-13 14:41:27.366 +01:00 [DBG] Committed transaction.
2023-08-13 14:41:27.366 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:27.366 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:27.366 +01:00 [DBG] Disposing transaction.
2023-08-13 14:41:27.367 +01:00 [DBG] An entity of type 'Category' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.367 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.367 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.367 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:27.367 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 4 entities written to the database.
2023-08-13 14:41:27.371 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:41:27.420 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:41:27.472 +01:00 [DBG] Hosting starting
2023-08-13 14:41:27.477 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:41:27.485 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:41:27.485 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:41:27.495 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:41:27.500 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:41:27.500 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:41:27.510 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:41:27.512 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:41:27.512 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:41:27.514 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:41:27.515 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:41:27.517 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:41:27.520 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:41:27.521 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:41:27.721 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:41:27.790 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:41:27.790 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:41:27.791 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:41:27.791 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:41:27.791 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:41:27.791 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:41:27.791 +01:00 [INF] Hosting environment: Development
2023-08-13 14:41:27.791 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:41:27.791 +01:00 [DBG] Hosting started
2023-08-13 14:41:28.008 +01:00 [DBG] Connection id "0HMSS0BVB66UD" received FIN.
2023-08-13 14:41:28.011 +01:00 [DBG] Connection id "0HMSS0BVB66UC" received FIN.
2023-08-13 14:41:28.012 +01:00 [DBG] Connection id "0HMSS0BVB66UC" accepted.
2023-08-13 14:41:28.012 +01:00 [DBG] Connection id "0HMSS0BVB66UD" accepted.
2023-08-13 14:41:28.014 +01:00 [DBG] Connection id "0HMSS0BVB66UC" started.
2023-08-13 14:41:28.014 +01:00 [DBG] Connection id "0HMSS0BVB66UD" started.
2023-08-13 14:41:28.032 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:41:28.032 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:41:28.079 +01:00 [DBG] Connection id "0HMSS0BVB66UC" stopped.
2023-08-13 14:41:28.079 +01:00 [DBG] Connection id "0HMSS0BVB66UD" stopped.
2023-08-13 14:41:28.082 +01:00 [DBG] Connection id "0HMSS0BVB66UC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:41:28.083 +01:00 [DBG] Connection id "0HMSS0BVB66UD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:41:28.576 +01:00 [DBG] Connection id "0HMSS0BVB66UE" accepted.
2023-08-13 14:41:28.586 +01:00 [DBG] Connection id "0HMSS0BVB66UE" started.
2023-08-13 14:41:29.440 +01:00 [DBG] Connection 0HMSS0BVB66UE established using the following protocol: "Tls13"
2023-08-13 14:41:29.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:41:29.731 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:41:29.781 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:41:29.781 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:41:29.939 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:41:30.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:41:30.158 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:41:30.166 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:41:30.174 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 16.9258ms
2023-08-13 14:41:30.175 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 530.4527ms
2023-08-13 14:41:30.221 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.1750ms
2023-08-13 14:41:30.597 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:41:30.599 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:41:30.599 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:41:30.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 327.6952ms
2023-08-13 14:41:31.108 +01:00 [DBG] Connection id "0HMSS0BVB66UE" received FIN.
2023-08-13 14:41:31.108 +01:00 [DBG] Connection id "0HMSS0BVB66UE" is closed. The last processed stream ID was 7.
2023-08-13 14:41:31.109 +01:00 [DBG] Connection id "0HMSS0BVB66UE" sending FIN because: "The client closed the connection."
2023-08-13 14:41:31.112 +01:00 [DBG] Connection id "0HMSS0BVB66UE" stopped.
2023-08-13 14:41:54.465 +01:00 [DBG] Connection id "0HMSS0BVB66UF" accepted.
2023-08-13 14:41:54.466 +01:00 [DBG] Connection id "0HMSS0BVB66UF" started.
2023-08-13 14:41:54.474 +01:00 [DBG] Connection 0HMSS0BVB66UF established using the following protocol: "Tls13"
2023-08-13 14:41:54.478 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140
2023-08-13 14:41:54.490 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:41:54.490 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:41:54.491 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:41:54.492 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:41:54.499 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:41:54.503 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:41:54.527 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:41:54.528 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:41:54.528 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:41:54.528 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:41:54.528 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:41:54.529 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:41:54.529 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:41:54.706 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:41:54.708 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:41:54.717 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:41:54.720 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:41:54.721 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:41:54.727 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000001": started reading request body.
2023-08-13 14:41:54.728 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000001": done reading request body.
2023-08-13 14:41:54.736 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:41:54.736 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:41:54.736 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:41:54.736 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:41:54.742 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:41:54.743 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:41:54.744 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:41:54.744 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:41:54.744 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:41:54.744 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:41:54.744 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:41:54.750 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-08-13 14:41:54.757 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 14:41:54.758 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:54.758 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:54.758 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:54.758 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:54.758 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:41:54.758 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:41:54.758 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:54.758 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:54.758 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:54.785 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-08-13 14:41:54.788 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 14:41:54.788 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:54.788 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:54.788 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:54.788 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:54.789 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:41:54.789 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:41:54.789 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:54.789 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:54.789 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:54.833 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:54.833 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:41:54.833 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:41:54.842 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:41:54.842 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:54.842 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:54.842 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:41:54.842 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:41:54.842 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:41:54.843 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:41:54.843 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:41:54.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:41:54.843 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:41:54.843 +01:00 [DBG] Committing transaction.
2023-08-13 14:41:54.851 +01:00 [DBG] Committed transaction.
2023-08-13 14:41:54.855 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:41:54.856 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:41:54.856 +01:00 [DBG] Disposing transaction.
2023-08-13 14:41:54.856 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:41:54.857 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:41:54.930 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 396.4048ms
2023-08-13 14:41:54.933 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:41:54.935 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Invalid Phone Number Format
   at SavingsApp.Data.Entities.Models.Wallet.SetWalletId(String phoneNumber) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Entities\Models\Wallet.cs:line 53
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:41:54.958 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:41:54.962 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140 - 500 - text/plain;+charset=utf-8 483.7782ms
2023-08-13 14:42:05.174 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 139
2023-08-13 14:42:05.176 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:42:05.176 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:42:05.176 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:05.177 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:42:05.177 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:42:05.177 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:05.177 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:42:05.177 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:42:05.177 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:42:05.178 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:42:05.178 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:42:05.178 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:42:05.178 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:05.230 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:42:05.230 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:05.231 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:05.231 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:42:05.231 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:42:05.231 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000003": started reading request body.
2023-08-13 14:42:05.231 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000003": done reading request body.
2023-08-13 14:42:05.231 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:42:05.231 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:05.231 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:05.231 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:05.231 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:05.231 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:05.231 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:42:05.231 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:05.231 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:05.231 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:05.231 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:05.232 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:05.232 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:05.232 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:05.232 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:05.232 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:05.232 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:05.236 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:05.237 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:05.237 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:05.237 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:05.238 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:42:05.239 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:42:05.239 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:42:05.239 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:42:05.240 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:42:05.240 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 14:42:05.253 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 74.9854ms
2023-08-13 14:42:05.253 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:05.253 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:42:05.253 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 139 - 403 - application/json;+charset=utf-8 79.0064ms
2023-08-13 14:42:18.313 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140
2023-08-13 14:42:18.313 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:42:18.313 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:42:18.313 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:18.313 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:42:18.314 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:42:18.314 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:18.314 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:42:18.315 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:42:18.315 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:42:18.315 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:42:18.315 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:42:18.315 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:42:18.315 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:18.317 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:42:18.317 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:18.317 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:18.317 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:42:18.317 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:42:18.317 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000005": started reading request body.
2023-08-13 14:42:18.317 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000005": done reading request body.
2023-08-13 14:42:18.317 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:42:18.317 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:18.317 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:18.317 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:18.317 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:18.317 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:18.318 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:42:18.318 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:18.318 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:18.318 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:18.318 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:18.318 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:18.318 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:18.318 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.318 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.318 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:18.318 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:18.318 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:18.318 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.318 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.321 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:18.321 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:18.321 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.321 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.321 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:42:18.321 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:42:18.321 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:18.321 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.321 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.321 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:18.321 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:42:18.321 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:42:18.321 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:42:18.321 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.321 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.322 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:42:18.322 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:42:18.322 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:18.322 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:18.322 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 17), @p12='?' (Size = 17), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:42:18.322 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 17), @p12='?' (Size = 17), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:42:18.322 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:18.322 +01:00 [DBG] Committing transaction.
2023-08-13 14:42:18.324 +01:00 [DBG] Committed transaction.
2023-08-13 14:42:18.324 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.324 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.324 +01:00 [DBG] Disposing transaction.
2023-08-13 14:42:18.324 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:18.324 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:42:18.327 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:18.351 +01:00 [DBG] The foreign key property 'Wallet.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-13 14:42:18.370 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:18.373 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:42:18.373 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:42:18.378 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:42:18.382 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.382 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.382 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:42:18.383 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:42:18.385 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:18.385 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:18.385 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:42:18.386 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 10), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:42:18.387 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:18.389 +01:00 [DBG] Committing transaction.
2023-08-13 14:42:18.397 +01:00 [DBG] Committed transaction.
2023-08-13 14:42:18.398 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:18.398 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:18.399 +01:00 [DBG] Disposing transaction.
2023-08-13 14:42:18.399 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:18.400 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:42:18.419 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 14:42:18.426 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkQ5G2fHekMkp0ka%2BY93d0b62yEgod4T2pwBIxD742oNzN2zdsdVKYPYdkuBa9LSnhNcK4GtMC7IXsokB8BLzGcpk0ZBIR8m5qv1o%2Bfwjp%2B3GHgNgZY5zkmSyxOGUotW7aq%2FqFNd%2F2zJBPkmJW4EOOaeE4chp7O%2Bs6KaKEgdkL6me8558YtResspzaqniUo92nDX071IjnOdTm1PpGBg4GM%2Fbd5DJznTLYleipk9OSzkVg%3D%3D&email=user1@example.com
2023-08-13 14:42:18.427 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkQ5G2fHekMkp0ka%2BY93d0b62yEgod4T2pwBIxD742oNzN2zdsdVKYPYdkuBa9LSnhNcK4GtMC7IXsokB8BLzGcpk0ZBIR8m5qv1o%2Bfwjp%2B3GHgNgZY5zkmSyxOGUotW7aq%2FqFNd%2F2zJBPkmJW4EOOaeE4chp7O%2Bs6KaKEgdkL6me8558YtResspzaqniUo92nDX071IjnOdTm1PpGBg4GM%2Fbd5DJznTLYleipk9OSzkVg%3D%3D&email=user1@example.com
2023-08-13 14:42:18.634 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 319.3866ms
2023-08-13 14:42:18.634 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:18.636 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:42:18.644 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:42:18.644 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140 - 500 - text/plain;+charset=utf-8 331.6277ms
2023-08-13 14:42:50.924 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 141
2023-08-13 14:42:50.926 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:42:50.930 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:42:50.934 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:50.934 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:42:50.937 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:42:50.939 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:50.939 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:42:50.939 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:42:50.939 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:42:50.939 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:42:50.939 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:42:50.939 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:42:50.939 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:50.940 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:42:50.940 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:50.940 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:50.940 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:42:50.940 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:42:50.940 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000007": started reading request body.
2023-08-13 14:42:50.940 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000007": done reading request body.
2023-08-13 14:42:50.940 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:42:50.940 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:50.941 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:50.941 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:50.941 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:50.941 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:50.941 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:42:50.941 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:50.941 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:50.941 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:50.941 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:50.941 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:50.941 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:50.941 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:50.941 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:50.941 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:50.941 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:50.942 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:50.942 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:50.942 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:50.942 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:50.942 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:42:50.942 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:42:50.942 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:42:50.942 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:42:50.942 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:42:50.942 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 14:42:50.942 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 3.2659ms
2023-08-13 14:42:50.942 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:50.942 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:42:50.942 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 141 - 403 - application/json;+charset=utf-8 18.6016ms
2023-08-13 14:42:57.672 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 142
2023-08-13 14:42:57.672 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:42:57.672 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:42:57.672 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:57.672 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:42:57.672 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:42:57.672 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:57.672 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:42:57.672 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:42:57.672 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:42:57.672 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:42:57.672 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:42:57.672 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:42:57.673 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:57.673 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:42:57.673 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:42:57.673 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:57.673 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:42:57.673 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:42:57.673 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000009": started reading request body.
2023-08-13 14:42:57.673 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000009": done reading request body.
2023-08-13 14:42:57.673 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:42:57.673 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:57.673 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:57.673 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:42:57.673 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:42:57.673 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:57.673 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:42:57.673 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:57.673 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:57.673 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:42:57.673 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:42:57.674 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:57.674 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:57.674 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:57.674 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:57.674 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:57.674 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:42:57.674 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:57.674 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:57.674 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:57.677 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:57.677 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:57.677 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:57.677 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:57.677 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:42:57.677 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:42:57.677 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:57.678 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:57.678 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:57.678 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:57.678 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:42:57.678 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:42:57.678 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:42:57.678 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:57.678 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:57.678 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:42:57.678 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:42:57.678 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:42:57.678 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:42:57.678 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 18), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 18), @p12='?' (Size = 18), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:42:57.678 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 18), @p4='?' (DbType = Boolean), @p5='?' (Size = 6), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 18), @p12='?' (Size = 18), @p13='?' (Size = 84), @p14='?' (Size = 11), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:42:57.678 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:42:57.678 +01:00 [DBG] Committing transaction.
2023-08-13 14:42:57.685 +01:00 [DBG] Committed transaction.
2023-08-13 14:42:57.685 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:42:57.685 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:42:57.686 +01:00 [DBG] Disposing transaction.
2023-08-13 14:42:57.686 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:42:57.686 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:42:57.716 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 43.5651ms
2023-08-13 14:42:57.717 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:42:57.718 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Invalid Phone Number Format
   at SavingsApp.Data.Entities.Models.Wallet.SetWalletId(String phoneNumber) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Entities\Models\Wallet.cs:line 53
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:42:57.720 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:42:57.720 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 142 - 500 - text/plain;+charset=utf-8 48.0562ms
2023-08-13 14:43:05.272 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 141
2023-08-13 14:43:05.272 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:43:05.272 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:43:05.272 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:05.272 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:43:05.272 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:43:05.272 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:05.272 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:43:05.272 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:43:05.272 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:43:05.272 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:43:05.272 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:43:05.272 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:43:05.272 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:43:05.272 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:43:05.273 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:43:05.273 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:43:05.273 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:43:05.273 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:43:05.273 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:0000000B": started reading request body.
2023-08-13 14:43:05.273 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:0000000B": done reading request body.
2023-08-13 14:43:05.273 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:43:05.273 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:05.273 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:05.273 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:43:05.273 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:05.273 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:43:05.273 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:43:05.273 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:05.273 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:05.273 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:43:05.273 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:05.273 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:43:05.273 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:43:05.273 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:43:05.273 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:43:05.273 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:43:05.274 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:43:05.274 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:43:05.274 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:43:05.274 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:43:05.274 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:43:05.274 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:43:05.274 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:43:05.274 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:43:05.274 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:43:05.274 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:43:05.274 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 14:43:05.274 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 1.8959ms
2023-08-13 14:43:05.274 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:05.274 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:43:05.274 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 141 - 403 - application/json;+charset=utf-8 2.9015ms
2023-08-13 14:43:17.961 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140
2023-08-13 14:43:17.962 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:43:17.962 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:43:17.962 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:17.962 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:43:17.964 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:43:17.964 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:17.964 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:43:17.964 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:43:17.964 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:43:17.964 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:43:17.964 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:43:17.964 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:43:17.964 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:43:17.969 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:43:17.971 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:43:17.971 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:43:17.971 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:43:17.971 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:43:17.971 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:0000000D": started reading request body.
2023-08-13 14:43:17.971 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:0000000D": done reading request body.
2023-08-13 14:43:17.971 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:43:17.971 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:17.971 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:17.971 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:43:17.971 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:17.972 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:43:17.972 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:43:17.972 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:17.972 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:17.972 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:43:17.972 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:17.972 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:43:17.972 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:43:17.972 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:43:17.972 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:43:17.972 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:43:17.972 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:43:17.973 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:43:17.973 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:43:17.973 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:43:17.973 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:43:17.973 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:43:17.973 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:43:17.973 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:43:17.973 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:43:17.973 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:43:17.973 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 14:43:17.973 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 9.2373ms
2023-08-13 14:43:17.974 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:17.974 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:43:17.974 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 140 - 403 - application/json;+charset=utf-8 12.5335ms
2023-08-13 14:43:30.286 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 139
2023-08-13 14:43:30.286 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:43:30.286 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:43:30.286 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:30.286 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:43:30.287 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:43:30.287 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:30.287 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:43:30.287 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:43:30.287 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:43:30.287 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:43:30.287 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:43:30.287 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:43:30.287 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:43:30.287 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:43:30.287 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:43:30.287 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:43:30.287 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:43:30.287 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:43:30.287 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:0000000F": started reading request body.
2023-08-13 14:43:30.287 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:0000000F": done reading request body.
2023-08-13 14:43:30.287 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:43:30.287 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:30.287 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:30.287 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:43:30.287 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:43:30.288 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:43:30.288 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:43:30.288 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:30.288 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:30.288 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:43:30.288 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:43:30.288 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:43:30.288 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:43:30.288 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:43:30.288 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:43:30.288 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:43:30.288 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:43:30.288 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:43:30.288 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:43:30.288 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:43:30.288 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:43:30.288 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:43:30.288 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:43:30.288 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:43:30.288 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:43:30.288 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:43:30.288 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 14:43:30.289 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 1.9197ms
2023-08-13 14:43:30.289 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:43:30.289 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:43:30.289 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 139 - 403 - application/json;+charset=utf-8 2.4746ms
2023-08-13 14:44:19.359 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 137
2023-08-13 14:44:19.359 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:44:19.359 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:44:19.359 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:44:19.362 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:44:19.363 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:44:19.364 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:44:19.364 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:44:19.366 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:44:19.366 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:44:19.366 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:44:19.368 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:44:19.369 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:44:19.370 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:44:19.376 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:44:19.377 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:44:19.377 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:44:19.378 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:44:19.378 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:44:19.378 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000011": started reading request body.
2023-08-13 14:44:19.378 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000011": done reading request body.
2023-08-13 14:44:19.378 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:44:19.378 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:44:19.378 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:44:19.378 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:44:19.378 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:44:19.378 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:44:19.378 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:44:19.378 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:44:19.378 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:44:19.378 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:44:19.378 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:44:19.378 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:44:19.378 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:44:19.378 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:19.378 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:19.379 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:44:19.379 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:44:19.379 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:44:19.379 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:44:19.379 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:19.379 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:19.379 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:44:19.379 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:44:19.379 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:44:19.379 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:44:19.379 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:44:19.380 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 14:44:19.380 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 10.1117ms
2023-08-13 14:44:19.380 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:44:19.380 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:44:19.380 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 137 - 403 - application/json;+charset=utf-8 20.7795ms
2023-08-13 14:44:28.740 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 134
2023-08-13 14:44:28.740 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 14:44:28.740 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 14:44:28.740 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:44:28.740 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:44:28.741 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:44:28.741 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:44:28.741 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 14:44:28.741 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:44:28.741 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:44:28.741 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:44:28.741 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:44:28.741 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:44:28.741 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:44:28.742 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:44:28.742 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 14:44:28.742 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:44:28.742 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 14:44:28.742 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:44:28.742 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000013": started reading request body.
2023-08-13 14:44:28.742 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000013": done reading request body.
2023-08-13 14:44:28.742 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 14:44:28.742 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:44:28.742 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:44:28.742 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 14:44:28.742 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 14:44:28.742 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:44:28.742 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 14:44:28.742 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:44:28.742 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:44:28.742 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 14:44:28.742 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 14:44:28.742 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:44:28.742 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:44:28.742 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.742 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.742 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:44:28.743 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 14:44:28.743 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:44:28.743 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.743 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.745 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:44:28.745 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:44:28.745 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.745 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.745 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:44:28.745 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 14:44:28.745 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:44:28.745 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.746 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.746 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:44:28.746 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:44:28.746 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:44:28.746 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:44:28.746 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.746 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.746 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:44:28.746 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:44:28.746 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:44:28.746 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:44:28.746 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 15), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 3), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 15), @p12='?' (Size = 15), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:44:28.746 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 15), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 3), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 15), @p12='?' (Size = 15), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 14:44:28.746 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:44:28.746 +01:00 [DBG] Committing transaction.
2023-08-13 14:44:28.753 +01:00 [DBG] Committed transaction.
2023-08-13 14:44:28.753 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.753 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.753 +01:00 [DBG] Disposing transaction.
2023-08-13 14:44:28.753 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:44:28.753 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:44:28.753 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:44:28.754 +01:00 [DBG] The foreign key property 'Wallet.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-13 14:44:28.754 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:44:28.754 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:44:28.754 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:44:28.754 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:44:28.754 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.754 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.754 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:44:28.754 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:44:28.754 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:44:28.754 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:44:28.754 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 9), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:44:28.754 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 9), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 14:44:28.754 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:44:28.755 +01:00 [DBG] Committing transaction.
2023-08-13 14:44:28.756 +01:00 [DBG] Committed transaction.
2023-08-13 14:44:28.756 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:44:28.756 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:44:28.756 +01:00 [DBG] Disposing transaction.
2023-08-13 14:44:28.756 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:44:28.756 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 14:44:28.757 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 14:44:28.757 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkR4dv2PSkzRor4csc7Pr6px1XXeE%2BAQMDlNuk9c9PRLIMQooz0ZYJ%2B96pQAlFXtVVzdZlFfUP5f1XWERSw3usyifpXhryYWeLZzUGo9tB8A5Juq0MLj9AS1m7kQL%2FVl%2BNQd2vFSkep%2FafFYoEQ3m0%2F6%2B2BTusRQtoXtUB9vnv5aMBEVzCzDZa5pBF0YL9EnIRlBzLjJA%2BkAS3LRC6oC3Xul4fmqswcXrewYQfaCeziGIA%3D%3D&email=use@example.com
2023-08-13 14:44:28.757 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkR4dv2PSkzRor4csc7Pr6px1XXeE%2BAQMDlNuk9c9PRLIMQooz0ZYJ%2B96pQAlFXtVVzdZlFfUP5f1XWERSw3usyifpXhryYWeLZzUGo9tB8A5Juq0MLj9AS1m7kQL%2FVl%2BNQd2vFSkep%2FafFYoEQ3m0%2F6%2B2BTusRQtoXtUB9vnv5aMBEVzCzDZa5pBF0YL9EnIRlBzLjJA%2BkAS3LRC6oC3Xul4fmqswcXrewYQfaCeziGIA%3D%3D&email=use@example.com
2023-08-13 14:44:28.835 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 93.751ms
2023-08-13 14:44:28.835 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 14:44:28.836 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 14:44:28.839 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:44:28.839 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 134 - 500 - text/plain;+charset=utf-8 98.6465ms
2023-08-13 14:45:48.028 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89
2023-08-13 14:45:48.045 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:45:48.046 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:45:48.046 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:45:48.049 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:45:48.059 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:45:48.060 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:45:48.070 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:45:48.070 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:45:48.070 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:45:48.070 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:45:48.070 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:45:48.070 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:45:48.070 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:45:48.071 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:45:48.071 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:45:48.071 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:45:48.071 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:45:48.071 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:45:48.072 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000015": started reading request body.
2023-08-13 14:45:48.072 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000015": done reading request body.
2023-08-13 14:45:48.073 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:45:48.073 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:45:48.073 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:45:48.073 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:45:48.074 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:45:48.082 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:45:48.089 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:45:48.091 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:45:48.092 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:45:48.092 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.092 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.092 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:45:48.092 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:45:48.093 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:45:48.093 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.093 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.094 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:45:48.095 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:45:48.095 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:45:48.095 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:45:48.095 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.095 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.095 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:45:48.095 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:45:48.095 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:45:48.095 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.095 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.097 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:45:48.107 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:45:48.108 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:45:48.108 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:45:48.108 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.108 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.108 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:45:48.108 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:45:48.108 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:45:48.108 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.108 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.108 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:45:48.108 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:45:48.108 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.108 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.108 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:45:48.108 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:45:48.108 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:45:48.108 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:48.109 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:48.110 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:45:48.125 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:45:53.202 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:45:53.800 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:45:53.800 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:45:53.812 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:45:53.813 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:53.813 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:53.813 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:45:53.813 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:45:53.822 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:45:53.822 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:45:53.824 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:45:53.830 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:45:53.837 +01:00 [DBG] Disposing transaction.
2023-08-13 14:45:53.837 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:45:53.837 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:45:53.843 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:46:24.942 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:46:24.942 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:46:24.942 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:46:24.942 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:46:24.942 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:46:24.943 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:46:24.953 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 36883.4422ms
2023-08-13 14:46:24.954 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:46:24.954 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:46:24.954 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89 - 200 - application/json;+charset=utf-8 36925.3685ms
2023-08-13 14:46:41.423 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89
2023-08-13 14:46:41.424 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:46:41.424 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:46:41.424 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:46:41.424 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:46:41.424 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:46:41.424 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:46:41.425 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:46:41.425 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:46:41.425 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:46:41.425 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:46:41.425 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:46:41.425 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:46:41.425 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:46:41.425 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:46:41.425 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:46:41.425 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:46:41.425 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:46:41.425 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:46:41.425 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000017": started reading request body.
2023-08-13 14:46:41.425 +01:00 [DBG] Connection id "0HMSS0BVB66UF", Request id "0HMSS0BVB66UF:00000017": done reading request body.
2023-08-13 14:46:41.425 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:46:41.425 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:46:41.425 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:46:41.425 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:46:41.425 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:46:41.426 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:46:41.426 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:46:41.426 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.426 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.426 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:46:41.426 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:46:41.426 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:46:41.426 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.426 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.426 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:46:41.426 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:46:41.426 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.426 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.426 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:46:41.426 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:46:41.427 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:46:41.427 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:46:41.427 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:46:41.427 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:46:41.427 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:46:41.427 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:46:41.427 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:46:41.427 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:46:41.427 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:46:41.427 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:46:41.427 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:46:41.427 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:46:41.427 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:46:41.427 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:47:16.521 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:47:16.728 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:47:17.501 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:47:17.501 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:47:17.849 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:47:17.942 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:17.957 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:17.969 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:47:17.979 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 14:47:17.981 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:17.984 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:17.995 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:47:18.017 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:47:18.021 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:18.026 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:18.072 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:47:18.361 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:47:18.391 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:47:18.391 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:47:18.391 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:18.392 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:18.393 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:47:18.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:47:18.400 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:47:18.400 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:18.400 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:18.407 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:47:18.410 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:47:18.414 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:47:18.421 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:47:18.423 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:47:18.457 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:47:18.491 +01:00 [DBG] Hosting starting
2023-08-13 14:47:18.497 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:47:18.504 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:47:18.504 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:47:18.510 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:47:18.512 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:47:18.513 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:47:18.524 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:47:18.526 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:47:18.527 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:47:18.528 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:47:18.529 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:47:18.531 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:47:18.534 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:47:18.534 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:47:18.674 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:47:18.746 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:47:18.746 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:47:18.746 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:47:18.746 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:47:18.747 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:47:18.747 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:47:18.747 +01:00 [INF] Hosting environment: Development
2023-08-13 14:47:18.747 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:47:18.747 +01:00 [DBG] Hosting started
2023-08-13 14:47:18.990 +01:00 [DBG] Connection id "0HMSS0F7UDFPQ" received FIN.
2023-08-13 14:47:19.001 +01:00 [DBG] Connection id "0HMSS0F7UDFPQ" accepted.
2023-08-13 14:47:19.002 +01:00 [DBG] Connection id "0HMSS0F7UDFPQ" started.
2023-08-13 14:47:19.018 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:47:19.052 +01:00 [DBG] Connection id "0HMSS0F7UDFPQ" stopped.
2023-08-13 14:47:19.057 +01:00 [DBG] Connection id "0HMSS0F7UDFPQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:47:19.483 +01:00 [DBG] Connection id "0HMSS0F7UDFPR" accepted.
2023-08-13 14:47:19.493 +01:00 [DBG] Connection id "0HMSS0F7UDFPR" started.
2023-08-13 14:47:19.965 +01:00 [DBG] Connection 0HMSS0F7UDFPR established using the following protocol: "Tls13"
2023-08-13 14:47:20.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:47:20.408 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:47:20.478 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:47:20.478 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:47:20.675 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:47:20.874 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:47:20.884 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:47:20.886 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 11.2642ms
2023-08-13 14:47:20.891 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 611.9415ms
2023-08-13 14:47:20.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:47:20.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.1770ms
2023-08-13 14:47:21.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:47:21.227 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:47:21.227 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:47:21.520 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.4381ms
2023-08-13 14:47:22.220 +01:00 [DBG] Connection id "0HMSS0F7UDFPR" received FIN.
2023-08-13 14:47:22.220 +01:00 [DBG] Connection id "0HMSS0F7UDFPR" is closed. The last processed stream ID was 7.
2023-08-13 14:47:22.221 +01:00 [DBG] Connection id "0HMSS0F7UDFPR" sending FIN because: "The client closed the connection."
2023-08-13 14:47:22.224 +01:00 [DBG] Connection id "0HMSS0F7UDFPR" stopped.
2023-08-13 14:47:42.277 +01:00 [DBG] Connection id "0HMSS0F7UDFPS" accepted.
2023-08-13 14:47:42.277 +01:00 [DBG] Connection id "0HMSS0F7UDFPS" started.
2023-08-13 14:47:42.286 +01:00 [DBG] Connection 0HMSS0F7UDFPS established using the following protocol: "Tls13"
2023-08-13 14:47:42.289 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 14:47:42.340 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:47:42.340 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:47:42.341 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:47:42.343 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:47:42.351 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:47:42.353 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:47:42.373 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:47:42.373 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:47:42.374 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:47:42.374 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:47:42.374 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:47:42.374 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:47:42.374 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:47:42.378 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:47:42.379 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:47:42.383 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:47:42.385 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:47:42.385 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:47:42.389 +01:00 [DBG] Connection id "0HMSS0F7UDFPS", Request id "0HMSS0F7UDFPS:00000001": started reading request body.
2023-08-13 14:47:42.389 +01:00 [DBG] Connection id "0HMSS0F7UDFPS", Request id "0HMSS0F7UDFPS:00000001": done reading request body.
2023-08-13 14:47:42.396 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:47:42.397 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:47:42.397 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:47:42.397 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:47:42.403 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:47:42.425 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:47:42.529 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:47:42.544 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:47:42.544 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:47:42.547 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.547 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.552 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:47:42.557 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:47:42.564 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:47:42.564 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.564 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.564 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:47:42.567 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:47:42.567 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:47:42.567 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:47:42.567 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.567 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.567 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:47:42.567 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:47:42.567 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:47:42.567 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.567 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.569 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:47:42.582 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:47:42.582 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:47:42.583 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:47:42.583 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.583 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.583 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:47:42.583 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:47:42.583 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:47:42.583 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.583 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.586 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:47:42.586 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:47:42.586 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.587 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.587 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:47:42.587 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:47:42.587 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:47:42.587 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:47:42.587 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:47:42.628 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:47:42.709 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:47:44.903 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:47:49.812 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:47:49.813 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:48:02.727 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:48:02.728 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:48:02.728 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:48:02.753 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:48:02.784 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:02.785 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:02.787 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:48:02.791 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:48:02.871 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:48:02.871 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:48:02.875 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:48:02.884 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:48:02.900 +01:00 [DBG] Disposing transaction.
2023-08-13 14:48:02.911 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:02.912 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:02.920 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 14:48:20.500 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:48:20.502 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:48:20.502 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:48:20.502 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:48:20.503 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:48:20.503 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:48:20.517 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 38135.9277ms
2023-08-13 14:48:20.518 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:48:20.521 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:48:20.525 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 200 - application/json;+charset=utf-8 38235.3466ms
2023-08-13 14:48:49.497 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:48:49.647 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:48:50.423 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:48:50.423 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:48:50.802 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:48:50.885 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:50.901 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:50.912 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:48:50.921 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 14:48:50.923 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:50.926 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:50.936 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:48:50.964 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:48:50.970 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:50.976 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:51.023 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:48:51.301 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:48:51.339 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:48:51.339 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:48:51.339 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:51.339 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:51.340 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:48:51.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:48:51.347 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:48:51.347 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:48:51.347 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:48:51.354 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:48:51.357 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:48:51.362 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:48:51.368 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:48:51.372 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:48:51.411 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:48:51.444 +01:00 [DBG] Hosting starting
2023-08-13 14:48:51.447 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:48:51.453 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:48:51.453 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:48:51.459 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:48:51.462 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:48:51.462 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:48:51.470 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:48:51.471 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:48:51.471 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:48:51.473 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:48:51.474 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:48:51.476 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:48:51.479 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:48:51.479 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:48:51.620 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:48:51.676 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:48:51.676 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:48:51.676 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:48:51.676 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:48:51.676 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:48:51.677 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:48:51.677 +01:00 [INF] Hosting environment: Development
2023-08-13 14:48:51.677 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:48:51.677 +01:00 [DBG] Hosting started
2023-08-13 14:48:51.691 +01:00 [DBG] Connection id "0HMSS0G3IFPR9" received FIN.
2023-08-13 14:48:51.702 +01:00 [DBG] Connection id "0HMSS0G3IFPR9" accepted.
2023-08-13 14:48:51.703 +01:00 [DBG] Connection id "0HMSS0G3IFPR9" started.
2023-08-13 14:48:51.719 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:48:51.753 +01:00 [DBG] Connection id "0HMSS0G3IFPR9" stopped.
2023-08-13 14:48:51.756 +01:00 [DBG] Connection id "0HMSS0G3IFPR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:48:52.243 +01:00 [DBG] Connection id "0HMSS0G3IFPRA" accepted.
2023-08-13 14:48:52.250 +01:00 [DBG] Connection id "0HMSS0G3IFPRA" started.
2023-08-13 14:48:52.865 +01:00 [DBG] Connection 0HMSS0G3IFPRA established using the following protocol: "Tls13"
2023-08-13 14:48:53.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:48:53.101 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:48:53.158 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:48:53.159 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:48:53.335 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:48:53.525 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:48:53.531 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:48:53.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:48:53.542 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 11.7775ms
2023-08-13 14:48:53.543 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 525.8281ms
2023-08-13 14:48:53.590 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.9056ms
2023-08-13 14:48:53.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:48:53.871 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:48:53.871 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:48:54.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.5952ms
2023-08-13 14:48:54.841 +01:00 [DBG] Connection id "0HMSS0G3IFPRA" received FIN.
2023-08-13 14:48:54.842 +01:00 [DBG] Connection id "0HMSS0G3IFPRA" is closed. The last processed stream ID was 7.
2023-08-13 14:48:54.842 +01:00 [DBG] Connection id "0HMSS0G3IFPRA" sending FIN because: "The client closed the connection."
2023-08-13 14:48:54.845 +01:00 [DBG] Connection id "0HMSS0G3IFPRA" stopped.
2023-08-13 14:49:25.056 +01:00 [DBG] Connection id "0HMSS0G3IFPRB" accepted.
2023-08-13 14:49:25.066 +01:00 [DBG] Connection id "0HMSS0G3IFPRB" started.
2023-08-13 14:49:25.095 +01:00 [DBG] Connection 0HMSS0G3IFPRB established using the following protocol: "Tls13"
2023-08-13 14:49:25.097 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 14:49:25.140 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:49:25.141 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:49:25.141 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:49:25.143 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:49:25.149 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:49:25.151 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:49:25.177 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:49:25.177 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:49:25.177 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:49:25.177 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:49:25.178 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:49:25.178 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:49:25.178 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:49:25.180 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:49:25.181 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:49:25.185 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:49:25.186 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:49:25.187 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:49:25.191 +01:00 [DBG] Connection id "0HMSS0G3IFPRB", Request id "0HMSS0G3IFPRB:00000001": started reading request body.
2023-08-13 14:49:25.191 +01:00 [DBG] Connection id "0HMSS0G3IFPRB", Request id "0HMSS0G3IFPRB:00000001": done reading request body.
2023-08-13 14:49:25.197 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:49:25.197 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:49:25.197 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:49:25.197 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:49:25.203 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:49:25.223 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:49:25.337 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:49:25.350 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:49:25.350 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:49:25.352 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.352 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.356 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:49:25.363 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:49:25.367 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:49:25.367 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.367 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.367 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:49:25.369 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:49:25.369 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:49:25.369 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:49:25.369 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.369 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.369 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:49:25.369 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:49:25.369 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:49:25.369 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.369 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.371 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:49:25.382 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:49:25.383 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:49:25.383 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:49:25.383 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.383 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.383 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:49:25.383 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:49:25.383 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:49:25.383 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.383 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.388 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:49:25.388 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:49:25.388 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.388 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.388 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:49:25.388 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:49:25.388 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:49:25.388 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:25.388 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:25.427 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:49:25.495 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:49:27.670 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:49:29.528 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:49:29.529 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:49:32.656 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:49:34.208 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:49:34.208 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:49:34.231 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:49:34.243 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:34.243 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:34.245 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 14:49:34.251 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 14:49:34.319 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:49:34.319 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:49:34.322 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:49:34.327 +01:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 14:49:34.334 +01:00 [DBG] Disposing transaction.
2023-08-13 14:49:34.336 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:49:34.336 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:49:34.339 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 14:49:47.154 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 14:49:47.156 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 14:49:47.156 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 14:49:47.156 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 14:49:47.157 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 14:49:47.157 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 14:49:47.170 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 21982.7668ms
2023-08-13 14:49:47.171 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:49:47.175 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:49:47.179 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 200 - application/json;+charset=utf-8 22081.6859ms
2023-08-13 14:51:16.742 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 14:51:16.889 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 14:51:17.608 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 14:51:17.608 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 14:51:17.947 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:51:18.029 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:51:18.045 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:51:18.057 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 14:51:18.066 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 14:51:18.069 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:51:18.072 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:51:18.081 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:51:18.102 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 14:51:18.106 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:51:18.110 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:51:18.154 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 14:51:18.423 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 14:51:18.458 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:51:18.458 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:51:18.459 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:51:18.459 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:51:18.460 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:51:18.461 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 14:51:18.467 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:51:18.467 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:51:18.467 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:51:18.473 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 14:51:18.475 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 14:51:18.479 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 14:51:18.484 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 14:51:18.487 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 14:51:18.518 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 14:51:18.553 +01:00 [DBG] Hosting starting
2023-08-13 14:51:18.556 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 14:51:18.562 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 14:51:18.562 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 14:51:18.570 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 14:51:18.572 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 14:51:18.573 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 14:51:18.580 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 14:51:18.581 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:51:18.582 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 14:51:18.583 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 14:51:18.584 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 14:51:18.585 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 14:51:18.588 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 14:51:18.588 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 14:51:18.739 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 14:51:18.797 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 14:51:18.797 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 14:51:18.797 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 14:51:18.797 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 14:51:18.797 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 14:51:18.798 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 14:51:18.798 +01:00 [INF] Hosting environment: Development
2023-08-13 14:51:18.798 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 14:51:18.798 +01:00 [DBG] Hosting started
2023-08-13 14:51:18.972 +01:00 [DBG] Connection id "0HMSS0HFF1IFU" accepted.
2023-08-13 14:51:18.972 +01:00 [DBG] Connection id "0HMSS0HFF1IFV" accepted.
2023-08-13 14:51:18.974 +01:00 [DBG] Connection id "0HMSS0HFF1IFV" started.
2023-08-13 14:51:18.974 +01:00 [DBG] Connection id "0HMSS0HFF1IFU" started.
2023-08-13 14:51:19.002 +01:00 [DBG] Connection id "0HMSS0HFF1IFV" received FIN.
2023-08-13 14:51:19.002 +01:00 [DBG] Connection id "0HMSS0HFF1IFU" received FIN.
2023-08-13 14:51:19.024 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:51:19.024 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 14:51:19.066 +01:00 [DBG] Connection id "0HMSS0HFF1IFU" stopped.
2023-08-13 14:51:19.066 +01:00 [DBG] Connection id "0HMSS0HFF1IFV" stopped.
2023-08-13 14:51:19.068 +01:00 [DBG] Connection id "0HMSS0HFF1IFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:51:19.068 +01:00 [DBG] Connection id "0HMSS0HFF1IFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 14:51:19.587 +01:00 [DBG] Connection id "0HMSS0HFF1IG0" accepted.
2023-08-13 14:51:19.589 +01:00 [DBG] Connection id "0HMSS0HFF1IG0" started.
2023-08-13 14:51:20.023 +01:00 [DBG] Connection 0HMSS0HFF1IG0 established using the following protocol: "Tls13"
2023-08-13 14:51:20.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 14:51:20.211 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 14:51:20.259 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 14:51:20.261 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:51:20.464 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 14:51:20.679 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 14:51:20.687 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 14:51:20.688 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 14:51:20.693 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 14.0149ms
2023-08-13 14:51:20.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 572.0743ms
2023-08-13 14:51:20.729 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.8680ms
2023-08-13 14:51:21.029 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 14:51:21.030 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 14:51:21.030 +01:00 [DBG] Request did not match any endpoints
2023-08-13 14:51:21.318 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 288.8330ms
2023-08-13 14:51:22.564 +01:00 [DBG] Connection id "0HMSS0HFF1IG0" received FIN.
2023-08-13 14:51:22.565 +01:00 [DBG] Connection id "0HMSS0HFF1IG0" is closed. The last processed stream ID was 7.
2023-08-13 14:51:22.566 +01:00 [DBG] Connection id "0HMSS0HFF1IG0" sending FIN because: "The client closed the connection."
2023-08-13 14:51:22.568 +01:00 [DBG] Connection id "0HMSS0HFF1IG0" stopped.
2023-08-13 14:51:54.861 +01:00 [DBG] Connection id "0HMSS0HFF1IG1" accepted.
2023-08-13 14:51:54.870 +01:00 [DBG] Connection id "0HMSS0HFF1IG1" started.
2023-08-13 14:51:54.898 +01:00 [DBG] Connection 0HMSS0HFF1IG1 established using the following protocol: "Tls13"
2023-08-13 14:51:54.902 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 89
2023-08-13 14:51:54.913 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:51:54.913 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 14:51:54.914 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:51:54.915 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 14:51:54.923 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 14:51:54.925 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 14:51:54.949 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 14:51:54.950 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 14:51:54.950 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 14:51:54.951 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 14:51:54.951 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 14:51:54.951 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 14:51:54.951 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:51:54.962 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 14:51:54.970 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 14:51:54.973 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:51:54.975 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 14:51:54.975 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 14:51:54.979 +01:00 [DBG] Connection id "0HMSS0HFF1IG1", Request id "0HMSS0HFF1IG1:00000001": started reading request body.
2023-08-13 14:51:54.979 +01:00 [DBG] Connection id "0HMSS0HFF1IG1", Request id "0HMSS0HFF1IG1:00000001": done reading request body.
2023-08-13 14:51:54.986 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 14:51:54.986 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:51:54.986 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:51:54.986 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 14:51:54.994 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 14:52:08.960 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:52:09.062 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:52:09.073 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:52:09.073 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:52:09.075 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:52:09.075 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:52:09.079 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:52:09.084 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 14:52:09.087 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:52:09.087 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:52:09.088 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:52:14.589 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 14:52:14.592 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:52:14.592 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:52:14.592 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:52:14.592 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:52:14.592 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:52:14.592 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:52:14.592 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 14:52:14.592 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:52:14.592 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:52:14.593 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:54:11.681 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 14:54:11.693 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 14:54:11.695 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:54:11.695 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:54:11.695 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:54:11.695 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:54:11.695 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:54:11.695 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:54:11.695 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:54:11.696 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:54:11.696 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:54:12.568 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 14:54:12.568 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 14:54:12.568 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 14:54:12.568 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:54:12.568 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:54:12.568 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 14:54:12.568 +01:00 [DBG] A data reader was disposed.
2023-08-13 14:54:12.568 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 14:54:12.568 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 14:55:32.930 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 14:55:32.992 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:07:27.423 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:07:39.965 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:07:39.986 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:08:19.321 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:08:19.321 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:08:19.322 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:08:19.365 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:08:19.367 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:08:19.369 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 15:08:19.375 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 15:08:19.463 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:08:19.463 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:08:19.466 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:08:19.476 +01:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:08:19.496 +01:00 [DBG] Disposing transaction.
2023-08-13 15:08:19.506 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:08:19.508 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:08:19.516 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 15:13:07.044 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 15:13:07.186 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 15:13:07.921 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 15:13:07.921 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 15:13:08.291 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:13:08.393 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:13:08.410 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:13:08.421 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 15:13:08.431 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 15:13:08.433 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:13:08.436 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:13:08.448 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:13:08.474 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:13:08.479 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:13:08.483 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:13:08.529 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 15:13:08.809 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 15:13:08.839 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:13:08.839 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:13:08.839 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:13:08.840 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:13:08.841 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:13:08.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:13:08.847 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:13:08.847 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:13:08.847 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:13:08.856 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:13:08.859 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:13:08.864 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:13:08.869 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:13:08.872 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:13:08.911 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 15:13:08.943 +01:00 [DBG] Hosting starting
2023-08-13 15:13:08.946 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 15:13:08.950 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 15:13:08.951 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 15:13:08.956 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 15:13:08.959 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 15:13:08.959 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 15:13:08.967 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 15:13:08.968 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:13:08.969 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 15:13:08.970 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:13:08.970 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 15:13:08.972 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 15:13:08.974 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 15:13:08.974 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 15:13:09.124 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 15:13:09.167 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 15:13:09.167 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 15:13:09.167 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 15:13:09.167 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 15:13:09.167 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 15:13:09.168 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 15:13:09.168 +01:00 [INF] Hosting environment: Development
2023-08-13 15:13:09.168 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 15:13:09.168 +01:00 [DBG] Hosting started
2023-08-13 15:13:09.352 +01:00 [DBG] Connection id "0HMSS0TLVPDTE" accepted.
2023-08-13 15:13:09.353 +01:00 [DBG] Connection id "0HMSS0TLVPDTE" started.
2023-08-13 15:13:09.367 +01:00 [DBG] Connection id "0HMSS0TLVPDTF" accepted.
2023-08-13 15:13:09.368 +01:00 [DBG] Connection id "0HMSS0TLVPDTF" started.
2023-08-13 15:13:09.386 +01:00 [DBG] Connection id "0HMSS0TLVPDTF" received FIN.
2023-08-13 15:13:09.386 +01:00 [DBG] Connection id "0HMSS0TLVPDTE" received FIN.
2023-08-13 15:13:09.420 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:13:09.420 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:13:09.463 +01:00 [DBG] Connection id "0HMSS0TLVPDTE" stopped.
2023-08-13 15:13:09.463 +01:00 [DBG] Connection id "0HMSS0TLVPDTF" stopped.
2023-08-13 15:13:09.465 +01:00 [DBG] Connection id "0HMSS0TLVPDTE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:13:09.465 +01:00 [DBG] Connection id "0HMSS0TLVPDTF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:13:09.976 +01:00 [DBG] Connection id "0HMSS0TLVPDTG" accepted.
2023-08-13 15:13:09.977 +01:00 [DBG] Connection id "0HMSS0TLVPDTG" started.
2023-08-13 15:13:10.385 +01:00 [DBG] Connection 0HMSS0TLVPDTG established using the following protocol: "Tls13"
2023-08-13 15:13:10.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 15:13:10.803 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 15:13:10.868 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 15:13:10.869 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:13:11.066 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 15:13:11.271 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 15:13:11.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 15:13:11.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 11.5436ms
2023-08-13 15:13:11.284 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 15:13:11.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 703.7372ms
2023-08-13 15:13:11.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.0094ms
2023-08-13 15:13:11.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 15:13:11.627 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 15:13:11.627 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:13:11.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 349.9925ms
2023-08-13 15:13:13.190 +01:00 [DBG] Connection id "0HMSS0TLVPDTG" received FIN.
2023-08-13 15:13:13.190 +01:00 [DBG] Connection id "0HMSS0TLVPDTG" is closed. The last processed stream ID was 7.
2023-08-13 15:13:13.190 +01:00 [DBG] Connection id "0HMSS0TLVPDTG" sending FIN because: "The client closed the connection."
2023-08-13 15:13:13.193 +01:00 [DBG] Connection id "0HMSS0TLVPDTG" stopped.
2023-08-13 15:15:38.216 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 15:15:38.390 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 15:15:39.496 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 15:15:39.497 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 15:15:40.044 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:15:40.191 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:15:40.220 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:15:40.242 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 15:15:40.254 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-08-13 15:15:40.257 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:15:40.262 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:15:40.273 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:15:40.297 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:15:40.301 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:15:40.305 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:15:40.360 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 15:15:40.735 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 15:15:40.777 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:15:40.777 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:15:40.777 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:15:40.777 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:15:40.779 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:15:40.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:15:40.785 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:15:40.785 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:15:40.785 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:15:40.792 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:15:40.794 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:15:40.797 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:15:40.802 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:15:40.804 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:15:40.840 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 15:15:40.883 +01:00 [DBG] Hosting starting
2023-08-13 15:15:40.887 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 15:15:40.892 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 15:15:40.892 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 15:15:40.899 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 15:15:40.904 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 15:15:40.904 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 15:15:40.916 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 15:15:40.918 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:15:40.918 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 15:15:40.919 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:15:40.920 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 15:15:40.921 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 15:15:40.923 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 15:15:40.924 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 15:15:41.064 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 15:15:41.128 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 15:15:41.129 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 15:15:41.129 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 15:15:41.129 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 15:15:41.129 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 15:15:41.129 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 15:15:41.129 +01:00 [INF] Hosting environment: Development
2023-08-13 15:15:41.129 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 15:15:41.129 +01:00 [DBG] Hosting started
2023-08-13 15:15:41.247 +01:00 [DBG] Connection id "0HMSS0V38BQ5V" accepted.
2023-08-13 15:15:41.247 +01:00 [DBG] Connection id "0HMSS0V38BQ60" accepted.
2023-08-13 15:15:41.248 +01:00 [DBG] Connection id "0HMSS0V38BQ5V" started.
2023-08-13 15:15:41.248 +01:00 [DBG] Connection id "0HMSS0V38BQ60" started.
2023-08-13 15:15:41.286 +01:00 [DBG] Connection id "0HMSS0V38BQ5V" received FIN.
2023-08-13 15:15:41.286 +01:00 [DBG] Connection id "0HMSS0V38BQ60" received FIN.
2023-08-13 15:15:41.327 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:15:41.327 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:15:41.380 +01:00 [DBG] Connection id "0HMSS0V38BQ60" stopped.
2023-08-13 15:15:41.380 +01:00 [DBG] Connection id "0HMSS0V38BQ5V" stopped.
2023-08-13 15:15:41.384 +01:00 [DBG] Connection id "0HMSS0V38BQ60" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:15:41.384 +01:00 [DBG] Connection id "0HMSS0V38BQ5V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:15:41.890 +01:00 [DBG] Connection id "0HMSS0V38BQ61" accepted.
2023-08-13 15:15:41.896 +01:00 [DBG] Connection id "0HMSS0V38BQ61" started.
2023-08-13 15:15:42.441 +01:00 [DBG] Connection 0HMSS0V38BQ61 established using the following protocol: "Tls13"
2023-08-13 15:15:42.651 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 15:15:42.750 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 15:15:42.809 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 15:15:42.810 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:15:43.040 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 15:15:43.335 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 15:15:43.339 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 15:15:43.346 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 15:15:43.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 715.7332ms
2023-08-13 15:15:43.351 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 16.1945ms
2023-08-13 15:15:43.442 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 95.9382ms
2023-08-13 15:15:43.732 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 15:15:43.734 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 15:15:43.734 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:15:44.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 502.2859ms
2023-08-13 15:15:45.382 +01:00 [DBG] Connection id "0HMSS0V38BQ61" received FIN.
2023-08-13 15:15:45.382 +01:00 [DBG] Connection id "0HMSS0V38BQ61" is closed. The last processed stream ID was 7.
2023-08-13 15:15:45.383 +01:00 [DBG] Connection id "0HMSS0V38BQ61" sending FIN because: "The client closed the connection."
2023-08-13 15:15:45.387 +01:00 [DBG] Connection id "0HMSS0V38BQ61" stopped.
2023-08-13 15:31:02.661 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 15:31:02.842 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 15:31:03.780 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 15:31:03.780 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 15:31:04.171 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:31:04.308 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:04.329 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:04.340 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 15:31:04.353 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 15:31:04.355 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:04.358 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:04.370 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:31:04.398 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:31:04.403 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:04.410 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:04.467 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 15:31:04.796 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 15:31:04.850 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:31:04.850 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:31:04.850 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:04.850 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:04.854 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:31:04.857 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:31:04.868 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:31:04.868 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:04.868 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:04.882 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:31:04.887 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:31:04.898 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:31:04.912 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:31:04.917 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:31:04.975 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 15:31:05.048 +01:00 [DBG] Hosting starting
2023-08-13 15:31:05.053 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 15:31:05.060 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 15:31:05.061 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 15:31:05.069 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 15:31:05.073 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 15:31:05.073 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 15:31:05.084 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 15:31:05.086 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:31:05.086 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 15:31:05.087 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:31:05.089 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 15:31:05.091 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 15:31:05.095 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 15:31:05.096 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 15:31:05.300 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 15:31:05.351 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 15:31:05.351 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 15:31:05.351 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 15:31:05.351 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 15:31:05.351 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 15:31:05.357 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 15:31:05.358 +01:00 [INF] Hosting environment: Development
2023-08-13 15:31:05.358 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 15:31:05.358 +01:00 [DBG] Hosting started
2023-08-13 15:31:05.647 +01:00 [DBG] Connection id "0HMSS17MO5HGQ" received FIN.
2023-08-13 15:31:05.647 +01:00 [DBG] Connection id "0HMSS17MO5HGR" received FIN.
2023-08-13 15:31:05.664 +01:00 [DBG] Connection id "0HMSS17MO5HGR" accepted.
2023-08-13 15:31:05.664 +01:00 [DBG] Connection id "0HMSS17MO5HGQ" accepted.
2023-08-13 15:31:05.665 +01:00 [DBG] Connection id "0HMSS17MO5HGQ" started.
2023-08-13 15:31:05.665 +01:00 [DBG] Connection id "0HMSS17MO5HGR" started.
2023-08-13 15:31:05.688 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:31:05.688 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:31:05.739 +01:00 [DBG] Connection id "0HMSS17MO5HGQ" stopped.
2023-08-13 15:31:05.739 +01:00 [DBG] Connection id "0HMSS17MO5HGR" stopped.
2023-08-13 15:31:05.755 +01:00 [DBG] Connection id "0HMSS17MO5HGR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:31:05.755 +01:00 [DBG] Connection id "0HMSS17MO5HGQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:31:06.321 +01:00 [DBG] Connection id "0HMSS17MO5HGS" accepted.
2023-08-13 15:31:06.321 +01:00 [DBG] Connection id "0HMSS17MO5HGS" started.
2023-08-13 15:31:07.264 +01:00 [DBG] Connection 0HMSS17MO5HGS established using the following protocol: "Tls13"
2023-08-13 15:31:07.420 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 15:31:07.508 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 15:31:07.574 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 15:31:07.575 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:31:07.787 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 15:31:08.070 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 15:31:08.081 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 15:31:08.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 15:31:08.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 17.8614ms
2023-08-13 15:31:08.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 679.2130ms
2023-08-13 15:31:08.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 95.1266ms
2023-08-13 15:31:08.472 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 15:31:08.474 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 15:31:08.474 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:31:08.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 455.2895ms
2023-08-13 15:31:10.169 +01:00 [DBG] Connection id "0HMSS17MO5HGS" received FIN.
2023-08-13 15:31:10.170 +01:00 [DBG] Connection id "0HMSS17MO5HGS" is closed. The last processed stream ID was 7.
2023-08-13 15:31:10.170 +01:00 [DBG] Connection id "0HMSS17MO5HGS" sending FIN because: "The client closed the connection."
2023-08-13 15:31:10.174 +01:00 [DBG] Connection id "0HMSS17MO5HGS" stopped.
2023-08-13 15:31:29.744 +01:00 [DBG] Connection id "0HMSS17MO5HGT" accepted.
2023-08-13 15:31:29.744 +01:00 [DBG] Connection id "0HMSS17MO5HGT" started.
2023-08-13 15:31:29.770 +01:00 [DBG] Connection 0HMSS17MO5HGT established using the following protocol: "Tls13"
2023-08-13 15:31:29.773 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/KYC/update-wallet?id=70817a1c-f050-48fd-b20a-19d5de5a5b09 application/json 108
2023-08-13 15:31:29.787 +01:00 [DBG] 1 candidate(s) found for the request path '/api/KYC/update-wallet'
2023-08-13 15:31:29.788 +01:00 [DBG] Endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)' with route pattern 'api/KYC/update-wallet' is valid for the request path '/api/KYC/update-wallet'
2023-08-13 15:31:29.789 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)'
2023-08-13 15:31:29.791 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 15:31:29.811 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 15:31:29.817 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)'
2023-08-13 15:31:29.868 +01:00 [INF] Route matched with {action = "Updatewallet", controller = "KYC"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SavingsApp.Data.Entities.DTOs.Response.APIResponse]] Updatewallet(SavingsApp.Data.Entities.DTOs.Request.WalletUpdate, System.String) on controller Savings_App.Controllers.KYCController (Savings-App).
2023-08-13 15:31:29.870 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 15:31:29.870 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 15:31:29.870 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 15:31:29.870 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 15:31:29.871 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 15:31:29.872 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.KYCController (Savings-App)
2023-08-13 15:31:29.901 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:31:30.378 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.KYCController (Savings-App)
2023-08-13 15:31:30.398 +01:00 [DBG] Attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate' ...
2023-08-13 15:31:30.404 +01:00 [DBG] Attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate' using the name '' in request data ...
2023-08-13 15:31:30.406 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 15:31:30.422 +01:00 [DBG] Connection id "0HMSS17MO5HGT", Request id "0HMSS17MO5HGT:00000001": started reading request body.
2023-08-13 15:31:30.422 +01:00 [DBG] Connection id "0HMSS17MO5HGT", Request id "0HMSS17MO5HGT:00000001": done reading request body.
2023-08-13 15:31:30.444 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'
2023-08-13 15:31:30.444 +01:00 [DBG] Done attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'.
2023-08-13 15:31:30.444 +01:00 [DBG] Done attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'.
2023-08-13 15:31:30.445 +01:00 [DBG] Attempting to validate the bound parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate' ...
2023-08-13 15:31:30.471 +01:00 [DBG] Done attempting to validate the bound parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'.
2023-08-13 15:31:30.476 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2023-08-13 15:31:30.476 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2023-08-13 15:31:30.478 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2023-08-13 15:31:30.478 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2023-08-13 15:31:30.478 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2023-08-13 15:31:30.479 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2023-08-13 15:31:30.527 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(w => w.Id == __id_0)
    .FirstOrDefault()'
2023-08-13 15:31:30.822 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.Id == @__id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:31:30.867 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:31:30.868 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:31:30.876 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:30.877 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:30.896 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."Id" = @__id_0
LIMIT 1
2023-08-13 15:31:30.921 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."Id" = @__id_0
LIMIT 1
2023-08-13 15:31:30.935 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:31:30.935 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:30.935 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:31.187 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:31:31.189 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:31:31.189 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:31:31.211 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:31:31.300 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:31.301 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:31.306 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 15:31:31.319 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 15:31:31.575 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:31:31.575 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:31:31.580 +01:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 15:31:31.597 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 15:31:31.629 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:31:31.660 +01:00 [DBG] Committing transaction.
2023-08-13 15:31:31.675 +01:00 [DBG] Committed transaction.
2023-08-13 15:31:31.694 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:31:31.696 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:31:31.709 +01:00 [DBG] Disposing transaction.
2023-08-13 15:31:31.741 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:31:31.741 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 15:31:31.745 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:31:31.745 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:31:31.752 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:31:31.757 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:31:31.777 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-08-13 15:31:31.793 +01:00 [INF] Executed action Savings_App.Controllers.KYCController.Updatewallet (Savings-App) in 1906.9908ms
2023-08-13 15:31:31.795 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)'
2023-08-13 15:31:31.808 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:31:31.821 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/KYC/update-wallet?id=70817a1c-f050-48fd-b20a-19d5de5a5b09 application/json 108 - 200 0 - 2048.0649ms
2023-08-13 15:32:01.934 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/KYC/update-wallet?id=70817a1c-f050-48fd-b20a-19d5de5a5b09 application/json 109
2023-08-13 15:32:01.945 +01:00 [DBG] 1 candidate(s) found for the request path '/api/KYC/update-wallet'
2023-08-13 15:32:01.945 +01:00 [DBG] Endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)' with route pattern 'api/KYC/update-wallet' is valid for the request path '/api/KYC/update-wallet'
2023-08-13 15:32:01.946 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)'
2023-08-13 15:32:01.946 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 15:32:01.959 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 15:32:01.970 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)'
2023-08-13 15:32:01.975 +01:00 [INF] Route matched with {action = "Updatewallet", controller = "KYC"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SavingsApp.Data.Entities.DTOs.Response.APIResponse]] Updatewallet(SavingsApp.Data.Entities.DTOs.Request.WalletUpdate, System.String) on controller Savings_App.Controllers.KYCController (Savings-App).
2023-08-13 15:32:01.975 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 15:32:01.975 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 15:32:01.975 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 15:32:01.975 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 15:32:01.975 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 15:32:01.975 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.KYCController (Savings-App)
2023-08-13 15:32:02.092 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:32:02.107 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.KYCController (Savings-App)
2023-08-13 15:32:02.108 +01:00 [DBG] Attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate' ...
2023-08-13 15:32:02.108 +01:00 [DBG] Attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate' using the name '' in request data ...
2023-08-13 15:32:02.109 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 15:32:02.109 +01:00 [DBG] Connection id "0HMSS17MO5HGT", Request id "0HMSS17MO5HGT:00000003": started reading request body.
2023-08-13 15:32:02.109 +01:00 [DBG] Connection id "0HMSS17MO5HGT", Request id "0HMSS17MO5HGT:00000003": done reading request body.
2023-08-13 15:32:02.109 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'
2023-08-13 15:32:02.109 +01:00 [DBG] Done attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'.
2023-08-13 15:32:02.109 +01:00 [DBG] Done attempting to bind parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'.
2023-08-13 15:32:02.109 +01:00 [DBG] Attempting to validate the bound parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate' ...
2023-08-13 15:32:02.110 +01:00 [DBG] Done attempting to validate the bound parameter 'walletUpdate' of type 'SavingsApp.Data.Entities.DTOs.Request.WalletUpdate'.
2023-08-13 15:32:02.110 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2023-08-13 15:32:02.110 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2023-08-13 15:32:02.110 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2023-08-13 15:32:02.110 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2023-08-13 15:32:02.110 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2023-08-13 15:32:02.111 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2023-08-13 15:32:02.120 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:32:02.120 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:32:02.120 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:32:02.121 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:32:02.121 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."Id" = @__id_0
LIMIT 1
2023-08-13 15:32:02.121 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."Id" = @__id_0
LIMIT 1
2023-08-13 15:32:02.121 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:32:02.121 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:32:02.121 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:32:02.122 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:32:02.122 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:32:02.122 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:32:02.122 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:32:02.122 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:32:02.122 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:32:02.122 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 15:32:02.122 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 15:32:02.123 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:32:02.123 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:32:02.123 +01:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 15:32:02.123 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (Size = 36), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Wallets" SET "Balance" = @p0, "CreatedAt" = @p1, "ModifiedAt" = @p2, "WalletId" = @p3, "userId" = @p4
WHERE "Id" = @p5;
SELECT changes();
2023-08-13 15:32:02.123 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:32:02.123 +01:00 [DBG] Committing transaction.
2023-08-13 15:32:02.133 +01:00 [DBG] Committed transaction.
2023-08-13 15:32:02.134 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:32:02.134 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:32:02.138 +01:00 [DBG] Disposing transaction.
2023-08-13 15:32:02.139 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:32:02.139 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 15:32:02.139 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:32:02.139 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:32:02.139 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:32:02.139 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:32:02.139 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-08-13 15:32:02.140 +01:00 [INF] Executed action Savings_App.Controllers.KYCController.Updatewallet (Savings-App) in 164.0814ms
2023-08-13 15:32:02.140 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.KYCController.Updatewallet (Savings-App)'
2023-08-13 15:32:02.140 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:32:02.140 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/KYC/update-wallet?id=70817a1c-f050-48fd-b20a-19d5de5a5b09 application/json 109 - 200 0 - 206.1756ms
2023-08-13 15:32:09.033 +01:00 [DBG] Connection id "0HMSS17MO5HGT" received FIN.
2023-08-13 15:32:09.033 +01:00 [DBG] Connection id "0HMSS17MO5HGT" is closed. The last processed stream ID was 3.
2023-08-13 15:32:09.033 +01:00 [DBG] Connection id "0HMSS17MO5HGT" sending FIN because: "The client closed the connection."
2023-08-13 15:32:09.044 +01:00 [DBG] Connection id "0HMSS17MO5HGT" stopped.
2023-08-13 15:51:57.496 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 15:51:57.695 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 15:51:58.589 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 15:51:58.589 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 15:51:58.955 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:51:59.039 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:51:59.055 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:51:59.067 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 15:51:59.085 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-08-13 15:51:59.086 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:51:59.090 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:51:59.101 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:51:59.123 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:51:59.128 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:51:59.133 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:51:59.174 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 15:51:59.506 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 15:51:59.548 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:51:59.549 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:51:59.549 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:51:59.549 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:51:59.550 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:51:59.552 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:51:59.558 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:51:59.559 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:51:59.559 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:51:59.567 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:51:59.569 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:51:59.575 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:51:59.580 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:51:59.583 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:51:59.627 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 15:51:59.673 +01:00 [DBG] Hosting starting
2023-08-13 15:51:59.681 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 15:51:59.691 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 15:51:59.692 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 15:51:59.698 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 15:51:59.704 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 15:51:59.705 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 15:51:59.716 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 15:51:59.719 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:51:59.719 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 15:51:59.721 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:51:59.722 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 15:51:59.724 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 15:51:59.728 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 15:51:59.729 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 15:51:59.884 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 15:51:59.934 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 15:51:59.935 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 15:51:59.938 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 15:51:59.938 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 15:51:59.938 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 15:51:59.938 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 15:51:59.951 +01:00 [INF] Hosting environment: Development
2023-08-13 15:51:59.956 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 15:51:59.963 +01:00 [DBG] Hosting started
2023-08-13 15:52:00.010 +01:00 [DBG] Connection id "0HMSS1JCIIGEC" received FIN.
2023-08-13 15:52:00.012 +01:00 [DBG] Connection id "0HMSS1JCIIGEB" accepted.
2023-08-13 15:52:00.013 +01:00 [DBG] Connection id "0HMSS1JCIIGEC" accepted.
2023-08-13 15:52:00.018 +01:00 [DBG] Connection id "0HMSS1JCIIGEB" received FIN.
2023-08-13 15:52:00.037 +01:00 [DBG] Connection id "0HMSS1JCIIGEB" started.
2023-08-13 15:52:00.041 +01:00 [DBG] Connection id "0HMSS1JCIIGEC" started.
2023-08-13 15:52:00.068 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:52:00.068 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:52:00.121 +01:00 [DBG] Connection id "0HMSS1JCIIGEB" stopped.
2023-08-13 15:52:00.121 +01:00 [DBG] Connection id "0HMSS1JCIIGEC" stopped.
2023-08-13 15:52:00.125 +01:00 [DBG] Connection id "0HMSS1JCIIGEC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:52:00.125 +01:00 [DBG] Connection id "0HMSS1JCIIGEB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:52:00.775 +01:00 [DBG] Connection id "0HMSS1JCIIGED" accepted.
2023-08-13 15:52:00.779 +01:00 [DBG] Connection id "0HMSS1JCIIGED" started.
2023-08-13 15:52:01.450 +01:00 [DBG] Connection 0HMSS1JCIIGED established using the following protocol: "Tls13"
2023-08-13 15:52:01.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 15:52:01.724 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 15:52:01.815 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 15:52:01.816 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:52:02.051 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 15:52:02.354 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 15:52:02.366 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 15:52:02.379 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 15:52:02.389 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 28.7804ms
2023-08-13 15:52:02.389 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 763.8838ms
2023-08-13 15:52:02.450 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.7423ms
2023-08-13 15:52:02.758 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 15:52:02.760 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 15:52:02.760 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:52:03.211 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 452.8058ms
2023-08-13 15:52:04.060 +01:00 [DBG] Connection id "0HMSS1JCIIGED" received FIN.
2023-08-13 15:52:04.060 +01:00 [DBG] Connection id "0HMSS1JCIIGED" is closed. The last processed stream ID was 7.
2023-08-13 15:52:04.061 +01:00 [DBG] Connection id "0HMSS1JCIIGED" sending FIN because: "The client closed the connection."
2023-08-13 15:52:04.064 +01:00 [DBG] Connection id "0HMSS1JCIIGED" stopped.
2023-08-13 15:52:46.827 +01:00 [DBG] Connection id "0HMSS1JCIIGEE" accepted.
2023-08-13 15:52:46.842 +01:00 [DBG] Connection id "0HMSS1JCIIGEE" started.
2023-08-13 15:52:46.876 +01:00 [DBG] Connection 0HMSS1JCIIGEE established using the following protocol: "Tls13"
2023-08-13 15:52:46.907 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 15:52:46.976 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 15:52:46.978 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 15:52:46.979 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:52:46.982 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 15:52:47.009 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 15:52:47.014 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:52:47.066 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 15:52:47.067 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 15:52:47.067 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 15:52:47.068 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 15:52:47.068 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 15:52:47.068 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 15:52:47.069 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 15:52:47.074 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:52:47.475 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 15:52:47.488 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 15:52:47.494 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 15:52:47.495 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 15:52:47.509 +01:00 [DBG] Connection id "0HMSS1JCIIGEE", Request id "0HMSS1JCIIGEE:00000001": started reading request body.
2023-08-13 15:52:47.511 +01:00 [DBG] Connection id "0HMSS1JCIIGEE", Request id "0HMSS1JCIIGEE:00000001": done reading request body.
2023-08-13 15:52:47.530 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 15:52:47.531 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:52:47.531 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:52:47.532 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 15:52:47.556 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:52:47.612 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 15:52:47.870 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:52:47.913 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:52:47.913 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:52:47.918 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:47.918 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:47.928 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 15:52:47.939 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 15:52:47.951 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:52:47.952 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:47.952 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:47.953 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 15:52:47.961 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:52:47.961 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:52:47.961 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:52:47.961 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:47.961 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:47.961 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 15:52:47.962 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 15:52:47.962 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:52:47.962 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:47.962 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:47.967 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 15:52:47.992 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:52:47.994 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:52:47.994 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:52:47.994 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:47.994 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:47.994 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:52:47.995 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:52:47.995 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:52:47.995 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:47.995 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:48.004 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:52:48.004 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:52:48.004 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:48.004 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:48.004 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:52:48.005 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:52:48.005 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:52:48.005 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:48.005 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:48.084 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:52:48.270 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:52:48.304 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:52:48.305 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:52:48.310 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:52:48.311 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:52:48.354 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:52:48.377 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:48.377 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:48.384 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 15:52:48.399 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 15:52:48.529 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:52:48.529 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:52:48.536 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:52:48.550 +01:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:52:48.566 +01:00 [DBG] Disposing transaction.
2023-08-13 15:52:48.569 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:52:48.569 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:52:48.579 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 15:52:48.770 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 15:52:48.776 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 15:52:48.776 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 15:52:48.776 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 15:52:48.777 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 15:52:48.778 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 15:52:48.801 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 1719.3991ms
2023-08-13 15:52:48.802 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:52:48.812 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:52:48.819 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 200 - application/json;+charset=utf-8 1912.0151ms
2023-08-13 15:53:14.596 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 15:53:14.610 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 15:53:14.610 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 15:53:14.610 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:53:14.611 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 15:53:14.612 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 15:53:14.612 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:53:14.612 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 15:53:14.612 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 15:53:14.612 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 15:53:14.612 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 15:53:14.613 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 15:53:14.613 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 15:53:14.613 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 15:53:14.732 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:53:14.732 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 15:53:14.733 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 15:53:14.735 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 15:53:14.735 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 15:53:14.735 +01:00 [DBG] Connection id "0HMSS1JCIIGEE", Request id "0HMSS1JCIIGEE:00000003": started reading request body.
2023-08-13 15:53:14.740 +01:00 [DBG] Connection id "0HMSS1JCIIGEE", Request id "0HMSS1JCIIGEE:00000003": done reading request body.
2023-08-13 15:53:14.743 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 15:53:14.743 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:53:14.743 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:53:14.743 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 15:53:14.810 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:53:14.815 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:53:14.815 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:53:14.815 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:14.815 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:14.815 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 15:53:14.816 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 15:53:14.816 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:53:14.816 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:14.816 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:14.816 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:53:14.816 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:53:14.816 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:14.816 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:14.816 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 15:53:14.817 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 15:53:14.817 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:53:14.817 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:14.817 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:14.817 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:53:14.817 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:53:14.818 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:14.818 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:14.818 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:53:14.818 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:53:14.818 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:53:14.818 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:14.818 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:19.122 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:53:19.122 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:53:19.122 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:19.122 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:19.122 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:53:19.123 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:53:19.123 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:53:19.123 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:53:19.123 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:53:22.288 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:53:22.289 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:53:59.955 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:53:59.957 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:54:08.525 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:54:08.525 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:54:08.525 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:54:08.526 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:54:08.526 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:54:08.526 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 15:54:08.526 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 15:54:08.527 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:54:08.527 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:54:08.527 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:54:08.528 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 28), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:54:08.530 +01:00 [DBG] Disposing transaction.
2023-08-13 15:54:08.530 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:54:08.530 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:54:08.531 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 15:54:14.048 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 15:54:14.049 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 15:54:14.049 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 15:54:14.049 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 15:54:14.049 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 15:54:14.049 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 15:54:14.050 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 59436.8296ms
2023-08-13 15:54:14.050 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:54:14.050 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:54:14.050 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 200 - application/json;+charset=utf-8 59454.4539ms
2023-08-13 15:56:37.139 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 15:56:37.267 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 15:56:38.016 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 15:56:38.016 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 15:56:38.413 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:56:38.507 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:56:38.525 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:56:38.538 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 15:56:38.549 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-08-13 15:56:38.550 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:56:38.554 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:56:38.570 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:56:38.593 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 15:56:38.598 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:56:38.603 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:56:38.649 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 15:56:38.945 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 15:56:38.980 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:56:38.981 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:56:38.981 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:56:38.981 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:56:38.983 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:56:38.985 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 15:56:38.994 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:56:38.994 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:56:38.994 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:56:39.003 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:56:39.006 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:56:39.012 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:56:39.017 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 15:56:39.019 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 15:56:39.053 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 15:56:39.085 +01:00 [DBG] Hosting starting
2023-08-13 15:56:39.088 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 15:56:39.094 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 15:56:39.094 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 15:56:39.099 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 15:56:39.102 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 15:56:39.102 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 15:56:39.110 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 15:56:39.112 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:56:39.112 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 15:56:39.113 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 15:56:39.114 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 15:56:39.115 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 15:56:39.118 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 15:56:39.118 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 15:56:39.263 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 15:56:39.299 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 15:56:39.299 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 15:56:39.299 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 15:56:39.299 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 15:56:39.299 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 15:56:39.300 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 15:56:39.300 +01:00 [INF] Hosting environment: Development
2023-08-13 15:56:39.300 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 15:56:39.300 +01:00 [DBG] Hosting started
2023-08-13 15:56:39.506 +01:00 [DBG] Connection id "0HMSS1LVS58J2" accepted.
2023-08-13 15:56:39.506 +01:00 [DBG] Connection id "0HMSS1LVS58J3" accepted.
2023-08-13 15:56:39.507 +01:00 [DBG] Connection id "0HMSS1LVS58J2" started.
2023-08-13 15:56:39.507 +01:00 [DBG] Connection id "0HMSS1LVS58J3" started.
2023-08-13 15:56:39.543 +01:00 [DBG] Connection id "0HMSS1LVS58J3" received FIN.
2023-08-13 15:56:39.543 +01:00 [DBG] Connection id "0HMSS1LVS58J2" received FIN.
2023-08-13 15:56:39.568 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:56:39.568 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 15:56:39.620 +01:00 [DBG] Connection id "0HMSS1LVS58J3" stopped.
2023-08-13 15:56:39.620 +01:00 [DBG] Connection id "0HMSS1LVS58J2" stopped.
2023-08-13 15:56:39.624 +01:00 [DBG] Connection id "0HMSS1LVS58J2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:56:39.624 +01:00 [DBG] Connection id "0HMSS1LVS58J3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 15:56:40.296 +01:00 [DBG] Connection id "0HMSS1LVS58J4" accepted.
2023-08-13 15:56:40.302 +01:00 [DBG] Connection id "0HMSS1LVS58J4" started.
2023-08-13 15:56:40.599 +01:00 [DBG] Connection 0HMSS1LVS58J4 established using the following protocol: "Tls13"
2023-08-13 15:56:41.112 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 15:56:41.199 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 15:56:41.274 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 15:56:41.275 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:56:41.541 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 15:56:41.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 15:56:41.837 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 15:56:41.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 15.9508ms
2023-08-13 15:56:41.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 747.3313ms
2023-08-13 15:56:41.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 15:56:41.954 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 92.2185ms
2023-08-13 15:56:42.232 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 15:56:42.234 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 15:56:42.234 +01:00 [DBG] Request did not match any endpoints
2023-08-13 15:56:42.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 554.6651ms
2023-08-13 15:56:43.222 +01:00 [DBG] Connection id "0HMSS1LVS58J4" received FIN.
2023-08-13 15:56:43.223 +01:00 [DBG] Connection id "0HMSS1LVS58J4" is closed. The last processed stream ID was 7.
2023-08-13 15:56:43.224 +01:00 [DBG] Connection id "0HMSS1LVS58J4" sending FIN because: "The client closed the connection."
2023-08-13 15:56:43.228 +01:00 [DBG] Connection id "0HMSS1LVS58J4" stopped.
2023-08-13 15:57:17.526 +01:00 [DBG] Connection id "0HMSS1LVS58J5" accepted.
2023-08-13 15:57:17.536 +01:00 [DBG] Connection id "0HMSS1LVS58J5" started.
2023-08-13 15:57:17.602 +01:00 [DBG] Connection 0HMSS1LVS58J5 established using the following protocol: "Tls13"
2023-08-13 15:57:17.608 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 15:57:17.675 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 15:57:17.676 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 15:57:17.677 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:57:17.680 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 15:57:17.699 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 15:57:17.705 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 15:57:17.759 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 15:57:17.762 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 15:57:17.762 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 15:57:17.762 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 15:57:17.763 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 15:57:17.763 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 15:57:17.764 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 15:57:17.770 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 15:57:18.150 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 15:57:18.161 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 15:57:18.165 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 15:57:18.166 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 15:57:18.181 +01:00 [DBG] Connection id "0HMSS1LVS58J5", Request id "0HMSS1LVS58J5:00000001": started reading request body.
2023-08-13 15:57:18.182 +01:00 [DBG] Connection id "0HMSS1LVS58J5", Request id "0HMSS1LVS58J5:00000001": done reading request body.
2023-08-13 15:57:18.198 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 15:57:18.199 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:57:18.199 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:57:18.199 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 15:57:18.218 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 15:57:18.263 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 15:57:18.499 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:57:18.535 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:57:18.535 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:57:18.542 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:18.542 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:18.549 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 15:57:18.565 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 15:57:18.577 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:57:18.577 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:18.577 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:18.578 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 15:57:18.582 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:57:18.582 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:57:18.582 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:57:18.582 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:18.583 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:18.583 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 15:57:18.583 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 15:57:18.583 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:57:18.583 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:18.583 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:18.589 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 15:57:18.609 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 15:57:18.611 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:57:18.611 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:57:18.611 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:18.611 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:18.611 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:57:18.612 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:57:18.612 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:57:18.612 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:18.612 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:47.241 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:57:47.241 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:57:47.241 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:57:47.241 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:47.242 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:57:47.242 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 15:57:47.242 +01:00 [DBG] A data reader was disposed.
2023-08-13 15:57:47.242 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:57:47.242 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:58:01.625 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:58:01.795 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:58:51.903 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:58:51.904 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 15:59:55.644 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 15:59:55.645 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 15:59:55.687 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 15:59:55.706 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 15:59:55.706 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:59:55.716 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 15:59:55.734 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 15:59:55.892 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 15:59:55.892 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 15:59:55.898 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 32), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:59:55.911 +01:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 32), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 15:59:55.924 +01:00 [DBG] Disposing transaction.
2023-08-13 15:59:55.928 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 15:59:55.928 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 15:59:55.938 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 16:00:03.810 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 16:00:03.815 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 16:00:03.815 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 16:00:03.815 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 16:00:03.817 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 16:00:03.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.ResponseDto`1[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-13 16:00:03.864 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 166067.0706ms
2023-08-13 16:00:03.866 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:00:03.873 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:00:03.881 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 200 - application/json;+charset=utf-8 166273.3255ms
2023-08-13 16:17:20.743 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:17:20.896 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 16:17:21.705 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:17:21.705 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:17:22.083 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:17:22.208 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:17:22.226 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:17:22.240 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:17:22.250 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 16:17:22.253 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:17:22.256 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:17:22.267 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 16:17:22.289 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 16:17:22.292 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:17:22.297 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:17:22.341 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 16:17:22.734 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 16:17:22.772 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:17:22.772 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:17:22.773 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:17:22.773 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:17:22.774 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 16:17:22.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 16:17:22.784 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:17:22.784 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:17:22.784 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:17:22.793 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:17:22.797 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:17:22.802 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:17:22.810 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 16:17:22.813 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:17:22.873 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 16:17:22.936 +01:00 [DBG] Hosting starting
2023-08-13 16:17:22.943 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 16:17:22.953 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 16:17:22.954 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 16:17:22.960 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 16:17:22.966 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 16:17:22.966 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 16:17:22.981 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 16:17:22.983 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 16:17:22.983 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 16:17:22.985 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 16:17:22.985 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 16:17:22.988 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 16:17:22.990 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 16:17:22.991 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 16:17:23.160 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 16:17:23.217 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 16:17:23.217 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 16:17:23.217 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 16:17:23.217 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 16:17:23.217 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 16:17:23.217 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 16:17:23.217 +01:00 [INF] Hosting environment: Development
2023-08-13 16:17:23.218 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 16:17:23.218 +01:00 [DBG] Hosting started
2023-08-13 16:17:23.587 +01:00 [DBG] Connection id "0HMSS21IKJ1JF" accepted.
2023-08-13 16:17:23.590 +01:00 [DBG] Connection id "0HMSS21IKJ1JF" started.
2023-08-13 16:17:23.606 +01:00 [DBG] Connection id "0HMSS21IKJ1JF" received FIN.
2023-08-13 16:17:23.632 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 16:17:23.696 +01:00 [DBG] Connection id "0HMSS21IKJ1JF" stopped.
2023-08-13 16:17:23.702 +01:00 [DBG] Connection id "0HMSS21IKJ1JF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 16:17:24.497 +01:00 [DBG] Connection id "0HMSS21IKJ1JG" accepted.
2023-08-13 16:17:24.505 +01:00 [DBG] Connection id "0HMSS21IKJ1JG" started.
2023-08-13 16:17:25.139 +01:00 [DBG] Connection 0HMSS21IKJ1JG established using the following protocol: "Tls13"
2023-08-13 16:17:25.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 16:17:25.558 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 16:17:25.645 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 16:17:25.649 +01:00 [DBG] Request did not match any endpoints
2023-08-13 16:17:25.875 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 16:17:26.134 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 16:17:26.164 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 16:17:26.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 22.2623ms
2023-08-13 16:17:26.181 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 16:17:26.186 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 844.0418ms
2023-08-13 16:17:26.228 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.3907ms
2023-08-13 16:17:26.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 16:17:26.603 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 16:17:26.603 +01:00 [DBG] Request did not match any endpoints
2023-08-13 16:17:27.050 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 450.6587ms
2023-08-13 16:17:27.549 +01:00 [DBG] Connection id "0HMSS21IKJ1JG" received FIN.
2023-08-13 16:17:27.550 +01:00 [DBG] Connection id "0HMSS21IKJ1JG" is closed. The last processed stream ID was 7.
2023-08-13 16:17:27.550 +01:00 [DBG] Connection id "0HMSS21IKJ1JG" sending FIN because: "The client closed the connection."
2023-08-13 16:17:27.555 +01:00 [DBG] Connection id "0HMSS21IKJ1JG" stopped.
2023-08-13 16:17:59.376 +01:00 [DBG] Connection id "0HMSS21IKJ1JH" accepted.
2023-08-13 16:17:59.389 +01:00 [DBG] Connection id "0HMSS21IKJ1JH" started.
2023-08-13 16:17:59.434 +01:00 [DBG] Connection 0HMSS21IKJ1JH established using the following protocol: "Tls13"
2023-08-13 16:17:59.439 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:17:59.492 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:17:59.493 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:17:59.493 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:17:59.496 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:17:59.519 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:17:59.525 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:17:59.573 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:17:59.574 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:17:59.574 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:17:59.575 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:17:59.575 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:17:59.575 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:17:59.576 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:17:59.584 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:17:59.977 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:17:59.986 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:17:59.991 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:17:59.993 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:18:00.004 +01:00 [DBG] Connection id "0HMSS21IKJ1JH", Request id "0HMSS21IKJ1JH:00000001": started reading request body.
2023-08-13 16:18:00.005 +01:00 [DBG] Connection id "0HMSS21IKJ1JH", Request id "0HMSS21IKJ1JH:00000001": done reading request body.
2023-08-13 16:18:00.026 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:18:00.028 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:18:00.028 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:18:00.028 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:18:00.056 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:18:00.119 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:18:00.392 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:18:00.423 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:00.423 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:00.427 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.427 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.436 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:18:00.448 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:18:00.457 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:00.457 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.457 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.458 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:18:00.462 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:18:00.462 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:00.462 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:00.462 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.462 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.463 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:18:00.464 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:18:00.464 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:00.464 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.465 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.469 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 16:18:00.490 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:18:00.492 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:00.492 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:00.492 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.492 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.492 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:00.493 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:00.493 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:00.493 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.493 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.501 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:00.502 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:00.502 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.502 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.502 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:00.502 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:00.502 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:00.502 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.502 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.589 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:18:00.761 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:18:00.769 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:18:00.769 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:18:00.822 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:18:00.849 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:00.850 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:00.856 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:18:00.871 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:18:01.020 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:01.021 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:01.028 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:18:01.044 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:18:01.059 +01:00 [DBG] Disposing transaction.
2023-08-13 16:18:01.061 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:01.061 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:01.071 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 16:18:01.335 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 1748.7083ms
2023-08-13 16:18:01.339 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:18:01.342 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 310
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:18:01.413 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:18:01.424 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 1984.6324ms
2023-08-13 16:18:34.042 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:18:34.065 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:18:34.067 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:18:34.068 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:18:34.068 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:18:34.070 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:18:34.070 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:18:34.070 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:18:34.070 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:18:34.070 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:18:34.071 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:18:34.071 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:18:34.071 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:18:34.071 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:18:34.187 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:18:34.187 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:18:34.188 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:18:34.192 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:18:34.192 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:18:34.201 +01:00 [DBG] Connection id "0HMSS21IKJ1JH", Request id "0HMSS21IKJ1JH:00000003": started reading request body.
2023-08-13 16:18:34.201 +01:00 [DBG] Connection id "0HMSS21IKJ1JH", Request id "0HMSS21IKJ1JH:00000003": done reading request body.
2023-08-13 16:18:34.201 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:18:34.201 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:18:34.201 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:18:34.207 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:18:34.210 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:18:34.222 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:34.222 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:34.222 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.223 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.223 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:18:34.223 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:18:34.223 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:34.223 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.223 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.224 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:34.224 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:34.224 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.224 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.224 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:18:34.224 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:18:34.224 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:34.225 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.225 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.225 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:34.225 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:34.225 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.225 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.225 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:34.226 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:34.226 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:34.226 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.226 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.226 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:34.227 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:34.227 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:34.227 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.227 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:34.227 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:18:34.228 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:18:34.228 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:34.228 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:47.168 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:18:47.169 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:18:51.786 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:18:51.786 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:18:51.786 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:18:51.787 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:51.787 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:51.787 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:18:51.787 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:18:51.788 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:18:51.788 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:18:51.788 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:18:51.789 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:18:51.791 +01:00 [DBG] Disposing transaction.
2023-08-13 16:18:51.791 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:18:51.791 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:18:51.792 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-13 16:19:02.501 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 28430.1237ms
2023-08-13 16:19:02.508 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:19:02.524 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SavingsApp.Data.UnitOfWork.UnitOfWork.Save() in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\UnitOfWork\UnitOfWork.cs:line 39
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 310
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:19:02.527 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:19:02.528 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 28485.8530ms
2023-08-13 16:20:05.777 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:20:05.943 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 16:20:06.817 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:20:06.817 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:20:07.188 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:20:07.285 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:07.303 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:07.315 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:20:07.323 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 16:20:07.325 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:07.328 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:07.340 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 16:20:07.360 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 16:20:07.367 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:07.372 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:07.417 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 16:20:07.707 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 16:20:07.737 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:20:07.737 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:20:07.737 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:07.737 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:07.738 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 16:20:07.739 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 16:20:07.745 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:20:07.745 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:07.745 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:07.754 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:20:07.756 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:20:07.761 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:20:07.767 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 16:20:07.770 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:20:07.802 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 16:20:07.836 +01:00 [DBG] Hosting starting
2023-08-13 16:20:07.839 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 16:20:07.843 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 16:20:07.843 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 16:20:07.848 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 16:20:07.851 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 16:20:07.851 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 16:20:07.860 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 16:20:07.861 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 16:20:07.862 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 16:20:07.863 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 16:20:07.864 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 16:20:07.866 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 16:20:07.868 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 16:20:07.869 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 16:20:08.023 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 16:20:08.067 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 16:20:08.067 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 16:20:08.067 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 16:20:08.067 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 16:20:08.067 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 16:20:08.067 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 16:20:08.067 +01:00 [INF] Hosting environment: Development
2023-08-13 16:20:08.067 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 16:20:08.067 +01:00 [DBG] Hosting started
2023-08-13 16:20:08.491 +01:00 [DBG] Connection id "0HMSS233P9T1O" received FIN.
2023-08-13 16:20:08.501 +01:00 [DBG] Connection id "0HMSS233P9T1O" accepted.
2023-08-13 16:20:08.504 +01:00 [DBG] Connection id "0HMSS233P9T1O" started.
2023-08-13 16:20:08.531 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 16:20:08.580 +01:00 [DBG] Connection id "0HMSS233P9T1O" stopped.
2023-08-13 16:20:08.584 +01:00 [DBG] Connection id "0HMSS233P9T1O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 16:20:09.497 +01:00 [DBG] Connection id "0HMSS233P9T1P" accepted.
2023-08-13 16:20:09.498 +01:00 [DBG] Connection id "0HMSS233P9T1P" started.
2023-08-13 16:20:09.808 +01:00 [DBG] Connection 0HMSS233P9T1P established using the following protocol: "Tls13"
2023-08-13 16:20:10.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 16:20:10.178 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 16:20:10.255 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 16:20:10.256 +01:00 [DBG] Request did not match any endpoints
2023-08-13 16:20:10.472 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 16:20:10.744 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 16:20:10.755 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 16:20:10.759 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 704.8836ms
2023-08-13 16:20:10.759 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 13.2033ms
2023-08-13 16:20:10.794 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 16:20:10.841 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.4320ms
2023-08-13 16:20:11.076 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 16:20:11.077 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 16:20:11.077 +01:00 [DBG] Request did not match any endpoints
2023-08-13 16:20:11.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 477.0181ms
2023-08-13 16:20:12.121 +01:00 [DBG] Connection id "0HMSS233P9T1P" received FIN.
2023-08-13 16:20:12.122 +01:00 [DBG] Connection id "0HMSS233P9T1P" is closed. The last processed stream ID was 7.
2023-08-13 16:20:12.122 +01:00 [DBG] Connection id "0HMSS233P9T1P" sending FIN because: "The client closed the connection."
2023-08-13 16:20:12.126 +01:00 [DBG] Connection id "0HMSS233P9T1P" stopped.
2023-08-13 16:20:45.900 +01:00 [DBG] Connection id "0HMSS233P9T1Q" accepted.
2023-08-13 16:20:45.910 +01:00 [DBG] Connection id "0HMSS233P9T1Q" started.
2023-08-13 16:20:45.961 +01:00 [DBG] Connection 0HMSS233P9T1Q established using the following protocol: "Tls13"
2023-08-13 16:20:45.999 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:20:46.019 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:20:46.020 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:20:46.020 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:20:46.023 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:20:46.041 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:20:46.045 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:20:46.103 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:20:46.105 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:20:46.105 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:20:46.105 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:20:46.106 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:20:46.106 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:20:46.106 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:20:46.127 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:20:46.551 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:20:46.559 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:20:46.562 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:20:46.565 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:20:46.573 +01:00 [DBG] Connection id "0HMSS233P9T1Q", Request id "0HMSS233P9T1Q:00000001": started reading request body.
2023-08-13 16:20:46.575 +01:00 [DBG] Connection id "0HMSS233P9T1Q", Request id "0HMSS233P9T1Q:00000001": done reading request body.
2023-08-13 16:20:46.589 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:20:46.590 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:20:46.590 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:20:46.590 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:20:46.609 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:20:46.672 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:20:46.913 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:20:46.949 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:20:46.949 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:20:46.954 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:46.954 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:46.966 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:20:46.981 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:20:46.990 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:20:46.990 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:46.991 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:46.992 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:20:46.997 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:20:46.998 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:20:46.998 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:20:46.998 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:46.998 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:46.998 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:20:46.999 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:20:46.999 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:20:46.999 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:46.999 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:47.003 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 16:20:47.024 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:20:47.026 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:20:47.026 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:20:47.027 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:47.027 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:47.027 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:20:47.027 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:20:47.027 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:20:47.027 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:47.027 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:47.037 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:20:47.038 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:20:47.038 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:20:47.038 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:47.038 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:20:47.038 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:20:47.039 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:20:47.039 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:20:47.039 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:21:05.600 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:21:05.777 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:21:12.306 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(w => w.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:21:12.309 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:21:12.309 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:21:12.309 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:21:12.310 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:21:12.310 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:21:12.310 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:21:12.310 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:21:12.310 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:21:12.310 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:21:12.310 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:21:57.317 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:21:58.101 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:21:58.101 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:21:58.183 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:21:58.272 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:21:58.275 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:21:58.286 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:21:58.309 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:21:58.544 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:21:58.545 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:21:58.556 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:21:58.580 +01:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:21:58.622 +01:00 [DBG] Disposing transaction.
2023-08-13 16:21:58.640 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:21:58.642 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:21:58.656 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 16:22:15.567 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 89450.3228ms
2023-08-13 16:22:15.574 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:22:15.590 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 319
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:22:15.667 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:22:15.673 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 89673.3788ms
2023-08-13 16:42:26.955 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:42:27.679 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:42:27.680 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:42:27.968 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:42:28.004 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:42:28.004 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:42:28.105 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:42:28.108 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:42:28.108 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:42:28.108 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:42:28.122 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:42:28.122 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:42:28.122 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:42:28.122 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:42:28.203 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:43:10.949 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:43:11.430 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:43:11.431 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:43:11.733 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:43:11.778 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.784 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.797 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.814 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:43:11.822 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-08-13 16:43:11.823 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.826 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.833 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 16:43:11.849 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 16:43:11.850 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.853 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.854 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.854 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.855 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:43:11.855 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 16:43:11.855 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.855 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.855 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 16:43:11.855 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 16:43:11.855 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.855 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.860 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:43:11.860 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:43:11.860 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.860 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.860 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 16:43:11.861 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 16:43:11.863 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:43:11.863 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.863 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.875 +01:00 [INF] Applying migration '20230813154228_wallet'.
2023-08-13 16:43:11.932 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.932 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.933 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:43:11.935 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:43:11.936 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.936 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.937 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 16:43:11.937 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 16:43:11.937 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.937 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.937 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavings" ("Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId")
SELECT "Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId"
FROM "personalSavings";
2023-08-13 16:43:11.937 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_personalSavings" ("Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId")
SELECT "Id", "AutoSave", "AutoSaveAmount", "CategoryId", "CreatedAt", "CurrentAmount", "FrequencyId", "MaxLimit", "ModifiedAt", "SaveName", "SavingsImageUrl", "TargetAmount", "TargetDate", "UserId"
FROM "personalSavings";
2023-08-13 16:43:11.937 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.937 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.937 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 16:43:11.938 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 16:43:11.938 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.938 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.938 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
SELECT "Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt"
FROM "frequencies";
2023-08-13 16:43:11.938 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
SELECT "Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt"
FROM "frequencies";
2023-08-13 16:43:11.938 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.938 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.938 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryDescription" TEXT NOT NULL,
    "CategoryName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 16:43:11.938 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryDescription" TEXT NOT NULL,
    "CategoryName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 16:43:11.938 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.938 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.938 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "ModifiedAt")
SELECT "Id", "CategoryDescription", "CategoryName", "CreatedAt", "ModifiedAt"
FROM "categories";
2023-08-13 16:43:11.938 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "ModifiedAt")
SELECT "Id", "CategoryDescription", "CategoryName", "CreatedAt", "ModifiedAt"
FROM "categories";
2023-08-13 16:43:11.939 +01:00 [DBG] Committing transaction.
2023-08-13 16:43:11.946 +01:00 [DBG] Committed transaction.
2023-08-13 16:43:11.948 +01:00 [DBG] Disposing transaction.
2023-08-13 16:43:11.948 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.948 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.948 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 16:43:11.948 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-08-13 16:43:11.948 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:43:11.948 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:43:11.948 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.948 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.948 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavings";
2023-08-13 16:43:11.948 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "personalSavings";
2023-08-13 16:43:11.948 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.948 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.948 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavings" RENAME TO "personalSavings";
2023-08-13 16:43:11.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_personalSavings" RENAME TO "personalSavings";
2023-08-13 16:43:11.950 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.950 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.950 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "frequencies";
2023-08-13 16:43:11.950 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "frequencies";
2023-08-13 16:43:11.950 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.950 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.950 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_frequencies" RENAME TO "frequencies";
2023-08-13 16:43:11.951 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_frequencies" RENAME TO "frequencies";
2023-08-13 16:43:11.951 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.951 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.951 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "categories";
2023-08-13 16:43:11.951 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "categories";
2023-08-13 16:43:11.951 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.951 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.951 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_categories" RENAME TO "categories";
2023-08-13 16:43:11.952 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_categories" RENAME TO "categories";
2023-08-13 16:43:11.952 +01:00 [DBG] Committing transaction.
2023-08-13 16:43:11.954 +01:00 [DBG] Committed transaction.
2023-08-13 16:43:11.954 +01:00 [DBG] Disposing transaction.
2023-08-13 16:43:11.954 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.954 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.954 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 16:43:11.954 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-08-13 16:43:11.954 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:43:11.954 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:43:11.954 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.954 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.954 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 16:43:11.954 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 16:43:11.955 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.955 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.955 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 16:43:11.955 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 16:43:11.955 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.955 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.955 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 16:43:11.955 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 16:43:11.955 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:43:11.955 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:43:11.955 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813154228_wallet', '6.0.20');
2023-08-13 16:43:11.955 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813154228_wallet', '6.0.20');
2023-08-13 16:43:11.955 +01:00 [DBG] Committing transaction.
2023-08-13 16:43:11.957 +01:00 [DBG] Committed transaction.
2023-08-13 16:43:11.957 +01:00 [DBG] Disposing transaction.
2023-08-13 16:43:11.957 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:11.957 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:11.958 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:43:32.126 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:43:32.272 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 16:43:32.963 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:43:32.964 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:43:33.424 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:43:33.507 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:33.527 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:33.538 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:43:33.546 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-08-13 16:43:33.547 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:33.550 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:33.558 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 16:43:33.583 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 16:43:33.588 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:33.592 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:33.643 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 16:43:33.939 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 16:43:33.972 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:43:33.972 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:43:33.972 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:33.972 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:33.973 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 16:43:33.974 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 16:43:33.979 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:43:33.979 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:43:33.979 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:43:33.986 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:43:33.990 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:43:33.995 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:43:34.000 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 0 entities written to the database.
2023-08-13 16:43:34.002 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:43:34.033 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 16:43:34.076 +01:00 [DBG] Hosting starting
2023-08-13 16:43:34.079 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 16:43:34.083 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 16:43:34.084 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 16:43:34.088 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 16:43:34.090 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 16:43:34.090 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 16:43:34.097 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 16:43:34.099 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 16:43:34.099 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 16:43:34.100 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 16:43:34.101 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 16:43:34.102 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 16:43:34.104 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 16:43:34.104 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 16:43:34.269 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 16:43:34.335 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 16:43:34.335 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 16:43:34.335 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 16:43:34.335 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 16:43:34.335 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 16:43:34.335 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 16:43:34.335 +01:00 [INF] Hosting environment: Development
2023-08-13 16:43:34.335 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 16:43:34.335 +01:00 [DBG] Hosting started
2023-08-13 16:43:34.709 +01:00 [DBG] Connection id "0HMSS2G6S1EC6" accepted.
2023-08-13 16:43:34.711 +01:00 [DBG] Connection id "0HMSS2G6S1EC6" started.
2023-08-13 16:43:34.712 +01:00 [DBG] Connection id "0HMSS2G6S1EC7" received FIN.
2023-08-13 16:43:34.713 +01:00 [DBG] Connection id "0HMSS2G6S1EC7" accepted.
2023-08-13 16:43:34.713 +01:00 [DBG] Connection id "0HMSS2G6S1EC7" started.
2023-08-13 16:43:34.714 +01:00 [DBG] Connection id "0HMSS2G6S1EC6" received FIN.
2023-08-13 16:43:34.728 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 16:43:34.728 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 16:43:34.772 +01:00 [DBG] Connection id "0HMSS2G6S1EC7" stopped.
2023-08-13 16:43:34.772 +01:00 [DBG] Connection id "0HMSS2G6S1EC6" stopped.
2023-08-13 16:43:34.775 +01:00 [DBG] Connection id "0HMSS2G6S1EC6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 16:43:34.775 +01:00 [DBG] Connection id "0HMSS2G6S1EC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 16:43:35.302 +01:00 [DBG] Connection id "0HMSS2G6S1EC8" accepted.
2023-08-13 16:43:35.305 +01:00 [DBG] Connection id "0HMSS2G6S1EC8" started.
2023-08-13 16:43:35.537 +01:00 [DBG] Connection 0HMSS2G6S1EC8 established using the following protocol: "Tls13"
2023-08-13 16:43:35.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 16:43:35.854 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 16:43:35.898 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 16:43:35.899 +01:00 [DBG] Request did not match any endpoints
2023-08-13 16:43:36.050 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 16:43:36.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 16:43:36.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 16:43:36.218 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 16:43:36.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 10.2192ms
2023-08-13 16:43:36.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 459.0324ms
2023-08-13 16:43:36.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.4466ms
2023-08-13 16:43:36.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 16:43:36.483 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 16:43:36.483 +01:00 [DBG] Request did not match any endpoints
2023-08-13 16:43:36.702 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 220.5069ms
2023-08-13 16:43:39.219 +01:00 [DBG] Connection id "0HMSS2G6S1EC8" received FIN.
2023-08-13 16:43:39.219 +01:00 [DBG] Connection id "0HMSS2G6S1EC8" is closed. The last processed stream ID was 7.
2023-08-13 16:43:39.220 +01:00 [DBG] Connection id "0HMSS2G6S1EC8" sending FIN because: "The client closed the connection."
2023-08-13 16:43:39.223 +01:00 [DBG] Connection id "0HMSS2G6S1EC8" stopped.
2023-08-13 16:44:12.525 +01:00 [DBG] Connection id "0HMSS2G6S1EC9" accepted.
2023-08-13 16:44:12.532 +01:00 [DBG] Connection id "0HMSS2G6S1EC9" started.
2023-08-13 16:44:12.561 +01:00 [DBG] Connection 0HMSS2G6S1EC9 established using the following protocol: "Tls13"
2023-08-13 16:44:12.565 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:44:12.578 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:44:12.578 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:44:12.579 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:44:12.579 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:44:12.586 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:44:12.588 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:44:12.609 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:44:12.610 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:44:12.610 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:44:12.610 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:44:12.610 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:44:12.610 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:44:12.610 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:44:12.619 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:44:12.624 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:44:12.629 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:44:12.631 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:44:12.631 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:44:12.635 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000001": started reading request body.
2023-08-13 16:44:12.635 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000001": done reading request body.
2023-08-13 16:44:12.640 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:44:12.640 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:44:12.641 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:44:12.641 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:44:12.648 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:44:12.667 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:44:12.772 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:44:12.787 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:12.787 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:12.789 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.789 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.794 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:44:12.801 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:44:12.805 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:44:12.805 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.806 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.806 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 16:44:12.809 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:44:12.809 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:12.809 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:12.809 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.809 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.809 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:44:12.810 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:44:12.810 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:44:12.810 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.810 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.812 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 16:44:12.821 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 16:44:12.822 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:12.822 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:12.822 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.822 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.822 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:44:12.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:44:12.822 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:44:12.822 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.822 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.826 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:12.826 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:12.826 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.826 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.826 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:44:12.826 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:44:12.827 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:44:12.827 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:12.827 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:12.863 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:44:12.931 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:44:12.955 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:44:12.955 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:44:12.955 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:44:12.981 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:44:13.007 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:13.008 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:13.011 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:44:13.015 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:44:13.084 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:13.084 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:13.087 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:44:13.097 +01:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:44:13.115 +01:00 [DBG] Disposing transaction.
2023-08-13 16:44:13.122 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:13.122 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:13.128 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 16:44:13.253 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 639.2715ms
2023-08-13 16:44:13.256 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:44:13.258 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 228
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:44:13.288 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:44:13.292 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 727.7635ms
2023-08-13 16:44:35.340 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:44:35.343 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:44:35.343 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:44:35.344 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:44:35.344 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:44:35.344 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:44:35.344 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:44:35.344 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:44:35.344 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:44:35.345 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:44:35.345 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:44:35.345 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:44:35.345 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:44:35.345 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:44:35.396 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:44:35.396 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:44:35.398 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:44:35.402 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:44:35.402 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:44:35.403 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000003": started reading request body.
2023-08-13 16:44:35.403 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000003": done reading request body.
2023-08-13 16:44:35.404 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:44:35.404 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:44:35.404 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:44:35.404 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:44:35.404 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:44:49.334 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:49.334 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:49.334 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:49.334 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:49.334 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:44:49.335 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:44:49.364 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:44:49.364 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:49.364 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:52.352 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:44:52.352 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:44:52.352 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:44:52.352 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:52.352 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:44:52.352 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:44:52.352 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:44:52.353 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:44:52.353 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:45:14.393 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:45:14.393 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:45:14.393 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:45:14.393 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:45:14.393 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:45:14.394 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:45:14.394 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:45:14.394 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:45:14.394 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:45:15.317 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:45:15.317 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:45:15.317 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:45:15.317 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:45:15.317 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:45:15.318 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:45:15.318 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:45:15.318 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:45:15.318 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:46:06.593 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:46:06.596 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:47:11.606 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:47:11.609 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:47:11.609 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:47:11.609 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:47:11.611 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:11.611 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:11.611 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:47:11.615 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:47:11.619 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:47:11.619 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:47:11.619 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:47:11.620 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:47:11.621 +01:00 [DBG] Disposing transaction.
2023-08-13 16:47:11.621 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:11.622 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:11.624 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 16:47:29.143 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 173798.1642ms
2023-08-13 16:47:29.148 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:47:29.157 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 228
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:47:29.162 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:47:29.162 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 173821.4467ms
2023-08-13 16:47:47.891 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:47:47.891 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:47:47.891 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:47:47.891 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:47:47.891 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:47:47.894 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:47:47.894 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:47:47.894 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:47:47.894 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:47:47.894 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:47:47.894 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:47:47.894 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:47:47.894 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:47:47.894 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:47:47.898 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:47:47.898 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:47:47.904 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:47:47.904 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:47:47.904 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:47:47.904 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000005": started reading request body.
2023-08-13 16:47:47.904 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000005": done reading request body.
2023-08-13 16:47:47.904 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:47:47.904 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:47:47.904 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:47:47.904 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:47:47.904 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:47:51.832 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:47:51.832 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:47:51.832 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:51.832 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:51.832 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:47:51.832 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:47:51.832 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:47:51.832 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:51.832 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:52.207 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:47:52.207 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:47:52.207 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:52.208 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:52.208 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:47:52.208 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:47:52.208 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:47:52.208 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:52.208 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:53.482 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:47:53.483 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:47:53.483 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:47:53.483 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:53.483 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:47:53.483 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:47:53.483 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:47:53.483 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:47:53.483 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:11.113 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:11.119 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2023-08-13 16:48:11.119 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:11.119 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:11.119 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:48:11.120 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:48:11.122 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:48:11.122 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:11.122 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:12.493 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:48:12.493 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:48:14.525 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:48:14.525 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:48:14.525 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:48:14.525 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:48:14.525 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:14.525 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:14.525 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:48:14.525 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:48:14.526 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:14.526 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:48:14.526 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:48:14.527 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:48:14.529 +01:00 [DBG] Disposing transaction.
2023-08-13 16:48:14.529 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:14.529 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:14.531 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 16:48:15.226 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 27331.8212ms
2023-08-13 16:48:15.232 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:48:15.240 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 228
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:48:15.243 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:48:15.243 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 27352.7910ms
2023-08-13 16:48:18.044 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:48:18.044 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:48:18.044 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:48:18.044 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:48:18.044 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:48:18.045 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:48:18.045 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:48:18.045 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:48:18.045 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:48:18.045 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:48:18.045 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:48:18.045 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:48:18.045 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:48:18.045 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:48:21.731 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:48:29.131 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:48:29.131 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:48:29.131 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:48:29.131 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:48:29.131 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000007": started reading request body.
2023-08-13 16:48:29.131 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000007": done reading request body.
2023-08-13 16:48:32.203 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:48:32.203 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:48:32.203 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:48:32.203 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:48:34.643 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:48:40.607 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:40.607 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:48:40.607 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:40.607 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:40.607 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:48:40.607 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:48:40.607 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:48:40.607 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:40.607 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:41.223 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:41.223 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:48:41.223 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:41.223 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:41.223 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:48:41.224 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:48:41.224 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:48:41.224 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:41.224 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:42.893 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:42.893 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:48:42.893 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:42.893 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:42.893 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:48:42.893 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:48:42.893 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:48:42.893 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:42.893 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:44.754 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:44.755 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:48:44.755 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:44.755 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:44.755 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:48:44.755 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:48:44.755 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:48:44.755 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:44.755 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:47.478 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:48:47.478 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:48:50.153 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:48:50.153 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:48:50.153 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:48:50.153 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:48:50.154 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:50.154 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:50.154 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:48:50.154 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:48:50.154 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:48:50.154 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:48:50.154 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:48:50.156 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:48:50.158 +01:00 [DBG] Disposing transaction.
2023-08-13 16:48:50.158 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:48:50.158 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:48:50.161 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 16:48:51.035 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 32990.5293ms
2023-08-13 16:48:51.041 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:48:51.050 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 228
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:48:51.054 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:48:51.055 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 33010.4009ms
2023-08-13 16:49:04.359 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:49:04.360 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:49:04.360 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:49:04.360 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:49:04.360 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:49:04.360 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:49:04.360 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:49:04.360 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:49:04.360 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:49:04.360 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:49:04.360 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:49:04.360 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:49:04.360 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:49:04.360 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:49:04.361 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:49:04.361 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:49:04.361 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:49:04.361 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:49:04.361 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:49:04.361 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000009": started reading request body.
2023-08-13 16:49:04.362 +01:00 [DBG] Connection id "0HMSS2G6S1EC9", Request id "0HMSS2G6S1EC9:00000009": done reading request body.
2023-08-13 16:49:04.362 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:49:04.362 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:49:04.362 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:49:04.362 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:49:04.362 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:49:09.021 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:49:09.021 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:49:09.021 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:09.021 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:09.021 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:49:09.021 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 16:49:09.021 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:49:09.021 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:09.021 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:09.839 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:49:09.839 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:49:09.839 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:09.839 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:09.839 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:49:09.839 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 16:49:09.839 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:49:09.839 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:09.839 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:13.864 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:49:13.864 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:49:13.864 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:13.864 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:13.864 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:49:13.864 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:49:13.864 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:49:13.864 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:13.864 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:14.578 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:49:14.578 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:49:14.578 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:14.578 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:14.578 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:49:14.578 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 16:49:14.578 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:49:14.578 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:14.578 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:16.344 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:49:16.344 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:49:20.075 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 16:49:20.075 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 16:49:20.075 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:49:20.075 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:49:20.075 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:20.075 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:20.075 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:49:20.075 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 16:49:20.075 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:49:20.075 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:49:20.075 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:49:20.077 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 16:49:20.078 +01:00 [DBG] Disposing transaction.
2023-08-13 16:49:20.078 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 16:49:20.078 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 16:49:20.081 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 16:49:24.112 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 19751.7218ms
2023-08-13 16:49:24.116 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:49:24.124 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 228
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 16:49:24.127 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:49:24.127 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88 - 500 - text/plain;+charset=utf-8 19767.8146ms
2023-08-13 16:49:25.539 +01:00 [DBG] Connection id "0HMSS2G6S1EC9" received FIN.
2023-08-13 16:49:25.539 +01:00 [DBG] Connection id "0HMSS2G6S1EC9" is closed. The last processed stream ID was 9.
2023-08-13 16:49:25.539 +01:00 [DBG] Connection id "0HMSS2G6S1EC9" sending FIN because: "The client closed the connection."
2023-08-13 16:49:25.542 +01:00 [DBG] Connection id "0HMSS2G6S1EC9" stopped.
2023-08-13 16:49:30.638 +01:00 [DBG] Connection id "0HMSS2G6S1ECA" accepted.
2023-08-13 16:49:30.638 +01:00 [DBG] Connection id "0HMSS2G6S1ECA" started.
2023-08-13 16:49:30.654 +01:00 [DBG] Connection 0HMSS2G6S1ECA established using the following protocol: "Tls13"
2023-08-13 16:49:30.655 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 88
2023-08-13 16:49:30.655 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:49:30.655 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 16:49:30.655 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:49:30.655 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 16:49:30.655 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 16:49:30.655 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 16:49:30.655 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 16:49:30.655 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 16:49:30.655 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 16:49:30.655 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 16:49:30.655 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 16:49:30.655 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 16:49:30.655 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:49:30.657 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:49:30.659 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 16:49:30.664 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:49:30.665 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 16:49:30.665 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 16:49:30.665 +01:00 [DBG] Connection id "0HMSS2G6S1ECA", Request id "0HMSS2G6S1ECA:00000001": started reading request body.
2023-08-13 16:49:30.665 +01:00 [DBG] Connection id "0HMSS2G6S1ECA", Request id "0HMSS2G6S1ECA:00000001": done reading request body.
2023-08-13 16:49:30.666 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 16:49:30.669 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:49:30.669 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:49:30.669 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 16:49:30.669 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 16:50:03.649 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:50:04.117 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:50:04.118 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:50:04.402 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:50:04.444 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:50:37.870 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:50:38.346 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:50:38.347 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:50:38.612 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 16:50:38.651 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:51:42.569 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:51:43.098 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:51:43.099 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:51:43.246 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:51:43.246 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:51:43.246 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:51:43.246 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:51:43.246 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:51:43.246 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:51:43.423 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 16:51:43.500 +01:00 [DBG] Migrating using database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.506 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.886 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.892 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:51:43.897 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-08-13 16:51:43.905 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:51:43.925 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:51:43.927 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.929 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.934 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:51:43.934 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 16:51:43.934 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.935 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.935 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 16:51:43.950 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 16:51:43.950 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.950 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.951 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.951 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.951 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:51:43.951 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:51:43.951 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:51:43.953 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:51:43.953 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.953 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.953 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:51:43.953 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 16:51:43.953 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.953 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.953 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 16:51:43.953 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 16:51:43.954 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.954 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.963 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:51:43.963 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:51:43.963 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.963 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.963 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 16:51:43.976 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 16:51:43.978 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:51:43.978 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.978 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:43.988 +01:00 [INF] Applying migration '20230813132725_init'.
2023-08-13 16:51:44.082 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:44.082 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:44.083 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:51:44.088 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-13 16:51:44.089 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:51:44.089 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:51:44.089 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    [ConcurrencyStamp] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 16:51:44.107 +01:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    [ConcurrencyStamp] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 16:51:44.109 +01:00 [DBG] Disposing transaction.
2023-08-13 16:51:44.110 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:44.110 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:51:44.111 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:52:00.974 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:52:01.443 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:52:01.443 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:52:01.560 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:01.561 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:01.561 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:01.561 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:01.561 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:01.561 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:01.717 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 16:52:01.756 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:52:03.964 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:52:04.432 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:52:04.432 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:52:04.539 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:04.539 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:04.539 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:04.539 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:04.539 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:04.539 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:04.665 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 16:52:04.702 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:04.975 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:04.980 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:04.985 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-08-13 16:52:04.992 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:52:05.012 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:52:05.013 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:05.016 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:05.052 +01:00 [DBG] Opening connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:05.056 +01:00 [DBG] Opened connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:05.057 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:05.057 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:05.057 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Savidb] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-08-13 16:52:05.073 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Savidb] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2023-08-13 16:52:05.073 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:05.073 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:05.073 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [Savidb];
2023-08-13 16:52:05.112 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [Savidb];
2023-08-13 16:52:05.112 +01:00 [DBG] Closing connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:05.112 +01:00 [DBG] Closed connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:05.114 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:52:08.386 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:52:08.902 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:52:08.902 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:52:09.033 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:09.033 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:09.033 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:09.033 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:09.034 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:09.034 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:09.195 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 16:52:09.240 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:52:16.714 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:52:17.158 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:52:17.159 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:52:17.264 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:17.264 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:17.264 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:17.264 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:17.264 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:17.265 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:17.387 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 16:52:17.421 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:17.590 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:17.594 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 16:52:22.003 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 16:52:22.474 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:52:22.474 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:52:22.579 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:22.579 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:22.579 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:22.579 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:22.579 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:22.579 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:22.723 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 16:52:22.761 +01:00 [DBG] Migrating using database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:22.766 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:22.962 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:22.962 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:22.963 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.009 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 16:52:23.009 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 16:52:23.014 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:23.014 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:23.014 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:23.014 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:23.014 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:23.014 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 16:52:23.039 +01:00 [DBG] Opening connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.059 +01:00 [DBG] Opened connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.065 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:23.072 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-08-13 16:52:23.079 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Savidb];
2023-08-13 16:52:23.314 +01:00 [INF] Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Savidb];
2023-08-13 16:52:23.315 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:23.316 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:23.316 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Savidb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-08-13 16:52:23.382 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Savidb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-08-13 16:52:23.383 +01:00 [DBG] Closing connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.386 +01:00 [DBG] Closed connection to database 'master' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.388 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.393 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.394 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:23.394 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:23.394 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:52:23.400 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:52:23.400 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.400 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.453 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 16:52:23.455 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 16:52:23.464 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:23.465 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:23.465 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.465 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.465 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-08-13 16:52:23.483 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-08-13 16:52:23.483 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.483 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.484 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.484 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.484 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:23.484 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:23.484 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:52:23.484 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 16:52:23.484 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.484 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.489 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 16:52:23.489 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 16:52:23.490 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.490 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.490 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 16:52:23.502 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 16:52:23.502 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.503 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.503 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 16:52:23.504 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 16:52:23.504 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.504 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.504 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 16:52:23.514 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 16:52:23.516 +01:00 [DBG] A data reader was disposed.
2023-08-13 16:52:23.516 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.516 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.524 +01:00 [INF] Applying migration '20230813132725_init'.
2023-08-13 16:52:23.579 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.579 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.580 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 16:52:23.585 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-13 16:52:23.585 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 16:52:23.585 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 16:52:23.586 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    [ConcurrencyStamp] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 16:52:23.588 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    [ConcurrencyStamp] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 16:52:23.590 +01:00 [DBG] Disposing transaction.
2023-08-13 16:52:23.590 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.590 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 16:52:23.591 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:00:26.161 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:00:27.018 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:00:27.019 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:00:27.228 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:00:27.228 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:00:27.228 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:00:27.228 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:00:27.228 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:00:27.228 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:00:27.469 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:00:27.552 +01:00 [DBG] Migrating using database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:27.562 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:27.998 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.006 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:00:28.016 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-08-13 17:00:28.027 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:00:28.062 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:00:28.065 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.071 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.081 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:00:28.081 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:00:28.081 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.082 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.083 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:00:28.108 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:00:28.108 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.109 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.111 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.111 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.111 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:00:28.111 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:00:28.111 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:00:28.113 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:00:28.113 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.113 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.113 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:00:28.113 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:00:28.113 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.113 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.113 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:00:28.114 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:00:28.114 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.114 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.128 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:00:28.128 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:00:28.128 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.128 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.128 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 17:00:28.141 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 17:00:28.142 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:00:28.143 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.143 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.159 +01:00 [INF] Applying migration '20230813132725_init'.
2023-08-13 17:00:28.303 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.303 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.304 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:00:28.312 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-13 17:00:28.313 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:00:28.313 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:00:28.314 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    [ConcurrencyStamp] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 17:00:28.318 +01:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] TEXT NOT NULL,
    [Name] TEXT NULL,
    [NormalizedName] TEXT NULL,
    [ConcurrencyStamp] TEXT NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 17:00:28.321 +01:00 [DBG] Disposing transaction.
2023-08-13 17:00:28.321 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.321 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:00:28.322 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:01:12.038 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:01:12.873 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:01:12.874 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:01:13.101 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.101 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.101 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.101 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.101 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.101 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.350 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:01:13.405 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:01:13.405 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:01:13.415 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.415 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.415 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.415 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.415 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.415 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:13.641 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:01:13.646 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:01:13.845 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:01:21.445 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:01:22.151 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:01:22.153 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:01:22.405 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:22.405 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:22.405 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:22.405 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:22.405 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:22.405 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:22.673 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:01:22.732 +01:00 [DBG] Migrating using database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:22.740 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.064 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.072 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.079 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-08-13 17:01:23.089 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:01:23.117 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:01:23.120 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.123 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.131 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:01:23.131 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:01:23.131 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.132 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.132 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:01:23.156 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:01:23.156 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.157 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.158 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.158 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.158 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.158 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.158 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:01:23.160 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:01:23.160 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.160 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.160 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:01:23.160 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:01:23.160 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.160 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.160 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:01:23.161 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-08-13 17:01:23.161 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.161 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.173 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:01:23.173 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:01:23.173 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.173 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.173 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 17:01:23.184 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-08-13 17:01:23.185 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:01:23.185 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.185 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.198 +01:00 [INF] Applying migration '20230813160113_init'.
2023-08-13 17:01:23.295 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.295 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.296 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:01:23.303 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-08-13 17:01:23.304 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.304 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.304 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.315 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.316 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.316 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.316 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [ImageUrl] nvarchar(max) NULL,
    [IsKycComplete] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [ImageUrl] nvarchar(max) NULL,
    [IsKycComplete] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.318 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.318 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.318 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [categories] (
    [Id] nvarchar(450) NOT NULL,
    [CategoryName] nvarchar(max) NOT NULL,
    [CategoryDescription] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_categories] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.321 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [categories] (
    [Id] nvarchar(450) NOT NULL,
    [CategoryName] nvarchar(max) NOT NULL,
    [CategoryDescription] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_categories] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.321 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.321 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.321 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [frequencies] (
    [Id] nvarchar(450) NOT NULL,
    [FrequencyId] nvarchar(max) NOT NULL,
    [FrequencyName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_frequencies] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.324 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [frequencies] (
    [Id] nvarchar(450) NOT NULL,
    [FrequencyId] nvarchar(max) NOT NULL,
    [FrequencyName] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_frequencies] PRIMARY KEY ([Id])
);
2023-08-13 17:01:23.325 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.325 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.325 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.329 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.329 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.329 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.329 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.331 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.331 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.331 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.336 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.336 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.336 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.336 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.339 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.339 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.339 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.339 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.342 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.342 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.342 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.342 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [kYCs] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [DateOfBirth] datetime2 NOT NULL,
    [Gender] int NOT NULL,
    [Occupation] int NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    [BVN] nvarchar(max) NOT NULL,
    [IdentityType] int NOT NULL,
    [DocumentImageUrl] nvarchar(max) NULL,
    [ProofOfAddress] nvarchar(max) NULL,
    CONSTRAINT [PK_kYCs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_kYCs_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.344 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [kYCs] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [DateOfBirth] datetime2 NOT NULL,
    [Gender] int NOT NULL,
    [Occupation] int NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    [BVN] nvarchar(max) NOT NULL,
    [IdentityType] int NOT NULL,
    [DocumentImageUrl] nvarchar(max) NULL,
    [ProofOfAddress] nvarchar(max) NULL,
    CONSTRAINT [PK_kYCs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_kYCs_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.345 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.345 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.345 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wallets] (
    [Id] nvarchar(450) NOT NULL,
    [WalletId] nvarchar(max) NOT NULL,
    [userId] nvarchar(450) NOT NULL,
    [Balance] float NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Wallets] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Wallets_AspNetUsers_userId] FOREIGN KEY ([userId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.347 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Wallets] (
    [Id] nvarchar(450) NOT NULL,
    [WalletId] nvarchar(max) NOT NULL,
    [userId] nvarchar(450) NOT NULL,
    [Balance] float NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Wallets] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Wallets_AspNetUsers_userId] FOREIGN KEY ([userId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.347 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.347 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [personalSavings] (
    [Id] nvarchar(450) NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [CategoryId] nvarchar(450) NOT NULL,
    [SaveName] nvarchar(max) NOT NULL,
    [TargetAmount] decimal(18,2) NOT NULL,
    [TargetDate] datetime2 NOT NULL,
    [CurrentAmount] decimal(18,2) NOT NULL,
    [AutoSave] bit NOT NULL,
    [AutoSaveAmount] decimal(18,2) NOT NULL,
    [FrequencyId] nvarchar(450) NOT NULL,
    [MaxLimit] decimal(18,2) NOT NULL,
    [SavingsImageUrl] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_personalSavings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_personalSavings_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_personalSavings_categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_personalSavings_frequencies_FrequencyId] FOREIGN KEY ([FrequencyId]) REFERENCES [frequencies] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.351 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [personalSavings] (
    [Id] nvarchar(450) NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    [CategoryId] nvarchar(450) NOT NULL,
    [SaveName] nvarchar(max) NOT NULL,
    [TargetAmount] decimal(18,2) NOT NULL,
    [TargetDate] datetime2 NOT NULL,
    [CurrentAmount] decimal(18,2) NOT NULL,
    [AutoSave] bit NOT NULL,
    [AutoSaveAmount] decimal(18,2) NOT NULL,
    [FrequencyId] nvarchar(450) NOT NULL,
    [MaxLimit] decimal(18,2) NOT NULL,
    [SavingsImageUrl] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_personalSavings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_personalSavings_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_personalSavings_categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_personalSavings_frequencies_FrequencyId] FOREIGN KEY ([FrequencyId]) REFERENCES [frequencies] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.351 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.351 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.351 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [WalletFundings] (
    [Id] nvarchar(450) NOT NULL,
    [walletId] nvarchar(450) NOT NULL,
    [Action] int NOT NULL,
    [Reference] nvarchar(max) NOT NULL,
    [Amount] float NOT NULL,
    [CumulativeAmount] float NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_WalletFundings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_WalletFundings_Wallets_walletId] FOREIGN KEY ([walletId]) REFERENCES [Wallets] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.354 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [WalletFundings] (
    [Id] nvarchar(450) NOT NULL,
    [walletId] nvarchar(450) NOT NULL,
    [Action] int NOT NULL,
    [Reference] nvarchar(max) NOT NULL,
    [Amount] float NOT NULL,
    [CumulativeAmount] float NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_WalletFundings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_WalletFundings_Wallets_walletId] FOREIGN KEY ([walletId]) REFERENCES [Wallets] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.354 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.354 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.354 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [personalSavingsFundings] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    [ActionType] int NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [CumulativeAmount] decimal(18,2) NOT NULL,
    [personalSavingId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_personalSavingsFundings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_personalSavingsFundings_personalSavings_personalSavingId] FOREIGN KEY ([personalSavingId]) REFERENCES [personalSavings] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.357 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [personalSavingsFundings] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ModifiedAt] datetime2 NOT NULL,
    [ActionType] int NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [CumulativeAmount] decimal(18,2) NOT NULL,
    [personalSavingId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_personalSavingsFundings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_personalSavingsFundings_personalSavings_personalSavingId] FOREIGN KEY ([personalSavingId]) REFERENCES [personalSavings] ([Id]) ON DELETE CASCADE
);
2023-08-13 17:01:23.357 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.358 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.358 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-08-13 17:01:23.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-08-13 17:01:23.359 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.359 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.359 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-08-13 17:01:23.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-08-13 17:01:23.360 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.360 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.360 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-08-13 17:01:23.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-08-13 17:01:23.361 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.361 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.361 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-08-13 17:01:23.362 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-08-13 17:01:23.362 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.362 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.362 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-08-13 17:01:23.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-08-13 17:01:23.363 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.363 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.363 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-08-13 17:01:23.364 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-08-13 17:01:23.364 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.364 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.364 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-08-13 17:01:23.366 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-08-13 17:01:23.366 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.366 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.366 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_kYCs_UserId] ON [kYCs] ([UserId]);
2023-08-13 17:01:23.368 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_kYCs_UserId] ON [kYCs] ([UserId]);
2023-08-13 17:01:23.368 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.368 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.368 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavings_CategoryId] ON [personalSavings] ([CategoryId]);
2023-08-13 17:01:23.370 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavings_CategoryId] ON [personalSavings] ([CategoryId]);
2023-08-13 17:01:23.370 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.370 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.370 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavings_FrequencyId] ON [personalSavings] ([FrequencyId]);
2023-08-13 17:01:23.371 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavings_FrequencyId] ON [personalSavings] ([FrequencyId]);
2023-08-13 17:01:23.371 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.371 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.371 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavings_UserId] ON [personalSavings] ([UserId]);
2023-08-13 17:01:23.374 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavings_UserId] ON [personalSavings] ([UserId]);
2023-08-13 17:01:23.374 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.374 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.374 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavingsFundings_personalSavingId] ON [personalSavingsFundings] ([personalSavingId]);
2023-08-13 17:01:23.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_personalSavingsFundings_personalSavingId] ON [personalSavingsFundings] ([personalSavingId]);
2023-08-13 17:01:23.376 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.376 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.376 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_WalletFundings_walletId] ON [WalletFundings] ([walletId]);
2023-08-13 17:01:23.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_WalletFundings_walletId] ON [WalletFundings] ([walletId]);
2023-08-13 17:01:23.377 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.377 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.377 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wallets_userId] ON [Wallets] ([userId]);
2023-08-13 17:01:23.378 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Wallets_userId] ON [Wallets] ([userId]);
2023-08-13 17:01:23.378 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:01:23.378 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:01:23.378 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230813160113_init', N'6.0.20');
2023-08-13 17:01:23.383 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230813160113_init', N'6.0.20');
2023-08-13 17:01:23.385 +01:00 [DBG] Committing transaction.
2023-08-13 17:01:23.388 +01:00 [DBG] Committed transaction.
2023-08-13 17:01:23.389 +01:00 [DBG] Disposing transaction.
2023-08-13 17:01:23.389 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.389 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:23.390 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:01:36.796 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:01:37.066 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:01:38.185 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:01:38.185 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:01:38.383 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:38.383 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:38.383 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:38.383 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:38.383 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:38.383 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:01:38.649 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:01:38.749 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:01:38.808 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:01:38.822 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:02:04.760 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:02:04.965 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:02:06.770 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:02:06.770 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:02:07.075 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:07.075 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:07.075 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:07.075 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:07.075 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:07.075 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:07.458 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:02:07.578 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:02:07.640 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:02:07.662 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:02:37.782 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 17:02:44.418 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:02:44.706 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:02:45.938 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:02:45.938 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:02:46.113 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:46.114 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:46.114 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:46.114 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:46.114 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:46.114 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:02:46.340 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:02:46.433 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:02:46.479 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:02:46.501 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:19.421 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:03:19.648 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:03:20.786 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:03:20.787 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:03:20.953 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:03:20.953 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:03:20.953 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:03:20.953 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:03:20.953 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:03:20.953 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:03:21.180 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:03:21.256 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 17:03:21.540 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 17:03:21.603 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:03:21.674 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2023-08-13 17:03:21.681 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:22.105 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:22.116 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [frequencies] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-13 17:03:22.173 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [frequencies] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-13 17:03:22.197 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:03:22.202 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:22.212 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:22.388 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-08-13 17:03:22.481 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 17:03:22.519 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:03:22.519 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:03:22.531 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:22.537 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:03:22.544 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-13 17:03:22.621 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-13 17:03:22.623 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:03:22.671 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SavingsApp.Data.Context.SaviContext'.
System.InvalidOperationException: Invalid attempt to call ReadAsync when reader is closed.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid attempt to call ReadAsync when reader is closed.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-13 17:03:22.678 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:03:22.688 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 17:05:05.806 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:05:06.027 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:05:07.620 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:05:07.620 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:05:07.834 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:07.834 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:07.834 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:07.834 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:07.834 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:07.834 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:08.104 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:05:08.210 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 17:05:08.545 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 17:05:08.613 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:05:08.682 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2023-08-13 17:05:08.692 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:09.061 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:09.073 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [frequencies] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-13 17:05:09.120 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [frequencies] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-13 17:05:09.148 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:05:09.153 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:09.166 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:09.354 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-08-13 17:05:09.448 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 17:05:09.484 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:05:09.485 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:05:09.497 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:09.503 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:09.510 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-13 17:05:09.578 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-13 17:05:09.585 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:05:09.627 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SavingsApp.Data.Context.SaviContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-08-13 17:05:09.634 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:05:09.643 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 17:05:51.991 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:05:52.329 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:05:53.525 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:05:53.525 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:05:53.736 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:53.736 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:53.736 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:53.736 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:53.736 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:53.736 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:05:54.022 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:05:54.140 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:05:54.186 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:05:54.210 +01:00 [DBG] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:46.607 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:08:46.946 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:08:48.172 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:08:48.173 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:08:48.334 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:08:48.334 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:08:48.334 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:08:48.334 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:08:48.335 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:08:48.335 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:08:48.548 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:08:48.639 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:48.788 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 17:08:49.037 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.054 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:08:49.068 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2023-08-13 17:08:49.081 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:08:49.144 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 17:08:49.165 +01:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:08:49.176 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.187 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.201 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:08:49.201 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:08:49.201 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:08:49.202 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:08:49.202 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.203 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.203 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.205 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-08-13 17:08:49.210 +01:00 [ERR] An error occurred using the connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:08:49.250 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SavingsApp.Data.Context.SaviContext'.
System.InvalidOperationException: The connection was not closed. The connection's current state is open.
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: The connection was not closed. The connection's current state is open.
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-08-13 17:09:42.214 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:09:42.561 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:09:44.094 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:09:44.094 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:09:44.284 +01:00 [WRN] No store type was specified for the decimal property 'AutoSaveAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:09:44.284 +01:00 [WRN] No store type was specified for the decimal property 'CurrentAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:09:44.284 +01:00 [WRN] No store type was specified for the decimal property 'MaxLimit' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:09:44.284 +01:00 [WRN] No store type was specified for the decimal property 'TargetAmount' on entity type 'PersonalSaving'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:09:44.284 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:09:44.284 +01:00 [WRN] No store type was specified for the decimal property 'CumulativeAmount' on entity type 'PersonalSavingsFunding'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-08-13 17:09:44.518 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: None
2023-08-13 17:09:44.611 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:09:44.758 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 17:09:45.009 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:09:45.026 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:09:45.037 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-08-13 17:09:45.051 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:09:45.126 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-08-13 17:09:45.135 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 17:09:45.140 +01:00 [DBG] Closing connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:09:45.152 +01:00 [DBG] Closed connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:09:45.167 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:09:45.167 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:09:45.167 +01:00 [DBG] Opening connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:09:45.169 +01:00 [DBG] Opened connection to database 'Savidb' on server 'DECAGON\SQLEXPRESS'.
2023-08-13 17:09:45.170 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-08-13 17:09:45.204 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:09:45.204 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:09:45.206 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [frequencies] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-13 17:09:45.212 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [frequencies] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-13 17:09:45.249 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SavingsApp.Data.Context.SaviContext'.
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlCommand.ValidateCommand(Boolean isAsync, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlCommand.ValidateCommand(Boolean isAsync, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-08-13 17:10:24.555 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:10:25.310 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:10:25.311 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:10:25.828 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:10:25.893 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 17:10:25.904 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:25.922 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:25.944 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:10:25.956 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-08-13 17:10:25.958 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:25.965 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:25.975 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:10:26.000 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:10:26.003 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.008 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.011 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.011 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.012 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:10:26.012 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:10:26.012 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.012 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.012 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:10:26.012 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:10:26.012 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.012 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.020 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:10:26.020 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:10:26.020 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.021 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.021 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:10:26.022 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:10:26.024 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:10:26.025 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.025 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.038 +01:00 [INF] Applying migration '20230813160113_init'.
2023-08-13 17:10:26.146 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.146 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.147 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:10:26.151 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:10:26.152 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:10:26.152 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:10:26.153 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" nvarchar(450) NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" nvarchar(256) NULL,
    "NormalizedName" nvarchar(256) NULL,
    "ConcurrencyStamp" nvarchar(max) NULL
);
2023-08-13 17:10:26.156 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" nvarchar(450) NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" nvarchar(256) NULL,
    "NormalizedName" nvarchar(256) NULL,
    "ConcurrencyStamp" nvarchar(max) NULL
);
2023-08-13 17:10:26.157 +01:00 [DBG] Disposing transaction.
2023-08-13 17:10:26.158 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:26.158 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:26.159 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:10:43.772 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:10:44.269 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:10:44.270 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:10:44.542 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:10:44.580 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:10:47.063 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:10:47.576 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:10:47.577 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:10:47.860 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:10:47.900 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:47.911 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:47.914 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:47.917 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:47.918 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:10:47.921 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:10:47.933 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:11:02.085 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:11:02.650 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:11:02.651 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:11:02.997 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:11:03.038 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:11:05.493 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:11:06.010 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:11:06.011 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:11:06.272 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:11:06.307 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:06.317 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:06.320 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:06.323 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:06.324 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:06.326 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:06.333 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:11:12.953 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:11:13.448 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:11:13.448 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:11:13.772 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:11:13.825 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 17:11:13.832 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:13.845 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:13.847 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:13.847 +01:00 [DBG] An error occurred using the connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:13.848 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:13.856 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:13.865 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:11:13.874 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-08-13 17:11:13.884 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 17:11:13.915 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-08-13 17:11:13.917 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:13.921 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.017 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:11:14.021 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:11:14.063 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:11:14.063 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:11:14.063 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.063 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.063 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 17:11:14.075 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-08-13 17:11:14.076 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.076 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.077 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.078 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.085 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:11:14.085 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:11:14.085 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.085 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.085 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:11:14.088 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:11:14.088 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.088 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.089 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:11:14.089 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:11:14.089 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.090 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.090 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:11:14.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:11:14.094 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:11:14.094 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.094 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.106 +01:00 [INF] Applying migration '20230813160113_init'.
2023-08-13 17:11:14.166 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.167 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.168 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:11:14.171 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:11:14.172 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:11:14.172 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:11:14.172 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" nvarchar(450) NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" nvarchar(256) NULL,
    "NormalizedName" nvarchar(256) NULL,
    "ConcurrencyStamp" nvarchar(max) NULL
);
2023-08-13 17:11:14.173 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" nvarchar(450) NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" nvarchar(256) NULL,
    "NormalizedName" nvarchar(256) NULL,
    "ConcurrencyStamp" nvarchar(max) NULL
);
2023-08-13 17:11:14.174 +01:00 [DBG] Disposing transaction.
2023-08-13 17:11:14.175 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:11:14.175 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:11:14.176 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:15:56.840 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:15:57.386 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:15:57.386 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:15:57.726 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:15:57.787 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:15:57.787 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:15:57.950 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:15:57.952 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:15:57.953 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:15:57.953 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:15:57.976 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:15:57.976 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:15:57.976 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:15:57.976 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:15:58.068 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:16:14.757 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:16:15.957 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:16:15.958 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:16:16.314 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:16:16.365 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.372 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.384 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.404 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:16:16.414 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-08-13 17:16:16.415 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.418 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.425 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:16.450 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:16.452 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.455 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.457 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.457 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.457 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:16:16.457 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:16:16.457 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.457 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.457 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:16.458 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:16.458 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.458 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.464 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:16:16.464 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:16:16.464 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.464 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.465 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:16:16.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:16:16.466 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:16:16.466 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.467 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.478 +01:00 [INF] Applying migration '20230813160113_init'.
2023-08-13 17:16:16.586 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.586 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.588 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:16:16.590 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:16:16.591 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:16:16.591 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:16:16.592 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" nvarchar(450) NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" nvarchar(256) NULL,
    "NormalizedName" nvarchar(256) NULL,
    "ConcurrencyStamp" nvarchar(max) NULL
);
2023-08-13 17:16:16.594 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" nvarchar(450) NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" nvarchar(256) NULL,
    "NormalizedName" nvarchar(256) NULL,
    "ConcurrencyStamp" nvarchar(max) NULL
);
2023-08-13 17:16:16.595 +01:00 [DBG] Disposing transaction.
2023-08-13 17:16:16.596 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:16.596 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:16.597 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:16:39.272 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:16:39.928 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:16:39.929 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:16:40.310 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:16:40.377 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.387 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.408 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.431 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:16:40.443 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-08-13 17:16:40.445 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.450 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.463 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:40.494 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:40.497 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.501 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.504 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.505 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.505 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:16:40.505 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:16:40.505 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.505 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.506 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:40.506 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:16:40.506 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.506 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.516 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:16:40.516 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:16:40.516 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.516 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.517 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:16:40.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:16:40.520 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:16:40.520 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.520 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.536 +01:00 [INF] Applying migration '20230813161557_lite'.
2023-08-13 17:16:40.686 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.686 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.688 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:16:40.691 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:16:40.693 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:16:40.693 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:16:40.694 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "UserNameIndex";
2023-08-13 17:16:40.698 +01:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "UserNameIndex";
2023-08-13 17:16:40.700 +01:00 [DBG] Disposing transaction.
2023-08-13 17:16:40.701 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:16:40.701 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:16:40.703 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:18:52.767 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:18:53.356 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:18:53.358 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:18:53.746 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:18:53.800 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:18:53.800 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:18:53.964 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:18:53.969 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:18:54.079 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:19:03.158 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:19:04.099 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:19:04.100 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:19:04.392 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:19:04.447 +01:00 [DBG] Migrating using database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.455 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.469 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.487 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:19:04.496 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-08-13 17:19:04.497 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.501 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.508 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:19:04.527 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:19:04.529 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.532 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.533 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.534 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.534 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:19:04.534 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-08-13 17:19:04.534 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.534 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.534 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:19:04.534 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-08-13 17:19:04.535 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.535 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.540 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:04.540 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:04.540 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.540 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.541 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:19:04.541 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-08-13 17:19:04.543 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:04.543 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.543 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.553 +01:00 [INF] Applying migration '20230813161853_lite'.
2023-08-13 17:19:04.629 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.629 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.630 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:19:04.633 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:19:04.634 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.634 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.635 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 17:19:04.635 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2023-08-13 17:19:04.635 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.635 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.635 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 17:19:04.636 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "FirstName" TEXT NOT NULL,
    "LastName" TEXT NOT NULL,
    "ImageUrl" TEXT NULL,
    "IsKycComplete" INTEGER NOT NULL,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2023-08-13 17:19:04.636 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.636 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.636 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 17:19:04.636 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,
    "CategoryName" TEXT NOT NULL,
    "CategoryDescription" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 17:19:04.636 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.636 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.636 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 17:19:04.636 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "frequencies" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_frequencies" PRIMARY KEY,
    "FrequencyId" TEXT NOT NULL,
    "FrequencyName" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL
);
2023-08-13 17:19:04.636 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.636 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.636 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.636 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.636 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.636 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.636 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.636 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.636 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.637 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.637 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.637 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.637 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.637 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.637 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.637 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.637 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "kYCs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_kYCs" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Occupation" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "BVN" TEXT NOT NULL,
    "IdentityType" INTEGER NOT NULL,
    "DocumentImageUrl" TEXT NULL,
    "ProofOfAddress" TEXT NULL,
    CONSTRAINT "FK_kYCs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.637 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.637 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Wallets" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Wallets" PRIMARY KEY,
    "WalletId" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    CONSTRAINT "FK_Wallets_AspNetUsers_userId" FOREIGN KEY ("userId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.637 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.637 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.637 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.638 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavings" PRIMARY KEY,
    "UserId" TEXT NOT NULL,
    "CategoryId" TEXT NOT NULL,
    "SaveName" TEXT NOT NULL,
    "TargetAmount" TEXT NOT NULL,
    "TargetDate" TEXT NOT NULL,
    "CurrentAmount" TEXT NOT NULL,
    "AutoSave" INTEGER NOT NULL,
    "AutoSaveAmount" TEXT NOT NULL,
    "FrequencyId" TEXT NOT NULL,
    "MaxLimit" TEXT NOT NULL,
    "SavingsImageUrl" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_personalSavings_frequencies_FrequencyId" FOREIGN KEY ("FrequencyId") REFERENCES "frequencies" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.638 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.638 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.638 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.638 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WalletFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_WalletFundings" PRIMARY KEY,
    "walletId" TEXT NOT NULL,
    "Action" INTEGER NOT NULL,
    "Reference" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "CumulativeAmount" REAL NOT NULL,
    "Description" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    CONSTRAINT "FK_WalletFundings_Wallets_walletId" FOREIGN KEY ("walletId") REFERENCES "Wallets" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.638 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.638 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.638 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.638 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "personalSavingsFundings" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_personalSavingsFundings" PRIMARY KEY,
    "CreatedAt" TEXT NOT NULL,
    "ModifiedAt" TEXT NOT NULL,
    "ActionType" INTEGER NOT NULL,
    "Amount" TEXT NOT NULL,
    "CumulativeAmount" TEXT NOT NULL,
    "personalSavingId" TEXT NOT NULL,
    CONSTRAINT "FK_personalSavingsFundings_personalSavings_personalSavingId" FOREIGN KEY ("personalSavingId") REFERENCES "personalSavings" ("Id") ON DELETE CASCADE
);
2023-08-13 17:19:04.638 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.638 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.638 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 17:19:04.638 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-08-13 17:19:04.638 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.638 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.638 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 17:19:04.638 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-08-13 17:19:04.638 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.638 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.638 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_kYCs_UserId" ON "kYCs" ("UserId");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 17:19:04.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_CategoryId" ON "personalSavings" ("CategoryId");
2023-08-13 17:19:04.639 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.639 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 17:19:04.640 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_FrequencyId" ON "personalSavings" ("FrequencyId");
2023-08-13 17:19:04.640 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.640 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.640 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 17:19:04.640 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavings_UserId" ON "personalSavings" ("UserId");
2023-08-13 17:19:04.640 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.640 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.640 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 17:19:04.640 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_personalSavingsFundings_personalSavingId" ON "personalSavingsFundings" ("personalSavingId");
2023-08-13 17:19:04.640 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.640 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.640 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 17:19:04.640 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WalletFundings_walletId" ON "WalletFundings" ("walletId");
2023-08-13 17:19:04.640 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.640 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.640 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 17:19:04.640 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Wallets_userId" ON "Wallets" ("userId");
2023-08-13 17:19:04.640 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-08-13 17:19:04.640 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-08-13 17:19:04.640 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813161853_lite', '6.0.20');
2023-08-13 17:19:04.640 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230813161853_lite', '6.0.20');
2023-08-13 17:19:04.641 +01:00 [DBG] Committing transaction.
2023-08-13 17:19:04.655 +01:00 [DBG] Committed transaction.
2023-08-13 17:19:04.656 +01:00 [DBG] Disposing transaction.
2023-08-13 17:19:04.656 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:04.656 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:04.657 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:19:34.372 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-08-13 17:19:34.689 +01:00 [INF] User profile is available. Using 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-13 17:19:35.841 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-08-13 17:19:35.841 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-08-13 17:19:36.215 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:19:36.311 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:36.327 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:36.340 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-08-13 17:19:36.350 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-08-13 17:19:36.352 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:36.355 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:36.369 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 17:19:36.396 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2023-08-13 17:19:36.401 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:36.407 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:36.454 +01:00 [DBG] Compiling query expression: 
'DbSet<Frequency>()
    .Any()'
2023-08-13 17:19:36.793 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM frequencies AS f)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-08-13 17:19:36.853 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:36.853 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:36.853 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:36.853 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:36.855 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 17:19:36.857 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "frequencies" AS "f")
2023-08-13 17:19:36.867 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:36.867 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:36.867 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.156 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-08-13 17:19:37.294 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 17:19:37.341 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.341 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.352 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.354 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.362 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 17:19:37.377 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 17:19:37.384 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.394 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.396 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.505 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.516 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:19:37.519 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:19:37.531 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:19:37.555 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.555 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.558 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:19:37.564 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:19:37.627 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.628 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.628 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 17:19:37.628 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 5), @p3='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 17:19:37.632 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.639 +01:00 [DBG] Committing transaction.
2023-08-13 17:19:37.651 +01:00 [DBG] Committed transaction.
2023-08-13 17:19:37.657 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.657 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.661 +01:00 [DBG] Disposing transaction.
2023-08-13 17:19:37.672 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.674 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 17:19:37.678 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.678 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.678 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.678 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.678 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 17:19:37.678 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-08-13 17:19:37.678 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.678 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.678 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.678 +01:00 [DBG] Context 'SaviContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.678 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:19:37.678 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:19:37.683 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:19:37.683 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.683 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.683 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:19:37.683 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:19:37.683 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.683 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.683 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 17:19:37.684 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36), @p2='?' (Size = 7), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-08-13 17:19:37.684 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.684 +01:00 [DBG] Committing transaction.
2023-08-13 17:19:37.685 +01:00 [DBG] Committed transaction.
2023-08-13 17:19:37.685 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.685 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.685 +01:00 [DBG] Disposing transaction.
2023-08-13 17:19:37.685 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.685 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 17:19:37.747 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Category'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.767 +01:00 [DBG] Context 'SaviContext' started tracking 'Category' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.770 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.781 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.781 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.781 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.781 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Frequency'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.781 +01:00 [DBG] Context 'SaviContext' started tracking 'Frequency' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.781 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:19:37.781 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:19:37.788 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:19:37.788 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.788 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.788 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:19:37.788 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:19:37.790 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.790 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.790 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.790 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 22), @p2='?' (Size = 4), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "categories" ("Id", "CategoryDescription", "CategoryName", "CreatedAt", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.790 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.791 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.791 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.791 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.791 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 7), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.791 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.791 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.791 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.791 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.791 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 6), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.791 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.791 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:19:37.791 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:19:37.791 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.791 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (Size = 36), @p3='?' (Size = 5), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "frequencies" ("Id", "CreatedAt", "FrequencyId", "FrequencyName", "ModifiedAt")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-08-13 17:19:37.791 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:19:37.791 +01:00 [DBG] Committing transaction.
2023-08-13 17:19:37.797 +01:00 [DBG] Committed transaction.
2023-08-13 17:19:37.798 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:19:37.798 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:19:37.798 +01:00 [DBG] Disposing transaction.
2023-08-13 17:19:37.798 +01:00 [DBG] An entity of type 'Category' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.798 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.799 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.799 +01:00 [DBG] An entity of type 'Frequency' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:19:37.799 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 4 entities written to the database.
2023-08-13 17:19:37.801 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:19:37.836 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-08-13 17:19:37.873 +01:00 [DBG] Hosting starting
2023-08-13 17:19:37.875 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-2233cea8-8ad9-4f56-bb58-30e16e00e4d0.xml'.
2023-08-13 17:19:37.880 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-96cf26c6-6150-4a38-a968-bbbe32717644.xml'.
2023-08-13 17:19:37.881 +01:00 [DBG] Reading data from file 'C:\Users\alabi\AppData\Local\ASP.NET\DataProtection-Keys\key-ba4a300a-6c51-469e-b2e4-a9cd1daa9c85.xml'.
2023-08-13 17:19:37.889 +01:00 [DBG] Found key {2233cea8-8ad9-4f56-bb58-30e16e00e4d0}.
2023-08-13 17:19:37.894 +01:00 [DBG] Found key {96cf26c6-6150-4a38-a968-bbbe32717644}.
2023-08-13 17:19:37.895 +01:00 [DBG] Found key {ba4a300a-6c51-469e-b2e4-a9cd1daa9c85}.
2023-08-13 17:19:37.904 +01:00 [DBG] Considering key {96cf26c6-6150-4a38-a968-bbbe32717644} with expiration date 2023-10-26 20:18:55Z as default key.
2023-08-13 17:19:37.905 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 17:19:37.906 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-08-13 17:19:37.907 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-08-13 17:19:37.908 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-08-13 17:19:37.910 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-08-13 17:19:37.912 +01:00 [DBG] Using key {96cf26c6-6150-4a38-a968-bbbe32717644} as the default key.
2023-08-13 17:19:37.913 +01:00 [DBG] Key ring with default key {96cf26c6-6150-4a38-a968-bbbe32717644} was loaded during application startup.
2023-08-13 17:19:38.066 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 60B4004B0E7F50E239AF827782FF73E25B47E3DE)
2023-08-13 17:19:38.114 +01:00 [INF] Now listening on: https://localhost:7049
2023-08-13 17:19:38.114 +01:00 [INF] Now listening on: http://localhost:5159
2023-08-13 17:19:38.114 +01:00 [DBG] Loaded hosting startup assembly Savings-App
2023-08-13 17:19:38.114 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-08-13 17:19:38.115 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-08-13 17:19:38.115 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-13 17:19:38.115 +01:00 [INF] Hosting environment: Development
2023-08-13 17:19:38.115 +01:00 [INF] Content root path: C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\
2023-08-13 17:19:38.115 +01:00 [DBG] Hosting started
2023-08-13 17:19:38.460 +01:00 [DBG] Connection id "0HMSS34BN4SJ1" accepted.
2023-08-13 17:19:38.463 +01:00 [DBG] Connection id "0HMSS34BN4SJ1" received FIN.
2023-08-13 17:19:38.464 +01:00 [DBG] Connection id "0HMSS34BN4SJ1" started.
2023-08-13 17:19:38.480 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-08-13 17:19:38.524 +01:00 [DBG] Connection id "0HMSS34BN4SJ1" stopped.
2023-08-13 17:19:38.526 +01:00 [DBG] Connection id "0HMSS34BN4SJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-08-13 17:19:39.294 +01:00 [DBG] Connection id "0HMSS34BN4SJ2" accepted.
2023-08-13 17:19:39.329 +01:00 [DBG] Connection id "0HMSS34BN4SJ2" started.
2023-08-13 17:19:39.936 +01:00 [DBG] Connection 0HMSS34BN4SJ2 established using the following protocol: "Tls13"
2023-08-13 17:19:40.076 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/index.html - -
2023-08-13 17:19:40.148 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-08-13 17:19:40.240 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-08-13 17:19:40.240 +01:00 [DBG] Request did not match any endpoints
2023-08-13 17:19:40.433 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-08-13 17:19:40.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - -
2023-08-13 17:19:40.699 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-08-13 17:19:40.714 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/_vs/browserLink - -
2023-08-13 17:19:40.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/index.html - - - 200 - text/html;charset=utf-8 650.9089ms
2023-08-13 17:19:40.718 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 20.2835ms
2023-08-13 17:19:40.755 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.0480ms
2023-08-13 17:19:41.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - -
2023-08-13 17:19:41.112 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-08-13 17:19:41.113 +01:00 [DBG] Request did not match any endpoints
2023-08-13 17:19:41.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7049/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 426.1778ms
2023-08-13 17:19:42.441 +01:00 [DBG] Connection id "0HMSS34BN4SJ2" received FIN.
2023-08-13 17:19:42.442 +01:00 [DBG] Connection id "0HMSS34BN4SJ2" is closed. The last processed stream ID was 7.
2023-08-13 17:19:42.443 +01:00 [DBG] Connection id "0HMSS34BN4SJ2" sending FIN because: "The client closed the connection."
2023-08-13 17:19:42.445 +01:00 [DBG] Connection id "0HMSS34BN4SJ2" stopped.
2023-08-13 17:20:27.382 +01:00 [DBG] Connection id "0HMSS34BN4SJ3" accepted.
2023-08-13 17:20:27.390 +01:00 [DBG] Connection id "0HMSS34BN4SJ3" started.
2023-08-13 17:20:27.420 +01:00 [DBG] Connection 0HMSS34BN4SJ3 established using the following protocol: "Tls13"
2023-08-13 17:20:27.422 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138
2023-08-13 17:20:27.452 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 17:20:27.452 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 17:20:27.453 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:20:27.454 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 17:20:27.465 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 17:20:27.469 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:20:27.488 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 17:20:27.489 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 17:20:27.489 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 17:20:27.489 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 17:20:27.489 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 17:20:27.489 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 17:20:27.490 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 17:20:27.666 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:20:27.667 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 17:20:27.676 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 17:20:27.678 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 17:20:27.678 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 17:20:27.681 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000001": started reading request body.
2023-08-13 17:20:27.681 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000001": done reading request body.
2023-08-13 17:20:27.688 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 17:20:27.689 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:20:27.689 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:20:27.689 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 17:20:27.694 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:20:27.696 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 17:20:27.696 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 17:20:27.697 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:20:27.697 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:20:27.697 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 17:20:27.697 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:20:27.703 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-08-13 17:20:27.707 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 17:20:27.708 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:20:27.708 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:20:27.708 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:20:27.708 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:20:27.708 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 17:20:27.708 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 17:20:27.708 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:20:27.708 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:20:27.708 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:20:27.713 +01:00 [WRN] User password validation failed: PasswordRequiresDigit.
2023-08-13 17:20:27.715 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-08-13 17:20:27.718 +01:00 [DBG] No information found on request to perform content negotiation.
2023-08-13 17:20:27.718 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-08-13 17:20:27.718 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-08-13 17:20:27.719 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-08-13 17:20:27.719 +01:00 [INF] Executing ObjectResult, writing value of type 'SavingsApp.Data.Entities.DTOs.Response.APIResponse'.
2023-08-13 17:20:27.731 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 237.4622ms
2023-08-13 17:20:27.732 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:20:27.736 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:20:27.740 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138 - 500 - application/json;+charset=utf-8 317.3618ms
2023-08-13 17:21:00.260 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138
2023-08-13 17:21:00.268 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 17:21:00.269 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 17:21:00.269 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:21:00.269 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 17:21:00.269 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 17:21:00.269 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:21:00.269 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 17:21:00.270 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 17:21:00.270 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 17:21:00.270 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 17:21:00.270 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 17:21:00.270 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 17:21:00.270 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 17:21:00.347 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:21:00.347 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 17:21:00.347 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 17:21:00.347 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 17:21:00.347 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 17:21:00.347 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000003": started reading request body.
2023-08-13 17:21:00.347 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000003": done reading request body.
2023-08-13 17:21:00.347 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 17:21:00.347 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:21:00.347 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:21:00.347 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 17:21:00.348 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:21:00.348 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 17:21:00.348 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 17:21:00.348 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:21:00.348 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:21:00.348 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 17:21:00.348 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:21:00.349 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:00.349 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:00.349 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.349 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.349 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 17:21:00.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 17:21:00.349 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:00.349 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.349 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.371 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-08-13 17:21:00.374 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.FirstName (string) Required, 5], [Property: ApplicationUser.ImageUrl (string), 6], [Property: ApplicationUser.IsKycComplete (bool) Required, 7], [Property: ApplicationUser.LastName (string) Required, 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.SecurityStamp (string), 16], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 17], [Property: ApplicationUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.ImageUrl, a.IsKycComplete, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        SavingsApp.Data.Context.SaviContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-08-13 17:21:00.374 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:00.374 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:00.374 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.374 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.374 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 17:21:00.374 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 17:21:00.375 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:00.375 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.375 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.429 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:00.429 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:21:00.429 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:21:00.442 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:21:00.443 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.443 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.443 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:21:00.443 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:21:00.443 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:00.443 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:00.443 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 17:21:00.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 16), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 6), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 16), @p12='?' (Size = 16), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 17:21:00.444 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:00.444 +01:00 [DBG] Committing transaction.
2023-08-13 17:21:00.450 +01:00 [DBG] Committed transaction.
2023-08-13 17:21:00.451 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.451 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.451 +01:00 [DBG] Disposing transaction.
2023-08-13 17:21:00.452 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:00.452 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 17:21:00.454 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:00.478 +01:00 [DBG] The foreign key property 'Wallet.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-13 17:21:00.496 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:00.498 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:21:00.498 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:21:00.505 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:21:00.509 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.509 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.509 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:21:00.510 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:21:00.512 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:00.512 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:00.512 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 9), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 17:21:00.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 9), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 17:21:00.513 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:00.515 +01:00 [DBG] Committing transaction.
2023-08-13 17:21:00.518 +01:00 [DBG] Committed transaction.
2023-08-13 17:21:00.519 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:00.519 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:00.520 +01:00 [DBG] Disposing transaction.
2023-08-13 17:21:00.520 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:00.520 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 17:21:00.547 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 17:21:00.556 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkQKI5h5oc7UBLLlpFy3QONuv8zWGI3PikaZj2N%2Bv7AO1PRlMuruoGXDlZeczZGW39XTondFZhUvt65lrybnrMzaJoy%2BcdKVpFBZQUwFLe3wO%2FxldC%2BUlzzHjkwFMxtVablqUT2UTls49C6odbZVNV%2FqZ9yXabjn6LNiCLpNhiKdZhkf1W8hHpn6nQUNlFv9%2Bilw2pKfti%2BEYsnBhgVr3j0vRxnid38bpvY%2BnlH3GUJ87Q%3D%3D&email=user@example.com
2023-08-13 17:21:00.557 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkQKI5h5oc7UBLLlpFy3QONuv8zWGI3PikaZj2N%2Bv7AO1PRlMuruoGXDlZeczZGW39XTondFZhUvt65lrybnrMzaJoy%2BcdKVpFBZQUwFLe3wO%2FxldC%2BUlzzHjkwFMxtVablqUT2UTls49C6odbZVNV%2FqZ9yXabjn6LNiCLpNhiKdZhkf1W8hHpn6nQUNlFv9%2Bilw2pKfti%2BEYsnBhgVr3j0vRxnid38bpvY%2BnlH3GUJ87Q%3D%3D&email=user@example.com
2023-08-13 17:21:00.824 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 554.2614ms
2023-08-13 17:21:00.825 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:21:00.826 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 17:21:00.848 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:21:00.848 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 138 - 500 - text/plain;+charset=utf-8 588.1807ms
2023-08-13 17:21:18.080 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 136
2023-08-13 17:21:18.080 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/Register'
2023-08-13 17:21:18.080 +01:00 [DBG] Endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)' with route pattern 'api/Auth/Register' is valid for the request path '/api/Auth/Register'
2023-08-13 17:21:18.080 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:21:18.080 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 17:21:18.083 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 17:21:18.083 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:21:18.083 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SavingsApp.Data.Entities.DTOs.Request.SignUpDto, Boolean) on controller Savings_App.Controllers.AuthController (Savings-App).
2023-08-13 17:21:18.083 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 17:21:18.083 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 17:21:18.083 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 17:21:18.083 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 17:21:18.083 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 17:21:18.083 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 17:21:18.088 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:21:18.088 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.AuthController (Savings-App)
2023-08-13 17:21:18.088 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 17:21:18.088 +01:00 [DBG] Attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' using the name '' in request data ...
2023-08-13 17:21:18.088 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 17:21:18.088 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000005": started reading request body.
2023-08-13 17:21:18.088 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000005": done reading request body.
2023-08-13 17:21:18.088 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'
2023-08-13 17:21:18.088 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:21:18.088 +01:00 [DBG] Done attempting to bind parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:21:18.088 +01:00 [DBG] Attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto' ...
2023-08-13 17:21:18.088 +01:00 [DBG] Done attempting to validate the bound parameter 'regRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.SignUpDto'.
2023-08-13 17:21:18.088 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 17:21:18.088 +01:00 [DBG] Attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' using the name 'enableTwoFactorAuthentication' in request data ...
2023-08-13 17:21:18.088 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:21:18.088 +01:00 [DBG] Done attempting to bind parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:21:18.088 +01:00 [DBG] Attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean' ...
2023-08-13 17:21:18.088 +01:00 [DBG] Done attempting to validate the bound parameter 'enableTwoFactorAuthentication' of type 'System.Boolean'.
2023-08-13 17:21:18.088 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:18.089 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:18.089 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.089 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.089 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 17:21:18.089 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-13 17:21:18.089 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:18.089 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.089 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.093 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:18.093 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:18.093 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.093 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.093 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 17:21:18.094 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."ImageUrl", "a"."IsKycComplete", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-13 17:21:18.094 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:18.094 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.094 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.094 +01:00 [DBG] Context 'SaviContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:18.094 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:21:18.094 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:21:18.094 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:21:18.094 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.094 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.094 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:21:18.094 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:21:18.094 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:18.094 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:18.095 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 3), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 17), @p12='?' (Size = 17), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 17:21:18.095 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?' (DbType = Boolean), @p5='?' (Size = 5), @p6='?', @p7='?' (DbType = Boolean), @p8='?' (Size = 3), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 17), @p12='?' (Size = 17), @p13='?' (Size = 84), @p14='?' (Size = 10), @p15='?' (DbType = Boolean), @p16='?' (Size = 32), @p17='?' (DbType = Boolean), @p18='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "ImageUrl", "IsKycComplete", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2023-08-13 17:21:18.095 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:18.095 +01:00 [DBG] Committing transaction.
2023-08-13 17:21:18.102 +01:00 [DBG] Committed transaction.
2023-08-13 17:21:18.102 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.102 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.102 +01:00 [DBG] Disposing transaction.
2023-08-13 17:21:18.102 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:18.103 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 17:21:18.106 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.Wallet'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:18.106 +01:00 [DBG] The foreign key property 'Wallet.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-08-13 17:21:18.106 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:18.106 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:21:18.106 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:21:18.106 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:21:18.106 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.106 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.106 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:21:18.107 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:21:18.107 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:21:18.107 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:21:18.107 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 9), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 17:21:18.107 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 9), @p5='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Wallets" ("Id", "Balance", "CreatedAt", "ModifiedAt", "WalletId", "userId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-13 17:21:18.107 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:21:18.107 +01:00 [DBG] Committing transaction.
2023-08-13 17:21:18.109 +01:00 [DBG] Committed transaction.
2023-08-13 17:21:18.109 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:21:18.109 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:21:18.109 +01:00 [DBG] Disposing transaction.
2023-08-13 17:21:18.109 +01:00 [DBG] An entity of type 'Wallet' tracked by 'SaviContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:21:18.109 +01:00 [DBG] SaveChanges completed for 'SaviContext' with 1 entities written to the database.
2023-08-13 17:21:18.110 +01:00 [DBG] Found the endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-08-13 17:21:18.110 +01:00 [DBG] Successfully processed template api/Auth/ConfirmEmail for Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App) resulting in /api/Auth/ConfirmEmail and ?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkS49yk80VEpKLVvUndqk4pJGpzsrriayGz6Uuhix0%2BAvj%2FyEBnvd1aXd0GGipJmksShZO02oQa6jCRvJK6KppnF%2FIQgVT5pvd9IdXUxX%2FlLsjT7Xue9jwDwQMEUz2cMhC3oF8boKszpTtJzC3eUsdPE1ThaMj%2B0JY1uv390ZjpVJ6cgs2X%2Bw1B%2F8gKg5FO8wm3aRJiy%2FDMRU1IaAOcJzxPPobcmBoWBRvVdndr8HeET8w%3D%3D&email=user1@example.com
2023-08-13 17:21:18.110 +01:00 [DBG] Link generation succeeded for endpoints ["Savings_App.Controllers.AuthController.ConfirmEmail (Savings-App)"] with result /api/Auth/ConfirmEmail?token=CfDJ8MYmz5ZQYThKqWi7vjJxdkS49yk80VEpKLVvUndqk4pJGpzsrriayGz6Uuhix0%2BAvj%2FyEBnvd1aXd0GGipJmksShZO02oQa6jCRvJK6KppnF%2FIQgVT5pvd9IdXUxX%2FlLsjT7Xue9jwDwQMEUz2cMhC3oF8boKszpTtJzC3eUsdPE1ThaMj%2B0JY1uv390ZjpVJ6cgs2X%2Bw1B%2F8gKg5FO8wm3aRJiy%2FDMRU1IaAOcJzxPPobcmBoWBRvVdndr8HeET8w%3D%3D&email=user1@example.com
2023-08-13 17:21:18.188 +01:00 [INF] Executed action Savings_App.Controllers.AuthController.Register (Savings-App) in 105.2239ms
2023-08-13 17:21:18.189 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.AuthController.Register (Savings-App)'
2023-08-13 17:21:18.190 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, ValueStopwatch stopwatch)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress, AddressFamily family)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.Connect(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetwork(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.Connect(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at MailKit.MailService.Connect(String host, Int32 port, Boolean useSsl, CancellationToken cancellationToken)
   at SavingsApp.Core.Services.Implementations.EmailService.Send(MimeMessage mailMessage) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 53
   at SavingsApp.Core.Services.Implementations.EmailService.SendEmail(Message message) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\EmailService.cs:line 22
   at Savings_App.Controllers.AuthController.Register(SignUpDto regRequest, Boolean enableTwoFactorAuthentication) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\AuthController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 17:21:18.193 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:21:18.193 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Auth/Register?enableTwoFactorAuthentication=false application/json 136 - 500 - text/plain;+charset=utf-8 113.8968ms
2023-08-13 17:22:45.078 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 87
2023-08-13 17:22:45.081 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 17:22:45.083 +01:00 [DBG] Endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)' with route pattern 'api/Payment/Transfer-To-Wallet' is valid for the request path '/api/Payment/Transfer-To-Wallet'
2023-08-13 17:22:45.083 +01:00 [DBG] Request matched endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 17:22:45.083 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-08-13 17:22:45.083 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-08-13 17:22:45.087 +01:00 [INF] Executing endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 17:22:45.108 +01:00 [INF] Route matched with {action = "TransferToWallet", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TransferToWallet(SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest) on controller Savings_App.Controllers.PaymentController (Savings-App).
2023-08-13 17:22:45.108 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-08-13 17:22:45.108 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-08-13 17:22:45.108 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-08-13 17:22:45.109 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-08-13 17:22:45.109 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-08-13 17:22:45.109 +01:00 [DBG] Executing controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 17:22:45.109 +01:00 [INF] Entity Framework Core 6.0.20 initialized 'SaviContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.20' with options: None
2023-08-13 17:22:45.110 +01:00 [DBG] Executed controller factory for controller Savings_App.Controllers.PaymentController (Savings-App)
2023-08-13 17:22:45.110 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 17:22:45.110 +01:00 [DBG] Attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' using the name '' in request data ...
2023-08-13 17:22:45.110 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-08-13 17:22:45.111 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000007": started reading request body.
2023-08-13 17:22:45.111 +01:00 [DBG] Connection id "0HMSS34BN4SJ3", Request id "0HMSS34BN4SJ3:00000007": done reading request body.
2023-08-13 17:22:45.112 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'
2023-08-13 17:22:45.112 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 17:22:45.112 +01:00 [DBG] Done attempting to bind parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 17:22:45.112 +01:00 [DBG] Attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest' ...
2023-08-13 17:22:45.114 +01:00 [DBG] Done attempting to validate the bound parameter 'transferRequest' of type 'SavingsApp.Data.Entities.DTOs.Request.TransferToWalletRequest'.
2023-08-13 17:22:54.422 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __senderWalletId_0)
    .FirstOrDefault()'
2023-08-13 17:22:54.430 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__senderWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 17:22:54.433 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:22:54.433 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:22:54.433 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.433 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.433 +01:00 [DBG] Executing DbCommand [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 17:22:54.433 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__senderWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__senderWalletId_0
LIMIT 1
2023-08-13 17:22:54.436 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:22:54.436 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.437 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.437 +01:00 [DBG] Compiling query expression: 
'DbSet<Wallet>()
    .AsNoTracking()
    .Where(W => W.WalletId == __receiverWalletId_0)
    .FirstOrDefault()'
2023-08-13 17:22:54.438 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Wallet>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Wallet.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Wallet.Balance (double) Required, 1], [Property: Wallet.CreatedAt (DateTime) Required, 2], [Property: Wallet.ModifiedAt (DateTime) Required, 3], [Property: Wallet.WalletId (string) Required, 4], [Property: Wallet.userId (string) Required FK Index, 5] }
        SELECT TOP(1) w.Id, w.Balance, w.CreatedAt, w.ModifiedAt, w.WalletId, w.userId
        FROM Wallets AS w
        WHERE w.WalletId == @__receiverWalletId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Wallet>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 17:22:54.438 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:22:54.438 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:22:54.438 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.438 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.438 +01:00 [DBG] Executing DbCommand [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 17:22:54.439 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__receiverWalletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Balance", "w"."CreatedAt", "w"."ModifiedAt", "w"."WalletId", "w"."userId"
FROM "Wallets" AS "w"
WHERE "w"."WalletId" = @__receiverWalletId_0
LIMIT 1
2023-08-13 17:22:54.439 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:22:54.439 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.439 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.441 +01:00 [DBG] Compiling query expression: 
'DbSet<WalletFunding>()
    .Where(wf => wf.walletId == __walletId_0)
    .OrderByDescending(wf => wf.ModifiedAt)
    .FirstOrDefault()'
2023-08-13 17:22:54.450 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<WalletFunding>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: WalletFunding.Id (string) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: WalletFunding.Action (ActionType) Required, 1], [Property: WalletFunding.Amount (double) Required, 2], [Property: WalletFunding.CreatedAt (DateTime) Required, 3], [Property: WalletFunding.CumulativeAmount (double) Required, 4], [Property: WalletFunding.Description (string) Required, 5], [Property: WalletFunding.ModifiedAt (DateTime) Required, 6], [Property: WalletFunding.Reference (string) Required, 7], [Property: WalletFunding.walletId (string) Required FK Index, 8] }
        SELECT TOP(1) w.Id, w.Action, w.Amount, w.CreatedAt, w.CumulativeAmount, w.Description, w.ModifiedAt, w.Reference, w.walletId
        FROM WalletFundings AS w
        WHERE w.walletId == @__walletId_0
        ORDER BY w.ModifiedAt DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, WalletFunding>, 
    SavingsApp.Data.Context.SaviContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-08-13 17:22:54.451 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:22:54.451 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:22:54.451 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 17:22:54.451 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 17:22:54.451 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:22:54.451 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:22:54.451 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:22:54.451 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Executing DbCommand [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 17:22:54.451 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__walletId_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "w"."Id", "w"."Action", "w"."Amount", "w"."CreatedAt", "w"."CumulativeAmount", "w"."Description", "w"."ModifiedAt", "w"."Reference", "w"."walletId"
FROM "WalletFundings" AS "w"
WHERE "w"."walletId" = @__walletId_0
ORDER BY "w"."ModifiedAt" DESC
LIMIT 1
2023-08-13 17:22:54.451 +01:00 [DBG] A data reader was disposed.
2023-08-13 17:22:54.451 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.451 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.453 +01:00 [DBG] 'SaviContext' generated a value for the property 'Id.WalletFunding'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:22:54.474 +01:00 [DBG] Context 'SaviContext' started tracking 'WalletFunding' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:22:54.480 +01:00 [DBG] Context 'SaviContext' started tracking 'Wallet' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-08-13 17:22:54.480 +01:00 [DBG] SaveChanges starting for 'SaviContext'.
2023-08-13 17:22:54.480 +01:00 [DBG] DetectChanges starting for 'SaviContext'.
2023-08-13 17:22:54.488 +01:00 [DBG] DetectChanges completed for 'SaviContext'.
2023-08-13 17:22:54.489 +01:00 [DBG] Opening connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.489 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.489 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-08-13 17:22:54.489 +01:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-08-13 17:22:54.500 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-08-13 17:22:54.500 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-08-13 17:22:54.502 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 17:22:54.509 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (Size = 27), @p6='?' (DbType = DateTime), @p7='?' (Size = 39), @p8='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "WalletFundings" ("Id", "Action", "Amount", "CreatedAt", "CumulativeAmount", "Description", "ModifiedAt", "Reference", "walletId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-08-13 17:22:54.515 +01:00 [DBG] Disposing transaction.
2023-08-13 17:22:54.516 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Savi.db'.
2023-08-13 17:22:54.516 +01:00 [DBG] Closed connection to database 'main' on server 'Savi.db'.
2023-08-13 17:22:54.521 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'SavingsApp.Data.Context.SaviContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-13 17:22:54.600 +01:00 [INF] Executed action Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App) in 9490.9719ms
2023-08-13 17:22:54.600 +01:00 [INF] Executed endpoint 'Savings_App.Controllers.PaymentController.TransferToWallet (Savings-App)'
2023-08-13 17:22:54.602 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (An error occurred while saving the entity changes. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at SavingsApp.Data.Repositories.WalletRepository.Update(Wallet wallet) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Data\Repositories\WalletRepository.cs:line 20
   at SavingsApp.Core.Services.Implementations.PaystackService.TransferToWallet(String senderWalletId, String receiverWalletId, Double amount) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\SavingsApp.Core\Services\Implementations\PaystackService.cs:line 228
   at Savings_App.Controllers.PaymentController.TransferToWallet(TransferToWalletRequest transferRequest) in C:\Users\alabi\Desktop\OnBoard\SavingsApp\Savings-App\Controllers\PaymentController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-13 17:22:54.618 +01:00 [DBG] 'SaviContext' disposed.
2023-08-13 17:22:54.618 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7049/api/Payment/Transfer-To-Wallet application/json 87 - 500 - text/plain;+charset=utf-8 9539.9676ms
